// ==UserScript==
// @name         Tieba Remix
// @namespace    https://github.com/HacksawBlade/Tieba-Remix
// @version      0.4.5-beta
// @author       锯条
// @description  贴吧网页端重塑
// @license      MIT
// @icon         https://gitee.com/HacksawBlade/Tieba-Remix/raw/master/assets/images/main/icon16.png
// @icon64       https://gitee.com/HacksawBlade/Tieba-Remix/raw/master/assets/images/main/icon64.png
// @downloadURL  https://gitee.com/HacksawBlade/Tieba-Remix/raw/beta/build/tieba-remix.user.js
// @updateURL    https://gitee.com/HacksawBlade/Tieba-Remix/raw/beta/build/tieba-remix.user.js
// @match        *://tieba.baidu.com/
// @match        *://tieba.baidu.com/index.*
// @match        *://tieba.baidu.com/?*
// @match        *://tieba.baidu.com/p/*
// @match        *://tieba.baidu.com/f?*
// @match        *://jump.bdimg.com/safecheck/*
// @match        *://jump2.bdimg.com/safecheck/*
// @require      https://fastly.jsdelivr.net/npm/vue@3.5.13/dist/vue.global.prod.js
// @require      https://fastly.jsdelivr.net/npm/marked@9.1.6/lib/marked.umd.min.js
// @require      https://fastly.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js
// @grant        GM_addStyle
// @grant        GM_deleteValue
// @grant        GM_getValue
// @grant        GM_info
// @grant        GM_listValues
// @grant        GM_openInTab
// @grant        GM_setValue
// @run-at       document-start
// ==/UserScript==

(e=>{if(typeof GM_addStyle=="function"){GM_addStyle(e);return}const t=document.createElement("style");t.textContent=e,document.head.append(t)})(' @charset "UTF-8";.user-button{box-sizing:border-box;padding:4px 12px;border:none;border-radius:6px;background:none;background-color:var(--default-background);box-shadow:0 0 0 1px var(--border-color);color:var(--default-fore);cursor:pointer;transition:var(--default-duration)}.user-button:hover:not([disabled]){background-color:var(--default-hover)}.user-button:active:not([disabled]){background-color:var(--default-active)}.user-button:focus:not([disabled]){border-color:var(--tieba-theme-color);box-shadow:0 0 0 2px var(--tieba-theme-color)}.theme-style.user-button{color:var(--default-background)!important}.theme-style.user-button{background-color:var(--tieba-theme-color)}.theme-style.user-button:hover{background-color:var(--tieba-theme-hover)}.theme-style.user-button:active{background-color:var(--tieba-theme-active)}.unset-background.user-button{background-color:transparent;background-color:initial}.no-border.user-button,.no-border-all.user-button{box-shadow:none}.no-border-all.user-button:hover,.no-border-all.user-button:focus{box-shadow:none}@keyframes stretch-574dd812{0%{padding:0 12px;opacity:0}50%{opacity:1}to{padding:8px 12px}}.check[data-v-574dd812]{color:var(--level-green-fore)}.warning[data-v-574dd812]{color:var(--warning-color)}.error[data-v-574dd812]{color:var(--error-color)}.toast-container[data-v-574dd812]{position:fixed;z-index:999;bottom:96px;left:50%;display:flex;max-height:60vh;align-items:center;padding:8px 12px;border:1px solid var(--border-color);border-radius:16px;animation:stretch-574dd812 .4s cubic-bezier(.18,.89,.32,1.6);background-color:var(--default-background);box-shadow:0 10px 24px #0003;gap:6px;text-overflow:ellipsis;transform:translate(-50%);transition:var(--default-transition)}.toast-container .toast-icon[data-v-574dd812]{font-size:18px}.toast-container .toast-content[data-v-574dd812]{overflow:hidden;max-width:80vw;max-height:60vh;padding:0 6px;text-align:left;text-overflow:ellipsis;white-space:pre-wrap}.toast-container span[data-v-574dd812]{color:var(--minimal-fore);font-size:12px}.toast-container .toast-controls .close-button[data-v-574dd812]{padding:6px;color:var(--error-color);font-weight:700}.toast-container .toast-controls .close-button[data-v-574dd812]:not(:active):not(:focus){box-shadow:none}.blur-effect[data-v-574dd812]{background-color:var(--trans-default-background)}html:not([perf-saver]) .blur-effect[data-v-574dd812]{-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}html.dark-theme .blur-effect[data-v-574dd812]{-webkit-backdrop-filter:blur(24px) brightness(.8);backdrop-filter:blur(24px) brightness(.8)}@keyframes kf-fade-in{0%{opacity:0}to{opacity:1}}@keyframes kf-fade-out{0%{opacity:1}to{opacity:0}}@keyframes kf-slide-in{0%{opacity:0;transform:translateY(20%)}}@keyframes kf-slide-out{to{opacity:0;transform:translateY(20%)}}@keyframes kf-dialog-in{0%{opacity:0;transform:scale(1.2)}to{opacity:1;transform:scale(1)}}@keyframes kf-dialog-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(1.2)}}@keyframes kf-zoom-in{0%{transform:scale(.72)}to{transform:scale(1)}}@keyframes kf-fade-zoom-in{0%{opacity:0;transform:scale(.72)}to{opacity:1;transform:scale(1)}}@font-face{font-family:Material Symbols;font-style:normal;font-weight:200 400;src:url(https://fonts.gstatic.com/s/materialsymbolsoutlined/v110/kJEhBvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oFsI.woff2) format("woff2")}.material-symbols-outlined{display:inline-block;direction:ltr;font-family:Material Symbols;font-size:24px;-webkit-font-smoothing:antialiased;font-style:normal;font-weight:400;letter-spacing:normal;line-height:1;text-transform:none;white-space:nowrap;word-wrap:normal}:root{--img-tieba-icon: url(https://gitee.com/HacksawBlade/Tieba-Remix/raw/master/assets/images/main/icon.png)}.dark-theme{--default-background: rgb(32, 32, 32);--default-hover: rgb(42, 42, 42);--default-active: rgb(54, 54, 54);--page-background: rgb(26, 26, 26);--trans-page-background: rgba(26, 26, 26, .6);--trans-default-background: rgba(32, 32, 32, .6);--deep-background: rgb(26, 26, 26);--trans-deep-background: rgba(20, 20, 20, .6);--light-background: rgb(60, 60, 60);--trans-light-background: rgba(60, 60, 60, .6);--very-light-background: rgb(60, 60, 60);--elem-color: rgb(26, 26, 26);--default-fore: rgb(230, 230, 230);--light-fore: rgb(200, 200, 200);--minimal-fore: rgb(144, 144, 144);--highlight-fore: rgb(255, 255, 255);--border-color: rgba(96, 96, 96, .6);--light-border-color: rgba(96, 96, 96, .2);--tieba-theme-color: rgb(113, 97, 193);--trans-tieba-theme-color: rgba(113, 97, 193, .6);--tieba-theme-hover: rgb(149, 128, 254);--tieba-theme-active: rgb(172, 156, 253);--tieba-theme-background: rgba(113, 97, 193, .2);--tieba-theme-fore: rgb(150, 128, 255);--level-green-background: rgba(96, 153, 59, .1);--level-green-fore: rgb(133, 206, 84);--level-blue-background: rgba(0, 165, 227, .1);--level-blue-fore: rgb(0, 169, 255);--level-yellow-background: rgba(229, 193, 90, .1);--level-yellow-fore: rgb(242, 205, 96);--level-orange-background: rgba(204, 122, 0, .1);--level-orange-fore: rgb(255, 170, 0);--check-color: lawngreen;--error-color: tomato;--warning-color: orange;color-scheme:dark}.light-theme{--default-background: rgb(255, 255, 255);--default-hover: rgb(240, 240, 240);--default-active: rgb(224, 224, 224);--page-background: rgb(245, 245, 245);--trans-page-background: rgba(245, 245, 245, .6);--trans-default-background: rgba(255, 255, 255, .6);--deep-background: rgb(228, 228, 228);--trans-deep-background: rgba(200, 200, 200, .6);--light-background: rgb(235, 235, 235);--trans-light-background: rgba(228, 228, 228, .6);--very-light-background: rgb(245, 245, 245);--elem-color: rgb(240, 240, 240);--default-fore: rgb(16, 16, 16);--light-fore: rgb(64, 64, 64);--minimal-fore: rgb(92, 92, 92);--highlight-fore: rgb(0, 0, 0);--border-color: rgba(210, 210, 210, .6);--light-border-color: rgba(210, 210, 210, .2);--tieba-theme-color: rgb(97, 78, 194);--trans-tieba-theme-color: rgba(97, 78, 194, .6);--tieba-theme-hover: rgb(119, 105, 194);--tieba-theme-active: rgb(150, 134, 232);--tieba-theme-background: rgba(97, 78, 194, .2);--tieba-theme-fore: rgb(58, 46, 116);--level-green-background: rgba(84, 130, 53, .1);--level-green-fore: rgb(51, 78, 32);--level-blue-background: rgba(0, 153, 213, .1);--level-blue-fore: rgb(0, 81, 111);--level-yellow-background: rgba(164, 139, 63, .1);--level-yellow-fore: rgb(124, 105, 46);--level-orange-background: rgba(255, 153, 0, .1);--level-orange-fore: rgb(178, 104, 0);--check-color: green;--error-color: darkred;--warning-color: darkorange;color-scheme:"light"}:root{--xfast-duration: .1s;--fast-duration: .2s;--default-duration: .4s;--slow-duration: .6s;--xslow-duration: .8s}.user-dialog-modal[data-v-90ab33e5]{position:fixed;z-index:var(--aa5a1948);display:flex;width:100%;height:100%;flex-direction:column;align-items:center;justify-content:center;background-color:#00000080;top:0;right:0;bottom:0;left:0}.user-dialog-modal .user-dialog.default[data-v-90ab33e5]{box-shadow:0 0 10px #00000003;display:flex;max-height:calc(100% - 32px);box-sizing:border-box;flex-direction:column;border:1px solid var(--light-border-color);border-radius:12px;margin:16px;background-color:var(--default-background);font-size:16px;transition:var(--default-duration)}html.dark-theme .user-dialog-modal .user-dialog.default[data-v-90ab33e5]{box-shadow:0 0 16px #0003}.user-dialog-modal .user-dialog.dialog-enter-active[data-v-90ab33e5]{animation:var(--700337ac)}.user-dialog-modal .user-dialog.dialog-leave-active[data-v-90ab33e5]{animation:var(--e33c663e)}.user-dialog-modal .user-dialog.default.force-alert[data-v-90ab33e5]{box-shadow:0 0 0 2px var(--error-color)!important}.user-dialog-modal .user-dialog .dialog-title[data-v-90ab33e5]{padding:16px 16px 0;color:var(--highlight-fore);font-size:22px;font-weight:700}.user-dialog-modal .user-dialog .dialog-content[data-v-90ab33e5]{flex-grow:1;padding:16px;overflow-y:auto}.user-dialog-modal .user-dialog .dialog-button-panel[data-v-90ab33e5]{display:flex;padding:16px;border-radius:0 0 12px 12px;background-color:var(--deep-background);gap:8px}.user-dialog-modal .user-dialog .dialog-button-panel .dialog-button[data-v-90ab33e5]{flex-grow:1;padding:6px 16px;font-size:14px}.message-wrapper[data-v-00caa275]{display:flex;overflow-x:hidden;overflow-y:auto;overflow:hidden auto;flex-direction:column}.block-panel{display:flex;min-width:30px;height:26px;align-items:center;justify-content:center;padding:2px 8px;border-radius:24px;background-color:var(--trans-light-background);font-size:14px;text-align:center}.block-panel .icon{color:var(--light-fore);font-size:18px}.block-panel .panel-button{border:none!important}.block-panel .panel-button{width:30px;height:30px;padding:4px;border-radius:48px}.block-panel.left-align{margin-left:0}#header-progress[data-v-782eb887]{position:fixed;z-index:99999;top:0;max-width:100vw;height:4px;background-color:var(--tieba-theme-color);transition:.4s}#header-progress.complete[data-v-782eb887]{animation:kf-fade-out var(--xslow-duration) forwards}.toggle-button[data-v-6728dba5]{color:var(--default-fore)}.toggle-button .icon[data-v-6728dba5],.toggle-button .outline-icon[data-v-6728dba5]{color:var(--minimal-fore)}.toggle-button.toggle-on[data-v-6728dba5]{background-color:var(--tieba-theme-color);color:var(--default-background)}.images-viewer .head-controls .head-btn.toggle-on[data-v-dba090e8]{font-family:Material Symbols,monospace!important}.images-viewer .head-controls .head-btn.toggle-on[data-v-dba090e8]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}.images-viewer[data-v-dba090e8]{position:fixed;display:flex;width:100%;height:100%;flex-direction:column;align-items:center;justify-content:center;top:0;right:0;bottom:0;left:0;transition:var(--default-duration)}.images-viewer .icon[data-v-dba090e8]{color:var(--light-fore)}.images-viewer .control-panel[data-v-dba090e8]{position:absolute;display:flex;align-items:center;padding:10px;border:1px solid var(--light-border-color);border-radius:18px;background-color:var(--trans-default-background);box-shadow:0 0 32px #0006}html:not([perf-saver]) .images-viewer .control-panel[data-v-dba090e8]{-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}html.dark-theme .images-viewer .control-panel[data-v-dba090e8]{-webkit-backdrop-filter:blur(24px) brightness(.8);backdrop-filter:blur(24px) brightness(.8)}.images-viewer .head-controls[data-v-dba090e8]{top:16px;margin-bottom:auto;transition:var(--default-duration)}.images-viewer .head-controls.hide[data-v-dba090e8]{box-shadow:none;transform:translateY(calc(-100% - 16px))}.images-viewer .head-controls .head-btn[data-v-dba090e8]{width:36px;height:36px;padding:0;border-radius:12px;background-color:transparent;background-color:initial;box-shadow:none;font-size:16px}.images-viewer .head-controls .head-btn[data-v-dba090e8]:hover{background-color:var(--default-background);color:var(--tieba-theme-color)}.images-viewer .head-controls .head-btn.toggle-on[data-v-dba090e8]{background-color:var(--tieba-theme-color);color:var(--default-background)}.images-viewer .head-controls .head-btn.toggle-on[data-v-dba090e8]:hover{filter:brightness(1.2)}.images-viewer .head-controls .close[data-v-dba090e8]:hover{color:var(--error-color)}.images-viewer .head-controls span[data-v-dba090e8]{color:var(--minimal-fore);font-family:var(--code-monospace)}.images-viewer .head-controls .zoom-size[data-v-dba090e8]{padding:10px}.images-viewer .back[data-v-dba090e8],.images-viewer .forward[data-v-dba090e8]{height:60px;box-shadow:0 0 20px #0000001a;font-size:large}.images-viewer .back[data-v-dba090e8]{left:32px}.images-viewer .back.hide[data-v-dba090e8]{box-shadow:none;transform:translate(calc(-100% - 32px))}.images-viewer .forward[data-v-dba090e8]{right:32px}.images-viewer .forward.hide[data-v-dba090e8]{box-shadow:none;transform:translate(calc(100% + 32px))}.images-viewer .back[data-v-dba090e8]:hover,.images-viewer .forward[data-v-dba090e8]:hover{background-color:var(--default-background)}.images-viewer .back[data-v-dba090e8]:focus,.images-viewer .forward[data-v-dba090e8]:focus{box-shadow:0 0 0 2px var(--tieba-theme-color)}.images-viewer .image-container[data-v-dba090e8]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.images-viewer .image-container .curr-image[data-v-dba090e8]{position:absolute;-o-object-fit:contain;object-fit:contain}.images-viewer .image-container .curr-image.changing[data-v-dba090e8]{display:none;transition:none}.images-viewer .bottom-controls[data-v-dba090e8]{bottom:16px;display:flex;margin-top:auto;gap:4px;transition:var(--default-duration)}.images-viewer .bottom-controls.hide[data-v-dba090e8]{box-shadow:none;transform:translateY(calc(100% + 16px))}.images-viewer .bottom-controls .bottom-btn[data-v-dba090e8]{overflow:hidden;width:100px;height:75px;padding:0;border:none;border-radius:10px;background-color:var(--trans-default-background);transition:linear var(--xfast-duration)}.images-viewer .bottom-controls .bottom-btn .image-list[data-v-dba090e8]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.images-viewer .bottom-controls .bottom-btn.selected[data-v-dba090e8]{border:3px solid var(--tieba-theme-color)}.user-check[data-v-b5077da8]{display:flex;align-items:center}.user-check .check-button[data-v-b5077da8]{width:16px;min-width:16px;height:16px;min-height:16px;padding:0;border-radius:4px;color:var(--tieba-theme-color);font-size:14px;font-weight:700}.user-check .check-label[data-v-b5077da8]{display:flex;align-items:center;color:var(--light-fore);cursor:pointer;font-size:16px}.user-check .label-text[data-v-b5077da8]{padding-left:6px}.user-textbox[data-v-a690d550]{box-sizing:border-box;padding:4px;border:2px solid var(--border-color);border-radius:6px;background-color:var(--default-background);outline:none;transition:all var(--default-duration),width 0s,height 0s}.user-textbox[data-v-a690d550]:hover{border-color:var(--light-background)}.user-textbox[data-v-a690d550]:focus{border-color:var(--tieba-theme-color)}.lodash-style.user-textbox[data-v-a690d550]{padding:0;border:none;border-radius:0;border-bottom:2px solid var(--border-color)}#shield-editor[data-v-336c791d]{display:flex;flex-direction:column;gap:10px}#shield-editor #shield-editor-rule-control[data-v-336c791d]{display:flex;align-items:flex-start;gap:6px}#shield-editor #shield-editor-rule-control #shield-editor-rule[data-v-336c791d]{flex:1;font-size:16px}#shield-editor #shield-editor-rule-control label[data-v-336c791d]{color:var(--light-fore)}#shield-editor #shield-editor-toggle-control[data-v-336c791d]{display:flex;align-items:center;gap:16px}#shield-editor #shield-editor-delete[data-v-336c791d]{padding:6px 8px;background-color:var(--error-color);color:var(--default-background)}.shield-container[data-v-445ab3b9]{display:flex;width:100%;flex-direction:column;gap:16px}.shield-container .words-container[data-v-445ab3b9]{display:flex;flex-wrap:wrap;padding:12px;border-radius:12px;background-color:var(--trans-light-background);gap:4px}.shield-container .words-container .shield-elem[data-v-445ab3b9]{display:flex;align-items:center;padding:4px 8px;border:none;border-radius:8px;font-size:14px;gap:4px}.shield-container .words-container .shield-elem.disabled[data-v-445ab3b9]{opacity:.5}.shield-container .words-container .shield-elem.disabled .content[data-v-445ab3b9]{-webkit-text-decoration:line-through;text-decoration:line-through}.shield-container .words-container .shield-elem .icon[data-v-445ab3b9]{color:var(--light-fore)}.shield-container .words-container .remove-all[data-v-445ab3b9]{background-color:var(--error-color);color:var(--default-background);font-variation-settings:"FILL" 0}.shield-container .empty-list-container[data-v-445ab3b9]{color:var(--minimal-fore)}.shield-container .shield-controls[data-v-445ab3b9]{display:flex;flex-direction:column;gap:8px}.shield-container .shield-controls .shield-input[data-v-445ab3b9]{width:100%;height:auto;max-height:6em;box-sizing:border-box;padding:6px;font-size:16px;resize:none}.shield-container .shield-controls .submit-controls[data-v-445ab3b9]{display:flex;align-items:center;justify-content:flex-end;gap:12px}.shield-container .shield-controls .submit-controls .submit-button[data-v-445ab3b9]{padding:4px 12px;font-size:14px;font-weight:700}.post-container .bottom-controls .replies[data-v-79da9835]:before{font-family:Material Symbols,monospace!important}.post-container .bottom-controls .replies[data-v-79da9835]:before{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}a[data-v-79da9835]{color:inherit;-webkit-text-decoration:none;text-decoration:none}p[data-v-79da9835]{margin:0}img[data-v-79da9835]:before{display:block;width:100%;height:100%;box-sizing:border-box;background-color:var(--light-background);content:""}.dynamic .img-button[data-v-79da9835]{min-width:30%!important;flex:initial!important;flex-grow:1!important}.post-container[data-v-79da9835]{display:flex;width:100%;box-sizing:border-box;flex-direction:column;padding:16px;border-radius:16px;background-color:var(--default-background);cursor:pointer;gap:20px;text-align:justify}.post-container .forum-btn[data-v-79da9835]{border-radius:24px;font-size:14px}.post-container .forum-btn[data-v-79da9835]:not(:hover):not(:active):not(:focus){background-color:var(--light-background);box-shadow:none}.post-container .main-content[data-v-79da9835]{display:flex;flex-direction:column;gap:8px}.post-container .main-content .title[data-v-79da9835]{margin:0;color:var(--highlight-fore);font-weight:700}.post-container .main-content .content[data-v-79da9835]{overflow:hidden;color:var(--light-fore);font-size:14px;text-overflow:ellipsis}.post-container .img-container[data-v-79da9835]{display:flex;overflow:hidden;flex-wrap:wrap;border-radius:16px;gap:6px}.post-container .img-container .img-button[data-v-79da9835]{overflow:hidden;min-width:40%;height:144px;flex:1;padding:0;border:none;border-radius:0}.post-container .img-container .img-button .post-img[data-v-79da9835]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.4s cubic-bezier(0,0,.2,1)}.post-container .img-container .img-button .post-img[data-v-79da9835]:hover{scale:1.2}.post-container .bottom-controls[data-v-79da9835]{display:flex;align-items:center;gap:12px}.post-container .bottom-controls .author[data-v-79da9835]{display:flex;align-items:center;padding:0;border-radius:24px;background-color:transparent;background-color:initial}.post-container .bottom-controls .author .author-portrait[data-v-79da9835]{width:32px;height:32px;border-radius:24px;-o-object-fit:cover;object-fit:cover}.post-container .bottom-controls .author .author-info[data-v-79da9835]{display:flex;flex-direction:column;padding:0 10px;text-align:left}.post-container .bottom-controls .author .author-info .author-name[data-v-79da9835]{font-size:14px;font-weight:700}.post-container .bottom-controls .author .author-info .post-time[data-v-79da9835]{color:var(--minimal-fore);font-size:12px}.post-container .bottom-controls .author[data-v-79da9835]:not(:hover):not(:active):not(:focus){box-shadow:none}.post-container .bottom-controls .replies[data-v-79da9835]{display:flex;min-width:16px;align-items:center;border-radius:24px;margin-left:auto;color:var(--light-fore);font-family:var(--code-monospace);font-size:13px;font-weight:700}.post-container .bottom-controls .replies[data-v-79da9835]:before{margin-right:6px;content:"forum";font-size:16px;font-weight:400}.masonry-wrapper[data-v-15c95bc5]{display:flex;width:100%;max-width:var(--content-max);flex-direction:column;align-items:center;gap:12px}.masonry-wrapper .masonry-container[data-v-15c95bc5]{width:100%;margin:auto}@keyframes feeds-in-15c95bc5{0%{transform:scale(.72)}to{transform:scale(1)}}.masonry-wrapper .masonry-container .post-elem[data-v-15c95bc5]{animation:feeds-in-15c95bc5 .4s cubic-bezier(.18,.89,.32,1.2)}.masonry-wrapper .masonry-container .post-elem[data-v-15c95bc5]:not(:hover):not(:active):not(:focus){box-shadow:none}.masonry-wrapper>.post-elem[data-v-15c95bc5]{position:absolute!important;visibility:hidden!important}.about-wrapper[data-v-8c03e998]{display:flex;flex-direction:column;align-items:center;padding:8px;margin:auto;gap:12px}.about-wrapper .main-title[data-v-8c03e998]{display:flex;align-items:center;gap:12px}.about-wrapper .main-title .main-icon[data-v-8c03e998]{width:64px;height:64px}.about-wrapper .main-title .title[data-v-8c03e998]{color:var(--highlight-fore);font-size:32px;font-style:italic;font-weight:700}.about-wrapper .script-info[data-v-8c03e998]{display:flex;flex-direction:column;align-items:center;color:var(--minimal-fore);gap:8px}.about-wrapper .script-info .author-info[data-v-8c03e998]{display:flex;align-items:baseline;gap:8px}.about-wrapper .about-controls[data-v-8c03e998]{display:flex;margin-top:16px;gap:8px}.about-wrapper .about-controls .about-button[data-v-8c03e998]{padding:6px 10px;font-size:14px}.update-wrapper[data-v-479225e2]{display:flex;max-width:100%;flex-direction:column;gap:8px}.update-wrapper .latest-info[data-v-479225e2]{display:flex;align-items:center;padding:2px 8px;border-radius:16px;margin:auto auto 12px;background-color:var(--level-blue-background);color:var(--level-blue-fore);gap:6px}.update-wrapper .latest-info.is-latest[data-v-479225e2]{background-color:var(--level-green-background);color:var(--level-green-fore)}.update-wrapper .title-container[data-v-479225e2]{display:flex;align-items:center;gap:10px}.update-wrapper .title-container .title[data-v-479225e2]{flex-shrink:1;font-size:20px;font-weight:700}.update-wrapper .title-container .is-pre-release[data-v-479225e2]{min-width:-moz-max-content;min-width:max-content;padding:2px 8px;border-radius:16px;background-color:var(--level-orange-background);color:var(--level-orange-fore);font-size:14px}.update-wrapper .main-info[data-v-479225e2]{display:flex;align-items:center;gap:8px}.update-wrapper .main-info .avatar[data-v-479225e2]{width:32px;height:32px;border-radius:32px}.update-wrapper .main-info .release-time[data-v-479225e2]{margin-left:auto}.update-wrapper .update-controls[data-v-479225e2]{display:flex;align-items:center;margin-top:8px;gap:8px}.update-wrapper .update-controls .up-button[data-v-479225e2]{padding:4px 8px;border-radius:10px;font-size:15px;font-weight:700}.update-wrapper .update-controls .up-name[data-v-479225e2]{font-family:var(--code-monospace)}.forbidden-wrapper[data-v-479225e2]{display:flex;width:100%;height:100%;flex-direction:column;align-items:center}.forbidden-wrapper .icon[data-v-479225e2]{font-size:64px}.layout-custom-back[data-v-fcb5c431]{display:flex;width:100%;flex-direction:column;gap:8px}.layout-custom-back .custom-image[data-v-fcb5c431]{max-width:100%;max-height:320px;border-radius:8px;margin:0 auto}.layout-custom-back .custom-back-buttons[data-v-fcb5c431]{display:flex;align-items:center;justify-content:flex-end;gap:6px}.layout-custom-back .adjust-controls[data-v-fcb5c431]{display:flex;flex-direction:column;gap:8px}.layout-custom-back .adjust-controls .control-set[data-v-fcb5c431]{display:flex;align-items:baseline;gap:6px}.layout-custom-back .adjust-controls .control-set .editor[data-v-fcb5c431]{width:auto;font-family:var(--code-zh)}.color-picker[data-v-faec1870]{display:flex;align-items:center;gap:8px}.color-picker .color-input[data-v-faec1870]{width:24px;height:24px}.theme-color-component[data-v-17596762]{display:flex;width:100%;flex-direction:column;align-items:flex-start;gap:6px}.theme-color-component .reset-button[data-v-17596762]{margin-left:auto}.theme-picker{z-index:9999!important}@keyframes select-arrow-down-539acfec{0%{transform:translateY(0)}70%{transform:translateY(10%)}to{transform:translateY(0)}}.user-select[data-v-539acfec]{position:relative}.user-select .select-toggle[data-v-539acfec]{display:flex;width:100%;align-items:center;justify-content:space-between;gap:8px;text-align:justify}.user-select .select-toggle.toggle-on[data-v-539acfec]{background-color:var(--default-background);box-shadow:0 0 0 1px var(--tieba-theme-color);color:var(--default-fore)}.user-select .select-toggle.toggle-on .icon[data-v-539acfec]{animation:select-arrow-down-539acfec var(--fast-duration) cubic-bezier(.18,.89,.32,1.6);color:var(--tieba-theme-color);font-weight:700}.user-select .select-toggle.toggle-off[data-v-539acfec]{box-shadow:0 0 0 1px var(--border-color)}.user-select .select-container[data-v-539acfec]{position:absolute;top:calc(100% + 4px);left:0;display:flex;overflow:hidden;width:100%;flex-direction:column;border:1px solid var(--border-color);border-radius:6px;background-color:var(--default-background);box-shadow:0 0 10px #0003;transform-origin:top}.user-select .select-container.select-enter-active[data-v-539acfec],.user-select .select-container.select-leave-active[data-v-539acfec]{transition:transform var(--fast-duration),opacity var(--fast-duration)}.user-select .select-container.select-enter-from[data-v-539acfec],.user-select .select-container.select-leave-to[data-v-539acfec]{opacity:0;transform:scale(.95) translateY(-4px)}.user-select .select-container .select-button[data-v-539acfec]{border-radius:0;box-shadow:none;text-align:justify}.user-select .select-container .select-desc[data-v-539acfec]{padding:4px 14px;border-top:1px solid var(--border-color);color:var(--light-fore);font-size:14px}@keyframes content-in-b2f1268b{0%{opacity:0;transform:translateY(20px)}to{opacity:1}}.key-button[data-v-b2f1268b]{display:flex;overflow:hidden;min-width:120px;align-items:center;padding:12px;border-radius:0;font-size:16px;gap:12px;text-align:justify;transition:var(--default-duration);white-space:nowrap}.key-button .icon[data-v-b2f1268b]{font-size:20px;font-variation-settings:"FILL" 0,"wght" 300;transition:all var(--default-duration),margin-left var(--fast-duration) ease-out}.key-button .key-info[data-v-b2f1268b]{display:flex;width:calc(100% - 32px);flex-direction:column}.key-button .key-title[data-v-b2f1268b],.key-button .key-desc[data-v-b2f1268b]{overflow:hidden;text-overflow:ellipsis}.key-button .key-desc[data-v-b2f1268b]{color:var(--minimal-fore);font-size:14px}.key-button.main-key[data-v-b2f1268b]{box-sizing:content-box}.key-button.main-key .main-key-selected[data-v-b2f1268b]{position:relative;width:0;height:100%;border-radius:24px;margin-left:-12px;background-color:var(--tieba-theme-color)}.key-button.main-key .main-key-selected[data-v-b2f1268b]:after{position:absolute;top:0;width:0;height:100%;border-radius:24px;background-color:var(--tieba-theme-color);content:""}.key-button.main-key.selected[data-v-b2f1268b]{color:var(--tieba-theme-fore)!important}.key-button.main-key.selected .main-key-selected[data-v-b2f1268b]{padding-right:4px}.key-button.main-key.selected .main-key-selected[data-v-b2f1268b]:after{width:4px}.key-button.main-key.selected .icon[data-v-b2f1268b]{margin-left:4px;font-variation-settings:"FILL" 1,"GRAD" 48,"wght" 300;font-weight:400}.key-button.main-key.selected .key-desc[data-v-b2f1268b]{color:var(--tieba-theme-color)}.key-button.sub-key[data-v-b2f1268b]{-webkit-text-decoration:none;text-decoration:none;transition:var(--default-duration)}.key-button.sub-key.selected[data-v-b2f1268b]{color:var(--tieba-theme-fore);-webkit-text-decoration:underline var(--tieba-theme-color) 2px;text-decoration:underline var(--tieba-theme-color) 2px}.settings-wrapper[data-v-b2f1268b]{display:flex;width:100%;max-width:var(--content-max);height:100%;box-sizing:border-box}.settings-wrapper .left-container[data-v-b2f1268b]{display:flex;width:30%;max-width:280px;flex-direction:column;border-right:2px solid var(--light-border-color)}.settings-wrapper .left-container .search-controls[data-v-b2f1268b]{display:flex;flex-direction:column;padding:0 16px 16px 0;gap:8px}.settings-wrapper .left-container .search-controls .title[data-v-b2f1268b]{color:var(--default-fore)!important}.settings-wrapper .left-container .search-controls .title[data-v-b2f1268b]{margin-top:8px;font-size:20px;font-weight:700;line-height:normal}.settings-wrapper .left-container .search-controls .search-box[data-v-b2f1268b]{padding:6px;font-size:14px}.settings-wrapper .left-container .left-panel[data-v-b2f1268b]{display:flex;box-sizing:border-box;flex-direction:column}.settings-wrapper .middle-container[data-v-b2f1268b]{display:flex;width:20%;max-width:220px;flex-direction:column;padding:0 6px;border-right:2px solid var(--light-border-color);gap:6px}.settings-wrapper .middle-container .sub-key[data-v-b2f1268b]{display:flex;padding:8px 16px;border-radius:12px;gap:4px}.settings-wrapper .middle-container .sub-key .key-title[data-v-b2f1268b]{font-size:14px}.settings-wrapper .middle-container .sub-key[data-v-b2f1268b]:not(:hover):not(:active):not(:focus){background-color:transparent;background-color:initial}.settings-wrapper .right-container[data-v-b2f1268b]{display:flex;overflow:auto;width:50%;flex-direction:column;flex-grow:1;padding:16px;margin:-16px -16px -16px 0;font-size:16px;gap:32px}.settings-wrapper .right-container .setting-content[data-v-b2f1268b]{display:flex;flex-direction:column;gap:8px}.settings-wrapper .right-container .setting-content .content-title[data-v-b2f1268b]{margin:8px 0 0;color:var(--highlight-fore);font-size:18px;font-weight:700}.settings-wrapper .right-container .setting-content .content-sub-title[data-v-b2f1268b]{margin:4px 0 0;color:var(--default-fore);font-size:16px;font-weight:700}.settings-wrapper .right-container .setting-content .content-desc[data-v-b2f1268b]{display:flex;flex-direction:column;color:var(--light-fore);gap:6px}.settings-wrapper .right-container .setting-content .content-textbox[data-v-b2f1268b]{box-sizing:content-box}.settings-wrapper .right-container .setting-content .content-textbox.textarea[data-v-b2f1268b]{width:100%;height:6em;resize:none}.settings-wrapper .right-container .setting-content .content-image[data-v-b2f1268b]{max-width:100%;max-height:320px;border-radius:8px;margin:0 auto}.settings-wrapper .right-container .setting-content .setting-control[data-v-b2f1268b]{display:flex}.settings-wrapper .right-container .setting-content .setting-control .settings-toggle[data-v-b2f1268b]{background:none;font-size:36px}.settings-wrapper .right-container .setting-content .setting-control .settings-toggle.toggle-on[data-v-b2f1268b]{color:var(--tieba-theme-color)}.settings-wrapper .right-container .setting-content .setting-control .settings-toggle.toggle-on[data-v-b2f1268b]:hover{color:var(--tieba-theme-fore)}.settings-wrapper .right-container .setting-content .setting-control .icon-component[data-v-b2f1268b]{margin-left:auto;font-size:64px;font-variation-settings:"FILL" 1}.settings-wrapper .right-container .setting-content .setting-control .settings-select[data-v-b2f1268b]{width:min(100%,280px)}.settings-wrapper .empty-container[data-v-b2f1268b]{margin:auto;color:var(--minimal-fore);font-size:72px}.index-wrapper .grid-container .profile-menu-container .curr-user .user-profile[data-v-1e41475b]{-o-object-fit:contain;object-fit:contain}a[data-v-1e41475b]{color:inherit;-webkit-text-decoration:none;text-decoration:none}.block-wrapper[data-v-1e41475b]{display:flex;flex-direction:column;gap:8px}.block-controls[data-v-1e41475b]{display:flex;width:100%;align-items:center;gap:8px}.block-controls .block-title[data-v-1e41475b]{margin:0;font-size:24px;font-weight:700}.block-container[data-v-1e41475b]{padding:8px;border-radius:12px;background-color:var(--trans-light-background)}html:not([perf-saver]) body.custom-background .block-container[data-v-1e41475b]{-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}html.dark-theme body.custom-background .block-container[data-v-1e41475b]{-webkit-backdrop-filter:blur(24px) brightness(.8);backdrop-filter:blur(24px) brightness(.8)}.block-panel[data-v-1e41475b]{display:flex;min-width:30px;height:26px;align-items:center;justify-content:center;padding:2px 8px;border-radius:24px;margin-left:auto;background-color:var(--trans-light-background);font-size:14px;text-align:center}.block-panel .icon[data-v-1e41475b]{color:var(--light-fore);font-size:18px}.block-panel .panel-btn[data-v-1e41475b]{width:30px;height:30px;padding:4px;border:none;border-radius:48px}.block-panel.left-align[data-v-1e41475b]{margin-left:0}.index-wrapper[data-v-1e41475b]{display:flex;flex-direction:column;align-items:center;gap:12px}.index-wrapper .grid-container[data-v-1e41475b]{display:grid;max-width:var(--content-max);margin:16px;grid-gap:36px;gap:36px;grid-template-rows:repeat(1,1fr)}.index-wrapper .grid-container .head-controls[data-v-1e41475b]{display:flex;flex-direction:column;align-items:center;padding:24px;margin-top:24px;gap:24px}.index-wrapper .grid-container .head-controls .main-title[data-v-1e41475b]{display:flex;align-items:center;justify-content:center;gap:12px}.index-wrapper .grid-container .head-controls .main-title .main-icon[data-v-1e41475b]{height:64px}.index-wrapper .grid-container .head-controls .main-title .title[data-v-1e41475b]{font-size:36px;font-style:italic;font-weight:700}.index-wrapper .grid-container .head-controls .search-controls[data-v-1e41475b]{position:relative;display:grid;width:100%;max-width:420px;justify-content:center;grid-template-columns:1fr 72px}.index-wrapper .grid-container .head-controls .search-controls .search-box[data-v-1e41475b]{width:100%;padding:8px;border-bottom-right-radius:0;border-top-right-radius:0;font-size:16px}.index-wrapper .grid-container .head-controls .search-controls .search-button[data-v-1e41475b]{border:none;border-bottom-left-radius:0;border-top-left-radius:0;font-size:16px;font-weight:700}.index-wrapper .grid-container .head-controls .search-controls .search-suggestions[data-v-1e41475b]{position:absolute;z-index:1;top:100%;display:flex;overflow:hidden;width:100%;box-sizing:border-box;flex-direction:column;border:1px solid var(--border-color);border-radius:6px;margin-top:4px;background-color:var(--default-background);box-shadow:0 0 20px #0003;animation:kf-fade-in .2s}.index-wrapper .grid-container .head-controls .search-controls .search-suggestions .search-elem[data-v-1e41475b]{display:flex;overflow:hidden;box-sizing:border-box;padding:8px;border:none;border-radius:0;animation:stretch-1e41475b .2s cubic-bezier(.22,.61,.36,1);gap:8px;text-align:justify}@keyframes stretch-1e41475b{0%{padding:4px 8px}to{padding:8px}}.index-wrapper .grid-container .head-controls .search-controls .search-suggestions .search-elem .sugg-img[data-v-1e41475b]{width:42px;height:42px;border-radius:8px}.index-wrapper .grid-container .head-controls .search-controls .search-suggestions .search-elem .sugg-content[data-v-1e41475b]{position:relative;display:flex;width:calc(100% - 50px);flex-direction:column;justify-content:center;gap:4px}.index-wrapper .grid-container .head-controls .search-controls .search-suggestions .search-elem .sugg-content .sugg-title[data-v-1e41475b]{overflow:hidden;margin:0;font-size:14px;font-weight:700;text-overflow:ellipsis;white-space:nowrap}.index-wrapper .grid-container .head-controls .search-controls .search-suggestions .search-elem .sugg-content .sugg-desc[data-v-1e41475b]{overflow:hidden;margin:0;color:var(--light-fore);font-size:12px;text-overflow:ellipsis;white-space:nowrap}.index-wrapper .grid-container .profile-menu-container[data-v-1e41475b]{position:absolute;z-index:1}.index-wrapper .grid-container .profile-menu-container .curr-user[data-v-1e41475b]{position:fixed;top:24px;left:24px;overflow:hidden;width:36px;height:36px;padding:0;border:3px solid var(--border-color);border-radius:36px}.index-wrapper .grid-container .profile-menu-container .curr-user .user-profile[data-v-1e41475b]{width:100%}.index-wrapper .grid-container .profile-menu-container .profile-menu[data-v-1e41475b]{top:64px;left:24px}.index-wrapper .grid-container .config-menu-container[data-v-1e41475b]{position:absolute;z-index:1;display:flex}.index-wrapper .grid-container .config-menu-container .config-menu-btn[data-v-1e41475b]{position:fixed;top:24px;right:24px;height:32px;border:none;border-radius:36px;background-color:var(--page-background);font-size:24px}.index-wrapper .grid-container .config-menu-container .config-menu-btn[data-v-1e41475b]:hover{background-color:var(--default-background)}.index-wrapper .grid-container .config-menu-container .config-menu-btn[data-v-1e41475b]:active{background-color:var(--default-hover)}.index-wrapper .grid-container .config-menu-container .config-menu[data-v-1e41475b]{top:64px;right:24px;opacity:1}.index-wrapper .grid-container .signed-count[data-v-1e41475b]{font-weight:700}.index-wrapper .grid-container .block-panel.followed[data-v-1e41475b]{margin-left:auto}.index-wrapper .grid-container .followed-container[data-v-1e41475b]{margin-top:-16px}.index-wrapper .grid-container .followed-container .followed-list[data-v-1e41475b]{display:flex;flex-wrap:wrap;padding:8px;border-radius:12px;background-color:var(--trans-light-background);gap:4px}.index-wrapper .grid-container .followed-container .followed-list .followed-btn[data-v-1e41475b]{display:flex;align-items:center;padding:6px 8px;border-radius:12px;font-size:14px;gap:6px}.index-wrapper .grid-container .followed-container .followed-list .followed-btn .signed[data-v-1e41475b]{color:green;font-weight:700}.index-wrapper .grid-container .followed-container .followed-list .followed-btn .forum-level[data-v-1e41475b]{min-width:24px;padding:0 2px;border-radius:24px;font-weight:700;text-align:center}.index-wrapper .grid-container .topic-list[data-v-1e41475b]{display:grid;grid-gap:4px;gap:4px;grid-auto-rows:max-content;grid-template-columns:repeat(2,1fr)}.index-wrapper .grid-container .topic-list .topic-btn[data-v-1e41475b]{display:flex;width:100%;height:100%;align-items:center;padding:12px;border-radius:12px;gap:8px}.index-wrapper .grid-container .topic-list .topic-btn .topic-img[data-v-1e41475b]{width:72px;border-radius:12px}.index-wrapper .grid-container .topic-list .topic-btn .topic-content[data-v-1e41475b]{display:flex;flex-flow:column wrap;gap:4px;text-align:justify}.index-wrapper .grid-container .topic-list .topic-btn .topic-content .topic-title[data-v-1e41475b]{display:flex;align-items:center;gap:6px}.index-wrapper .grid-container .topic-list .topic-btn .topic-content .topic-title [class^=topic-rank][data-v-1e41475b]{padding:0 4px;border-radius:4px;background-color:orange;color:var(--default-background);font-weight:700;text-align:center}.index-wrapper .grid-container .topic-list .topic-btn .topic-content .topic-title .topic-name[data-v-1e41475b]{font-size:16px;font-weight:700}.index-wrapper .grid-container .topic-list .topic-btn .topic-content .topic-desc[data-v-1e41475b]{color:var(--light-fore);font-size:14px}.index-wrapper .masonry-container[data-v-1e41475b]{display:flex;width:calc(100% - 32px);max-width:var(--content-max);box-sizing:border-box;flex-direction:column;align-items:center;gap:8px}.index-wrapper .masonry-container .feeds-container[data-v-1e41475b]{width:100%;margin:auto}@keyframes feeds-in-1e41475b{0%{transform:scale(.72)}to{transform:scale(1)}}@keyframes refresh-btn-in-1e41475b{0%{padding:0 18px;opacity:0}to{padding:8px 18px;opacity:1}}.index-wrapper .masonry-container .feeds-container .feeds-refresh-btn[data-v-1e41475b]{position:fixed;z-index:1;bottom:24px;left:50%;display:flex;align-items:center;justify-content:center;padding:8px 18px;border-width:2px;border-radius:16px;animation:refresh-btn-in-1e41475b .4s ease;box-shadow:0 6px 20px #0000004d;font-size:14px;font-weight:700;gap:6px;transform:translate(-50%)}.index-wrapper .masonry-container .feeds-container .feeds-refresh-btn .icon[data-v-1e41475b]{font-size:18px}.index-wrapper .masonry-container .post-elem[data-v-1e41475b]{animation:feeds-in-1e41475b .4s cubic-bezier(.18,.89,.32,1.2)}.index-wrapper .masonry-container .post-elem[data-v-1e41475b]:not(:hover):not(:active):not(:focus){box-shadow:none}.index-wrapper .masonry-container .empty-container .no-feed-content[data-v-1e41475b]{color:var(--minimal-fore);font-size:small;text-align:center}.pager-wrapper .pager-button-container .pager-button.icon[data-v-2946e41a]{font-family:Material Symbols,monospace!important}.pager-wrapper .pager-button-container .pager-button.icon[data-v-2946e41a]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pager-wrapper[data-v-2946e41a]{display:flex;width:-moz-fit-content;width:fit-content;box-sizing:border-box;align-items:center;padding:4px;font-size:16px;gap:6px}.pager-wrapper .pager-button-container[data-v-2946e41a]{display:flex;align-items:center}.pager-wrapper .pager-button-container .pager-button[data-v-2946e41a]{padding:4px 10px;color:var(--default-fore);font-family:var(--code-zh)}.pager-wrapper .pager-button-container .pager-button[data-v-2946e41a]:not(:hover):not(:active):not(:focus){background-color:transparent}.pager-wrapper .pager-button-container .pager-button.fill[data-v-2946e41a]:not(:hover):not(:active):not(:focus){background-color:var(--default-background)}.pager-wrapper .pager-button-container .pager-button.curr-pager-button[data-v-2946e41a]{border-radius:0;box-shadow:0 3px 0 var(--tieba-theme-color);color:var(--tieba-theme-color)}.pager-wrapper .pager-separactor[data-v-2946e41a]{color:var(--minimal-fore);font-family:var(--code-monospace)}.pager-wrapper .jumper-container[data-v-2946e41a]{display:flex;align-items:center;color:var(--light-fore);gap:6px}.pager-wrapper .jumper-container .jumper[data-v-2946e41a]{width:36px;width:3em;padding:2px 4px;color:var(--default-fore);font-family:var(--code-monospace)}.pager-wrapper .tail-slot[data-v-2946e41a]{margin-left:auto;color:var(--minimal-fore)}#thread-editor[data-v-1d655f88]{display:flex;width:100%;max-width:var(--content-max);max-height:100vh;box-sizing:border-box;flex-direction:column;align-items:center;margin:auto auto 0;background-color:var(--default-background);font-size:12px;gap:8px;transition:.4s}#thread-editor #thread-editor-exit[data-v-1d655f88]{margin-left:auto;font-size:18px}#thread-editor #thread-editor-exit[data-v-1d655f88]:not(:hover):not(:active):not(:focus){box-shadow:none}#thread-editor .title-editor[data-v-1d655f88]{width:100%;flex-grow:1;border-width:3px;background-color:transparent;font-size:24px;font-weight:700}#thread-editor h1[data-v-1d655f88]{margin-right:auto}#thread-editor #thread-editor-slot[data-v-1d655f88]{width:100%;flex-shrink:2}#thread-editor #thread-editor-toolbar[data-v-1d655f88]{display:flex;width:100%;align-items:center}#thread-editor #thread-editor-toolbar #thread-editor-submit[data-v-1d655f88]{padding:4px 12px;margin-left:auto;font-size:16px;font-weight:700}#thread-editor .edui-container .edui-toolbar .edui-btn-toolbar .edui-btn .edui-icon:before{font-family:Material Symbols,monospace!important}#thread-editor .edui-container .edui-toolbar .edui-btn-toolbar .edui-btn .edui-icon:before{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}body{overflow-x:hidden;overflow-y:scroll;overflow:hidden scroll}#thread-editor #ueditor_replace{font-size:16px}#thread-editor .edui-container{width:100%!important}#thread-editor .edui-container .edui-toolbar{height:auto;align-items:center;background-color:transparent}#thread-editor .edui-container .edui-toolbar .edui-btn-toolbar{display:flex;background-color:transparent;gap:8px}#thread-editor .edui-container .edui-toolbar .edui-btn-toolbar .edui-btn{padding:1px;border-radius:4px;margin-right:0;background:none;background-color:var(--light-background);box-shadow:0 0 0 1px var(--border-color);cursor:pointer;transition:.4s}#thread-editor .edui-container .edui-toolbar .edui-btn-toolbar .edui-btn .edui-icon{display:flex;width:-moz-max-content;width:max-content;align-items:center;padding:2px 4px;background:none;gap:4px}#thread-editor .edui-container .edui-toolbar .edui-btn-toolbar .edui-btn .edui-icon:before{font-size:16px}#thread-editor .edui-container .edui-toolbar .edui-dialog-container .edui-dropdown-menu{overflow:hidden;width:-moz-max-content;width:max-content;padding:0;border:2px solid var(--border-color);border-radius:6px;background:none}#thread-editor .edui-container .edui-toolbar .edui-dialog-container .edui-dropdown-menu .edui-popup-body{padding:0;border:none;background-color:var(--default-background)}#thread-editor .edui-container .edui-toolbar .edui-dialog-container .edui-dropdown-menu .edui-popup-caret{display:none}#thread-editor .edui-container .edui-editor-body{border:none;border-radius:0;border-bottom:3px solid var(--tieba-theme-color);transition:.4s}#thread-editor .edui-container .edui-editor-body:hover{border-color:var(--light-background)}#thread-editor .edui-container .edui-editor-body:focus{border-color:var(--tieba-theme-color)}#thread-editor .edui-container .edui-body-container{min-height:18px!important}#thread-editor .edui-container .edui-body-container{max-height:50vh;padding:0;border-radius:0;background-color:transparent}.edui-btn-topic{display:none!important}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-medal:before{content:"diamond"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-medal:after{content:"\u7279\u6743"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-image:before{content:"photo"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-image:after{content:"\u63D2\u5165\u56FE\u7247"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-video:before{content:"video_file"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-video:after{content:"\u63D2\u5165\u89C6\u9891"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-emotion:before{content:"face"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-emotion:after{content:"\u63D2\u5165\u8868\u60C5"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-scrawl:before{content:"format_paint"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-scrawl:after{content:"\u6D82\u9E26"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-topic:before{content:"grid_3x3"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-topic:after{content:"\u8BDD\u9898"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-quick-reply:before{content:"rocket_launch"}#thread-editor .edui-btn-toolbar .edui-icon.edui-icon-quick-reply:after{content:"\u5FEB\u901F\u56DE\u5E16"}.edui-popup-body .layer_medal_list li a:before,.edui-popup-body .layer_btn_list li a:before{font-family:Material Symbols,monospace!important}.edui-popup-body .layer_medal_list li a:before,.edui-popup-body .layer_btn_list li a:before{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}.edui-dialog-container .upload_container .next_step,.edui-popup-body .layer_medal_list li a,.edui-popup-body .layer_btn_list li a{box-sizing:border-box;padding:4px 12px;border:none;border-radius:6px;background:none;background-color:var(--default-background);box-shadow:0 0 0 1px var(--border-color);color:var(--default-fore);cursor:pointer;transition:var(--default-duration)}.edui-dialog-container .upload_container .next_step:hover:not([disabled]),.edui-popup-body .layer_medal_list li a:hover:not([disabled]),.edui-popup-body .layer_btn_list li a:hover:not([disabled]){background-color:var(--default-hover)}.edui-dialog-container .upload_container .next_step:active:not([disabled]),.edui-popup-body .layer_medal_list li a:active:not([disabled]),.edui-popup-body .layer_btn_list li a:active:not([disabled]){background-color:var(--default-active)}.edui-dialog-container .upload_container .next_step:focus:not([disabled]),.edui-popup-body .layer_medal_list li a:focus:not([disabled]),.edui-popup-body .layer_btn_list li a:focus:not([disabled]){border-color:var(--tieba-theme-color);box-shadow:0 0 0 2px var(--tieba-theme-color)}.edui-dialog-container .upload_container .theme-style.next_step,.edui-popup-body .layer_medal_list li a.theme-style,.edui-popup-body .layer_btn_list li a.theme-style{color:var(--default-background)!important}.edui-dialog-container .upload_container .theme-style.next_step,.edui-popup-body .layer_medal_list li a.theme-style,.edui-popup-body .layer_btn_list li a.theme-style{background-color:var(--tieba-theme-color)}.edui-dialog-container .upload_container .theme-style.next_step:hover,.edui-popup-body .layer_medal_list li a.theme-style:hover,.edui-popup-body .layer_btn_list li a.theme-style:hover{background-color:var(--tieba-theme-hover)}.edui-dialog-container .upload_container .theme-style.next_step:active,.edui-popup-body .layer_medal_list li a.theme-style:active,.edui-popup-body .layer_btn_list li a.theme-style:active{background-color:var(--tieba-theme-active)}.edui-dialog-container .upload_container .unset-background.next_step,.edui-popup-body .layer_medal_list li a.unset-background,.edui-popup-body .layer_btn_list li a.unset-background{background-color:transparent;background-color:initial}.edui-dialog-container .upload_container .no-border.next_step,.edui-popup-body .layer_medal_list li a.no-border,.edui-popup-body .layer_btn_list li a.no-border,.edui-dialog-container .upload_container .no-border-all.next_step,.edui-popup-body .layer_medal_list li a.no-border-all,.edui-popup-body .layer_btn_list li a.no-border-all{box-shadow:none}.edui-dialog-container .upload_container .no-border-all.next_step:hover,.edui-popup-body .layer_medal_list li a.no-border-all:hover,.edui-popup-body .layer_btn_list li a.no-border-all:hover,.edui-dialog-container .upload_container .no-border-all.next_step:focus,.edui-popup-body .layer_medal_list li a.no-border-all:focus,.edui-popup-body .layer_btn_list li a.no-border-all:focus{box-shadow:none}.edui-dialog-container .edui-popup{position:static!important}.edui-dialog-container .upload_container{padding:0 20px 20px 0}.edui-dialog-container .upload_container .slide_item_img{border-color:var(--tieba-theme-color)!important}.edui-dialog-container .upload_container .slide_item_img{overflow:hidden}.edui-dialog-container .upload_container .watermark_options{position:static;margin-left:20px}.edui-dialog-container .upload_container .next_step{position:static;width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content;padding:4px 8px;margin-left:auto;line-height:normal}.edui-popup-body{position:static}.edui-popup-body .layer_medal_list,.edui-popup-body .layer_btn_list{width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content}.edui-popup-body .layer_medal_list li,.edui-popup-body .layer_btn_list li{display:flex;overflow:hidden;align-items:center;padding:0;background:none}.edui-popup-body .layer_medal_list li a,.edui-popup-body .layer_btn_list li a{display:flex;width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content;align-items:center;padding:4px 8px;border-radius:0;box-shadow:none;gap:4px}.edui-popup-body .layer_medal_list li a:before,.edui-popup-body .layer_btn_list li a:before{font-size:16px}.layer_medal_list li.post_bubble a:before{content:"bubble_chart"}.layer_medal_list li.post_bubble a:after{content:"\u53D1\u5E16\u6C14\u6CE1"}.layer_medal_list li.colorful_font a:before{content:"format_color_text"}.layer_medal_list li.colorful_font a:after{content:"\u5F69\u8272\u5B57\u4F53"}.layer_btn_list{padding:0!important}.layer_btn_list li{border:none!important}.layer_btn_list li.from_upload a:before{content:"upload_file"}.layer_btn_list li.from_upload a:after{content:"\u4E0A\u4F20\u6587\u4EF6"}.layer_btn_list li.from_web a:before{content:"web"}.layer_btn_list li.from_web a:after{content:"\u7F51\u7EDC\u56FE\u7247"}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev:before,#thread-editor .emotion_container .ueditor_emotion_tab .s_next:before{font-family:Material Symbols,monospace!important}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev:before,#thread-editor .emotion_container .ueditor_emotion_tab .s_next:before{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev,#thread-editor .emotion_container .ueditor_emotion_tab .s_next{box-sizing:border-box;padding:4px 12px;border:none;border-radius:6px;background:none;background-color:var(--default-background);box-shadow:0 0 0 1px var(--border-color);color:var(--default-fore);cursor:pointer;transition:var(--default-duration)}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev:hover:not([disabled]),#thread-editor .emotion_container .ueditor_emotion_tab .s_next:hover:not([disabled]){background-color:var(--default-hover)}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev:active:not([disabled]),#thread-editor .emotion_container .ueditor_emotion_tab .s_next:active:not([disabled]){background-color:var(--default-active)}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev:focus:not([disabled]),#thread-editor .emotion_container .ueditor_emotion_tab .s_next:focus:not([disabled]){border-color:var(--tieba-theme-color);box-shadow:0 0 0 2px var(--tieba-theme-color)}#thread-editor .emotion_container .ueditor_emotion_tab .theme-style.s_prev,#thread-editor .emotion_container .ueditor_emotion_tab .theme-style.s_next{color:var(--default-background)!important}#thread-editor .emotion_container .ueditor_emotion_tab .theme-style.s_prev,#thread-editor .emotion_container .ueditor_emotion_tab .theme-style.s_next{background-color:var(--tieba-theme-color)}#thread-editor .emotion_container .ueditor_emotion_tab .theme-style.s_prev:hover,#thread-editor .emotion_container .ueditor_emotion_tab .theme-style.s_next:hover{background-color:var(--tieba-theme-hover)}#thread-editor .emotion_container .ueditor_emotion_tab .theme-style.s_prev:active,#thread-editor .emotion_container .ueditor_emotion_tab .theme-style.s_next:active{background-color:var(--tieba-theme-active)}#thread-editor .emotion_container .ueditor_emotion_tab .unset-background.s_prev,#thread-editor .emotion_container .ueditor_emotion_tab .unset-background.s_next{background-color:transparent;background-color:initial}#thread-editor .emotion_container .ueditor_emotion_tab .no-border.s_prev,#thread-editor .emotion_container .ueditor_emotion_tab .no-border.s_next,#thread-editor .emotion_container .ueditor_emotion_tab .no-border-all.s_prev,#thread-editor .emotion_container .ueditor_emotion_tab .no-border-all.s_next{box-shadow:none}#thread-editor .emotion_container .ueditor_emotion_tab .no-border-all.s_prev:hover,#thread-editor .emotion_container .ueditor_emotion_tab .no-border-all.s_next:hover,#thread-editor .emotion_container .ueditor_emotion_tab .no-border-all.s_prev:focus,#thread-editor .emotion_container .ueditor_emotion_tab .no-border-all.s_next:focus{box-shadow:none}#thread-editor .emotion_container .tbui_scroll_panel{overflow:hidden;border-radius:4px 4px 0 0}html.dark-theme #thread-editor .emotion_container td,html.dark-theme #thread-editor .emotion_container .emotion_preview{filter:brightness(.8)}#thread-editor .emotion_container .emotion_preview{border:1px solid var(--border-color);border-radius:6px;box-shadow:0 0 10px #00000003}html.dark-theme #thread-editor .emotion_container .emotion_preview{box-shadow:0 0 16px #0003}#thread-editor .emotion_container .ueditor_emotion_tab{display:flex;align-items:center;justify-content:space-evenly;border-top:2px solid var(--border-color);background:none;background-color:var(--default-background);color:var(--default-fore)}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev,#thread-editor .emotion_container .ueditor_emotion_tab .s_next{width:-moz-max-content!important;width:max-content!important;height:-moz-max-content!important;height:max-content!important}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev,#thread-editor .emotion_container .ueditor_emotion_tab .s_next{position:static;padding:0 2px;background:none;box-shadow:none}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev:before,#thread-editor .emotion_container .ueditor_emotion_tab .s_next:before{font-size:10px}#thread-editor .emotion_container .ueditor_emotion_tab .s_prev:before{content:"arrow_back_ios"}#thread-editor .emotion_container .ueditor_emotion_tab .s_next:before{content:"arrow_forward_ios"}#thread-editor .emotion_container .ueditor_emotion_tab .s_tab_con_wrapper{position:static}#thread-editor .emotion_container .ueditor_emotion_tab .s_tab_con_wrapper .s_tab_btn{border-radius:4px;background:none;background-color:var(--default-background)}#thread-editor .emotion_container .ueditor_emotion_tab .s_tab_con_wrapper .s_tab_btn .s_tab_btnbg{border-radius:4px;background:none;transition:var(--default-duration)}#thread-editor .emotion_container .ueditor_emotion_tab .s_tab_con_wrapper .s_hover{filter:brightness(1.2)}#thread-editor .emotion_container .ueditor_emotion_tab .s_tab_con_wrapper .s_hover .s_tab_btnbg{filter:brightness(1.4)}#thread-editor .emotion_container .ueditor_emotion_tab .s_tab_con_wrapper .selected{background:none}#thread-editor .emotion_container .ueditor_emotion_tab .s_tab_con_wrapper .selected .s_tab_btnbg{background-color:var(--tieba-theme-color);color:var(--default-background);font-weight:700}.toggle-panel .toggle-container .panel-button.toggle-off[data-v-fba74258]{font-family:Material Symbols,monospace!important}.toggle-panel .toggle-container .panel-button.toggle-off[data-v-fba74258]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}.toggle-panel .toggle-container .panel-button.toggle-on[data-v-fba74258]{font-family:Material Symbols,monospace!important}.toggle-panel .toggle-container .panel-button.toggle-on[data-v-fba74258]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}.toggle-panel[data-v-fba74258]{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.toggle-panel .toggle-container[data-v-fba74258]{display:flex;flex-direction:column;align-items:center;gap:4px}.toggle-panel .toggle-container .panel-button[data-v-fba74258]{width:58px;height:58px;border-radius:12px;font-size:24px}.toggle-panel .toggle-container .panel-button.toggle-off[data-v-fba74258]{color:var(--minimal-fore)}.toggle-panel .toggle-container .panel-button.toggle-on[data-v-fba74258]:focus{box-shadow:0 0 0 1px var(--tieba-theme-color)}.toggle-panel .toggle-container .toggle-name[data-v-fba74258]{color:var(--light-fore);font-size:12px}.float-message{position:fixed;z-index:99999;display:none;overflow:hidden;box-sizing:border-box;padding:4px 6px;border:1px solid var(--border-color);border-radius:6px;background-color:var(--default-background);font-size:14px;box-shadow:0 0 10px #00000003;animation:kf-fade-in var(--fast-duration)}html.dark-theme .float-message{box-shadow:0 0 16px #0003}.float-message .float-content{display:flex;overflow:auto}@keyframes stretch-f5c2af9e{0%{padding:2px 14px}to{padding:4px 14px}}a[data-v-f5c2af9e]{color:inherit}.dropdown-menu[data-v-f5c2af9e]{position:fixed;z-index:1;display:flex;overflow:hidden;width:-moz-max-content;width:max-content;min-width:120px;flex-direction:column;padding:4px;border:1px solid var(--border-color);border-radius:8px;background-color:var(--default-background);box-shadow:0 0 20px #00000014;animation:kf-fade-in var(--fast-duration);font-size:14px}.dropdown-menu .menu-item[data-v-f5c2af9e]{display:flex;width:100%;align-items:center;padding:4px 14px;border:none;border-radius:6px;animation:stretch-f5c2af9e var(--fast-duration) cubic-bezier(.22,.61,.36,1);background:none;color:var(--default-fore);font-size:14px;gap:6px;transition:.2s}.dropdown-menu .menu-item .menu-title[data-v-f5c2af9e]{display:flex;width:100%;gap:12px;text-align:justify}.dropdown-menu .menu-item .menu-title .menu-inner[data-v-f5c2af9e]{margin-left:auto;color:var(--minimal-fore)}.dropdown-menu .menu-item[data-v-f5c2af9e]:hover{background-color:var(--default-hover)}.dropdown-menu .menu-item[data-v-f5c2af9e]:active{background-color:var(--default-active)}.dropdown-menu .menu-separator[data-v-f5c2af9e]{width:calc(100% + 8px);height:1px;margin:6px 0 6px -4px;background-color:var(--border-color)}.blur-effect[data-v-f5c2af9e]{background-color:var(--trans-default-background)}html:not([perf-saver]) .blur-effect[data-v-f5c2af9e]{-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}html.dark-theme .blur-effect[data-v-f5c2af9e]{-webkit-backdrop-filter:blur(24px) brightness(.8);backdrop-filter:blur(24px) brightness(.8)}#nav-bar[data-v-6bc1f258]{position:fixed;z-index:1200;top:0;left:0;display:flex;width:100%;height:48px;align-items:center;justify-content:center;border-bottom:1px solid var(--border-color);background-color:var(--trans-page-background);transition:all var(--default-duration),width 0s;box-shadow:0 10px 10px #00000003}html.dark-theme #nav-bar[data-v-6bc1f258]{box-shadow:0 10px 16px #0003}#nav-bar.fold[data-v-6bc1f258]{transform:translateY(-32px)}#nav-bar.fold[data-v-6bc1f258]:after{position:absolute;top:48px;width:100%;height:32px;content:""}#nav-bar.fold[data-v-6bc1f258]:hover{transform:translateY(0)}#nav-bar.fold:hover #nav-container[data-v-6bc1f258]{display:flex}#nav-bar.fold:hover #fold-bar[data-v-6bc1f258]{display:none}#nav-bar.fold #fold-bar[data-v-6bc1f258]{position:absolute;bottom:6.5px;width:60px;height:3px;border-radius:3px;margin:0 auto;background-color:var(--border-color)}#nav-bar.fold #nav-container[data-v-6bc1f258]{display:none}#nav-bar.hide[data-v-6bc1f258]{box-shadow:none!important}#nav-bar.hide[data-v-6bc1f258]{transform:translateY(-100%)}#nav-bar.fixed-on-top[data-v-6bc1f258]{position:absolute}[no-scrollbar] #nav-bar[data-v-6bc1f258]{width:calc(100% - var(--scrollbar-width))}#nav-bar #nav-container[data-v-6bc1f258]{display:flex;width:100%;max-width:var(--content-max);height:100%;justify-content:space-between}.shrink-view #nav-bar #nav-container[data-v-6bc1f258]{justify-content:space-around}#nav-bar #nav-container .left-container .nav-title-container[data-v-6bc1f258]{display:flex;height:100%;align-items:center;padding:0;border:none;background:none;gap:8px;-webkit-text-decoration:underline 3px var(--tieba-theme-color);text-decoration:underline 3px var(--tieba-theme-color)}#nav-bar #nav-container .left-container .nav-title-container .nav-icon[data-v-6bc1f258]{width:36px}#nav-bar #nav-container .left-container .nav-title-container .nav-title[data-v-6bc1f258]{color:var(--default-fore);font-size:20px;font-style:italic;font-weight:700;transition:.2s}#nav-bar #nav-container .left-container .nav-title-container:hover .nav-title[data-v-6bc1f258],#nav-bar #nav-container .left-container .nav-title-container:active .nav-title[data-v-6bc1f258],#nav-bar #nav-container .left-container .nav-title-container:focus .nav-title[data-v-6bc1f258]{color:var(--highlight-fore)}#nav-bar #nav-container .middle-container[data-v-6bc1f258]{display:flex;height:100%;justify-content:center}#nav-bar #nav-container .middle-container .middle-menu-trigger[data-v-6bc1f258]{height:100%;padding:0 10px;border:none;color:var(--default-fore);font-size:15px;font-weight:700;text-decoration:underline;-webkit-text-decoration:underline solid rgba(0,0,0,0);text-decoration:underline solid rgba(0,0,0,0);text-decoration-thickness:2px;-webkit-text-decoration:underline 2px rgba(0,0,0,0);text-decoration:underline 2px rgba(0,0,0,0)}#nav-bar #nav-container .middle-container .middle-menu-trigger[data-v-6bc1f258]:hover{-webkit-text-decoration:underline 2px var(--tieba-theme-color);text-decoration:underline 2px var(--tieba-theme-color)}#nav-bar #nav-container .right-container[data-v-6bc1f258]{display:flex;gap:6px}#nav-bar #nav-container .right-container .avatar-button[data-v-6bc1f258]{display:flex;height:100%;align-items:center;padding:0 2px;border:4px}#nav-bar #nav-container .right-container .avatar-button .nav-avatar[data-v-6bc1f258]{width:32px;height:32px;border-radius:24px;box-shadow:0 0 0 1px var(--border-color);transition:.4s}#nav-bar #nav-container .right-container .avatar-button:hover>.nav-avatar[data-v-6bc1f258]{box-shadow:0 0 0 2px var(--tieba-theme-color)}#nav-bar #nav-container .right-container .menu-button[data-v-6bc1f258]{padding:2px 8px;border:none;color:var(--highlight-fore);font-size:26px}#nav-bar #nav-container .right-container .menu-button[data-v-6bc1f258]:hover{color:var(--tieba-theme-color)}.menu-trigger[data-v-6bc1f258]{border-radius:0;background-color:transparent}.menu-trigger[data-v-6bc1f258]:hover{background-color:var(--default-hover)}.menu-trigger:hover>.nav-menu[data-v-6bc1f258],.menu-trigger:active>.nav-menu[data-v-6bc1f258]{display:block}.nav-menu[data-v-6bc1f258]{position:absolute;z-index:1201;display:none;cursor:default;font-weight:400}.nav-menu[data-v-6bc1f258]:hover{display:block}:root{--myself-theme-background: rgba(25, 110, 153, .2);--myself-theme-fore: rgb(16, 73, 101);--cengzhu-theme-background: rgba(255, 89, 107, .2);--cengzhu-theme-fore: rgb(178, 62, 90)}@media (prefers-color-scheme: dark){:root{--myself-theme-background: rgba(34, 135, 204, .2);--myself-theme-fore: rgb(40, 160, 242);--cengzhu-theme-background: rgba(204, 71, 103, .2);--cengzhu-theme-fore: rgb(255, 89, 118)}}.tag-elem{display:inline-block}.tag-elem:after{padding:2px 6px;border-radius:4px;margin:0 4px;background-color:var(--trans-light-background);color:var(--light-fore);font-size:12px;font-weight:400}.tieba-tags-me:after{content:"\u6211"}.tieba-tags-lz:after{content:"\u697C\u4E3B"}.tieba-tags-cz:after{content:"\u5C42\u4E3B"} ');

(function () {
   'use strict';

   var __defProp=Object.defineProperty,__defNormalProp=(e,t,o)=>t in e?__defProp(e,t,{enumerable:true,configurable:true,writable:true,value:o}):e[t]=o,__publicField=(e,t,o)=>__defNormalProp(e,"symbol"!=typeof t?t+"":t,o);!function(e,t,o){var n=(()=>"undefined"!=typeof GM_addStyle?GM_addStyle:undefined)(),r=(()=>"undefined"!=typeof GM_deleteValue?GM_deleteValue:undefined)(),a=(()=>"undefined"!=typeof GM_getValue?GM_getValue:undefined)(),i=(()=>"undefined"!=typeof GM_info?GM_info:undefined)(),l=(()=>"undefined"!=typeof GM_listValues?GM_listValues:undefined)(),c=(()=>"undefined"!=typeof GM_openInTab?GM_openInTab:undefined)(),d=(()=>"undefined"!=typeof GM_setValue?GM_setValue:undefined)();const s=t.defineComponent({__name:"user-button",props:{isAnchor:{type:Boolean},shadowBorder:{type:Boolean},unsetBackground:{type:Boolean},themeStyle:{type:Boolean},noBorder:{type:[Boolean,String]}},setup(e){const o=e;return (e,n)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.isAnchor?"a":"button"),{class:t.normalizeClass(["user-button",{"shadow-border":o.shadowBorder,"unset-background":o.unsetBackground,"theme-style":o.themeStyle,"no-border":o.noBorder,"no-border-all":"all"===o.noBorder}]),type:"button"},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default")])),_:3},8,["class"]))}}),u={class:"toast-controls"},p=(e,t)=>{const o=e.__vccOpts||e;for(const[n,r]of t)o[n]=r;return o},m=p(t.defineComponent({__name:"toast",props:{message:{},duration:{default:6e3},icon:{},type:{},blurEffect:{type:Boolean}},setup(e){const o=e,n=t.ref();function r(){if(o.icon)return o.icon;if(o.type)switch(o.type){case "basic":default:return;case "check":return "check";case "warning":return "warning";case "error":return "error"}}return (e,a)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"toastContainer",ref:n,class:t.normalizeClass(["toast-container",{"blur-effect":o.blurEffect}])},[r()?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["toast-icon icon",o.type])},t.toDisplayString(r()),3)):t.createCommentVNode("",true),t.createElementVNode("div",{class:t.normalizeClass(["toast-content",o.type])},t.toDisplayString(o.message),3),a[1]||(a[1]=t.createElementVNode("span",null,"|",-1)),t.createElementVNode("div",u,[t.createVNode(s,{class:"close-button icon","shadow-border":true,onClick:t.unref(se)},{default:t.withCtx((()=>a[0]||(a[0]=[t.createTextVNode("close")]))),_:1},8,["onClick"])])],2))}}),[["__scopeId","data-v-574dd812"]]);class g{constructor(e,t,o){__publicField(this,"selector"),__publicField(this,"options"),__publicField(this,"initEvent"),__publicField(this,"events",[]),this.selector=e,this.options=t,this.initEvent=o;}observe(){const e=()=>{this.events.forEach((e=>{e();}));};undefined===this.initEvent?e():window.addEventListener(this.initEvent,e);const t=new MutationObserver(e),o=xe(this.selector);o&&t.observe(o,this.options);}addEvent(...t){e.forEach(t,(e=>{this.events.includes(e)||(undefined===this.initEvent?e():window.addEventListener(this.initEvent,e),this.events.push(e));}));}}const b=new g("#j_p_postlist",{childList:true}),f=new g("#j_p_postlist",{childList:true,subtree:true}),h=new g("#new_list",{childList:true}),_=new g("#pagelet_frs-list\\/pagelet\\/thread",{attributes:true},"load");function v(){e.forEach(document.documentElement.attributes,(t=>{e.startsWith(t.name,"perf-")&&document.documentElement.removeAttribute(t.name);})),document.documentElement.toggleAttribute({default:"perf-default",saver:"perf-saver",performance:"perf-performance"}[O.get()]);}function k(t){return e.flatMapDeep(t,((t,o)=>[`${o} {`,...e.flatMapDeep(t,((t,o)=>`${e.startsWith(o,"--")?o:e.kebabCase(o)}: ${t};`)),"}",""])).join("\n")}function y(t){let o="";return e.forOwn(t,((t,n)=>{o+=`${e.kebabCase(n)}:${t};`;})),o}function x(e,t){return n(`${e}{${y(t)}}`)}function w(...t){const o=[];return e.forEach(t,(e=>{o.push(function(e){return n(e)}(e));})),he((()=>!e.isNil(document.body))).then((()=>{e.forEach(o,(e=>{document.head.appendChild(e);}));})),o}function E(e,o,n){const r=t.createApp(e,n);return {app:r,instance:r.mount(o)}}const V=e.once((function(){const t=Ve("div");var o,n;o=t,n={width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"},e.assign(o.style,n),document.body.appendChild(t);const r=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),r}));function C(t,o){0===document.getElementsByTagName("body").length&&document.documentElement.appendChild(Ve("body")),e.forEach(document.head.children,(t=>{t&&"LINK"===t.tagName.toUpperCase()&&e.includes(t.getAttribute("href"),"static-common/style")&&t.remove(),t&&"SCRIPT"===t.tagName.toUpperCase()&&e.includes(t.getAttribute("src"),"static-common/lib")&&t.remove();})),e.forEach(document.body.children,(t=>{t&&"STYLE"===t.tagName.toUpperCase()&&t.remove(),t&&"SCRIPT"===t.tagName.toUpperCase()&&t.remove(),t&&"IFRAME"===t.tagName.toUpperCase()&&t.remove(),t&&e.includes(t.className,"translatorExtension")&&t.remove(),t&&e.includes(t.className,"dialogJ")&&t.remove();}));const n=Ve("div",{id:"remixed-page"});return document.body.insertBefore(n,document.body.firstChild),document.body.appendChild(Ve("div",{id:"carousel_wrap"})),x("#spage-tbshare-container, .tbui_aside_float_bar",{display:"none !important"}),E(t,n,o)}function N(e,o,n){var r,a;null==(r=null==n?undefined:n.beforeRender)||r.call(n);const i=document.body.appendChild(Ve("div",{class:"dialog-wrapper"})),l=t.createApp(e,{...o,onUnload(e){var t,o;null==(t=null==n?undefined:n.beforeUnload)||t.call(n,c),l.unmount(),0===xe("[aria-modal]",[]).length&&(document.body.removeAttribute("no-scrollbar"),document.body.style.paddingRight=""),i.remove(),null==(o=null==n?undefined:n.unloaded)||o.call(n,e);}}),c={app:l,instance:l.mount(i)};return null==(a=null==n?undefined:n.rendered)||a.call(n,c),c}function B(e,o,n){let r;return N(t.createVNode(Te,o,"function"==typeof(a=r=t.h(e,n))||"[object Object]"===Object.prototype.toString.call(a)&&!t.isVNode(a)?r:{default:()=>[r]}));var a;}function L(t){const o=e.startsWith(t,"#")?e.trimStart(t,"#"):t,n=o.length<=4?t=>parseInt(e.repeat(t[0],2),16):t=>parseInt(e.join(t,""),16),r=o.length<=4?1:2,a=e.chunk(o,r);return {r:n(a[0]),g:n(a[1]),b:n(a[2]),a:4===a.length?n(a[3]):1}}function z(t){const o=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(o,n,r),i=Math.max(o,n,r),l=(i+a)/2;let c,d;return c=l<=.5?(i-a)/(i+a):(i-a)/(2-i-a),d=i===a?0:i===o?(n-r)/(i-a):i===n?2+(r-o)/(i-a):4+(o-n)/(i-a),d*=60,d<0&&(d+=360),{h:e.round(d,2),s:`${e.round(100*c)}%`,l:`${e.round(100*l)}%`,a:t.a}}const S=matchMedia("(prefers-color-scheme: dark)");let T;async function j(){T&&document.head.removeChild(T),T=x("body.custom-background",{backgroundImage:`url('${Z.get()}') !important`,backgroundRepeat:"no-repeat !important",backgroundAttachment:"fixed !important",backgroundSize:"cover !important"}),he((()=>!e.isNil(document.body))).then((function(){Z.get()?document.body.classList.add("custom-background"):document.body.classList.remove("custom-background");}));}const D="HacksawBlade",M="Tieba-Remix",$=`https://github.com/${D}/${M}`,A=`https://gitee.com/${D}/${M}`,F="https://passport.baidu.com/";class I{constructor(e,t,o,n){__publicField(this,"key"),__publicField(this,"defaultValue"),__publicField(this,"listeners"),__publicField(this,"migration"),this.key=e,this.defaultValue=t,this.listeners={getter:(null==o?undefined:o.getter)?[o.getter]:[],setter:(null==o?undefined:o.setter)?[o.setter]:[]},this.migration=n;}dispatchEvent(t,o){e.forEach(this.listeners[t],(e=>e(o)));}get(){let t=a(this.key,this.defaultValue);return _e(t)&&e.keys(t).length<e.keys(this.defaultValue).length&&(t=e.merge(this.defaultValue,t)),this.migration&&(t=this.migration(t),d(this.key,t)),this.dispatchEvent("getter",t),t}set(e){d(this.key,e),this.dispatchEvent("setter",e);}remove(){r(this.key);}merge(e){if(_e(e)){const t={...this.get(),...e};this.set(t),this.dispatchEvent("setter",t);}}mergeDeeply(t){if(_e(t)){const o=e.merge(this.get(),t);this.set(o),this.dispatchEvent("setter",o);}}}class P extends I{constructor(e,t,o,n,r){super(e,t,n,r),__publicField(this,"defaultInvalid",(()=>be(0,0,0,12))),this.defaultInvalid=o||this.defaultInvalid;}get(){let t=function(e,t){try{const o=a(e,{value:t,invalidTime:0}),n=Date.now();return o.invalidTime>=n?o.value:t}catch(o){return t}}(this.key,this.defaultValue);return _e(t)&&e.keys(t).length<e.keys(this.defaultValue).length&&(t=e.merge(this.defaultValue,t)),this.migration&&(t=this.migration(t)),this.dispatchEvent("getter",t),t}set(e,t){!function(e,t,o){try{d(e,o?{value:t,invalidTime:o}:t);}catch(n){console.warn("setUserValueTS",n);}}(this.key,e,t||this.defaultInvalid()),this.dispatchEvent("setter",e);}merge(e,t){if(_e(e)){const o={...this.get(),...e};this.set(o,t||this.defaultInvalid()),this.dispatchEvent("setter",o);}}mergeDeeply(t,o){if(_e(t)){const n=e.merge(this.get(),t);this.set(n,o||this.defaultInvalid()),this.dispatchEvent("setter",n);}}}const O=new I("perfProfile","default",{setter(){v();}}),U=new I("disabledModules",[]),R=new P("unreadFeeds",[]),H=new I("experimental",{moreBlurEffect:false,rasterEffect:false}),q=new P("latestRelease",undefined),W=new I("updateConfig",{time:"6h",notify:true}),G=new P("showUpdateToday",true,(()=>(new Date).setHours(0,0,0,0)+864e5)),Y=new I("ignoredTag",""),J=new I("themeType","auto",{setter(e){Pe(e);}}),K=new I("compactLayout",false),X=new I("wideScreen",{maxWidth:1080,noLimit:false}),Q=new I("themeColor",{light:"#614ec2",dark:"#7161c1"}),Z=new I("customBackground",undefined,{setter(){j();}}),ee=new I("pageExtension",{index:true,thread:true}),te=new I("userFonts",[]),oe=new I("monospaceFonts",["Consolas","JetBrains Mono","Fira Code","Menlo","monospace"]),ne=new I("navBarHideMode","fold"),re=new I("customStyle","");let ae,ie=false;const le=new class{constructor(e){__publicField(this,"items",[]),e&&(this.items=e);}peek(){return this.items[0]?this.items[0]:undefined}length(){return this.items.length}enqueue(...e){this.items.push(...e);}dequeue(){return this.items.shift()}isEmpty(){return 0===this.items.length}clear(){this.items=[];}};function ce(e){le.enqueue([{blurEffect:"performance"===O.get(),...e},-1]);const t=setInterval((()=>{if(!ie){const e=le.peek();e&&de(e[0]),clearInterval(t);}}),100);}function de(e){ie=true,ae=t.createApp(m,e),document.getElementById("t-wrapper")||document.body.insertBefore(Ve("div",{id:"t-wrapper"}),document.body.firstChild);const o=ae.mount("#t-wrapper"),n=le.peek();if(n)return n[1]=setTimeout((()=>{ae.unmount(),le.dequeue(),ie=false;}),e.duration?e.duration:6e3),o}function se(){ae.unmount();const e=le.peek();e&&clearTimeout(e[1]),le.dequeue(),ie=false;const t=le.peek();t&&setTimeout((()=>{de(t[0]);}),10);}async function ue(e){try{const t=await e;if(t.ok)return await t.json()}catch(t){ce({message:ge(t),type:"error",duration:6e3});}}const pe=[];function me(){return pe}function ge(e){const t=e.stack?e.stack:e.message;return `${i.script.name} ${i.script.version}\n${t}`}function be(e=0,t=0,o=0,n=0,r=0,a=0){const i=new Date;return new Date(i.getFullYear()+e,i.getMonth()+t,i.getDate()+o,i.getHours()+n,i.getMinutes()+r,i.getSeconds()+a,0).getTime()}function fe(t){let o="";return e.forOwn(t,((e,t)=>{e||(e=""),o+=`${t}=${e}&`;})),o.slice(0,-1)}function he(e,t=1/0){return new Promise(((o,n)=>{const r=performance.now();let a=-1;a=requestAnimationFrame((function l(){e()?(cancelAnimationFrame(a),o()):performance.now()-r>=t?(cancelAnimationFrame(a),n(new Error("等待超时")),console.warn("[waitUntil] 等待超时，该函数未在指定时间内得到期望值：",e),console.trace("发生错误的调用者："),"developer-only"===i.script.version&&alert(`等待超时，该函数未在指定时间内得到期望值：${e}`)):a=requestAnimationFrame(l);}));}))}function _e(e){return e&&"object"==typeof e&&!Array.isArray(e)}async function ve(e="text"){return new Promise(((t,o)=>{const n=document.createElement("input");n.type="file",n.addEventListener("change",(function(){if(!n.files)return;const r=n.files[0],a=new FileReader;switch(a.addEventListener("loadend",(function(){const e=a.result;t(e);})),a.addEventListener("error",(function(){o(new Error);})),e){case "text":a.readAsText(r);break;case "base64":a.readAsDataURL(r);}})),n.click();}))}const ke=[],ye="fade-in-elem";function xe(e,t,o){return t?Array.isArray(t)?Array.from(document.querySelectorAll(e)):o?Array.from(t.querySelectorAll(e)):t.querySelector(e)??undefined:document.querySelector(e)??undefined}async function we(t,o,n=1/0){return he((()=>!e.isNil(xe(t,o))),n).then((()=>xe(t,o)))}function Ee(e){e();}function Ve(t,o,n=[],r){const a=document.createElement(t);return o&&function(t,o){e.forOwn(o,((e,n)=>{e!==t.getAttribute(n)&&(_e(e)?t.setAttribute(n,JSON.stringify(o[n])):t.setAttribute(n,o[n]));}));}(a,o),"string"==typeof n?a.appendChild(document.createTextNode(n)):e.forEach(n,(e=>{"string"==typeof e?a.appendChild(document.createTextNode(e)):a.appendChild(e);})),a}function Ce(e,t,o="className"){const n=(()=>{switch(o){case "selector":{const e=new Set(xe(t,[]));return t=>e.has(t)}case "className":return e=>e.classList.contains(t)??false;case "id":return e=>e.id===t;case "tagName":return e=>e.tagName.toLowerCase()===t.toLowerCase()}})();for(;e.parentElement&&!n(e.parentElement);)e=e.parentElement;return e.parentElement?e.parentElement:undefined}function Ne(e){xe(e,[]).forEach((e=>{e.classList.add(ye),e.addEventListener("animationend",(()=>{e.style.opacity="1",e.classList.remove(ye);}));}));}class Be{constructor(){__publicField(this,"records",[]);}on(e,t,o,n){e.addEventListener(t,o,n),this.records.push({target:e,type:t,callback:o,options:n});}release(){e.forEach(this.records,(({target:e,type:t,callback:o,options:n})=>{e.removeEventListener(t,o,n);})),this.records=[];}}const Le={key:0,class:"dialog-title"},ze={class:"dialog-content"},Se={key:1,class:"dialog-button-panel"},Te=p(t.defineComponent({__name:"user-dialog",props:{modal:{type:Boolean,default:true},force:{type:Boolean,default:false},lockScroll:{type:Boolean,default:true},animation:{type:Boolean,default:true},blurEffect:{type:Boolean},title:{},dialogButtons:{default:()=>[]},shadowMode:{type:Boolean},modalStyle:{default:()=>({})},zIndex:{default:2025},contentStyle:{default:()=>({})},clickModalToUnload:{type:Boolean,default:true},pressEscapeToUnload:{type:Boolean,default:true},defaultPayload:{},renderAnimation:{default:"kf-dialog-in var(--default-duration)"},unloadAnimation:{default:"kf-dialog-out var(--default-duration)"}},emits:["unload"],setup(o,{expose:n,emit:r}){t.useCssVars((e=>({aa5a1948:e.$props.zIndex,"700337ac":e.$props.renderAnimation,e33c663e:e.$props.unloadAnimation})));const a=o,i=r,l=new Be,c=t.ref(false),d=t.ref(),u=t.ref(),p=t.ref(a.defaultPayload);let m,g;function b(e){p.value=e,c.value=false;}function f(){a.modal&&(m&&document.body.contains(m)?m.focus():g&&document.body.contains(g)&&g.focus()),p.value?i("unload",p.value):i("unload");}return t.onMounted((async function(){if(c.value=true,await t.nextTick(),d.value&&u.value)if(a.modal&&(l.on(u.value,"focusin",(e=>{m=e.relatedTarget??undefined,m&&(g=Ce(m,"user-dialog"));}),{once:true}),u.value.focus(),l.on(u.value,"focusout",(t=>{var o,n;const r=xe(".user-dialog-modal",[]);r[r.length-1].contains(u.value)&&(!e.isNil(t.relatedTarget)&&(null==(o=u.value)?undefined:o.contains(t.relatedTarget))||(null==(n=u.value)||n.focus(),l.on(window,"focusin",(function(){var e;null==(e=u.value)||e.focus();}),{once:true})));}))),a.lockScroll&&(document.body.setAttribute("no-scrollbar",""),document.body.style.paddingRight=`${V()}px`),a.force){const e="force-alert";l.on(d.value,"mousedown",(t=>{var o,n;t.target===d.value&&((null==(o=u.value)?undefined:o.classList.contains(e))||(null==(n=u.value)||n.classList.add(e),u.value&&l.on(u.value,"transitionend",(function(){var t;null==(t=u.value)||t.classList.remove(e);}),{once:true})));}));}else a.clickModalToUnload&&l.on(d.value,"mousedown",(e=>{e.target===d.value&&b(a.defaultPayload);})),a.pressEscapeToUnload&&l.on(d.value,"keydown",(e=>{"Escape"===e.key&&b(a.defaultPayload);}));})),t.onBeforeUnmount((function(){l.release();})),n({unload:b}),(e,o)=>(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createElementVNode("div",{ref_key:"dialogModal",ref:d,"aria-modal":"",class:"user-dialog-modal",style:t.normalizeStyle(t.unref(y)(e.modalStyle))},[t.createVNode(t.Transition,{name:"dialog",type:"animation",onAfterLeave:f},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{ref_key:"userDialog",ref:u,class:t.normalizeClass(["user-dialog remove-default",{default:!e.shadowMode,shadow:e.shadowMode}]),style:t.normalizeStyle(t.unref(y)(e.contentStyle)),tabindex:"-1"},[e.title?(t.openBlock(),t.createElementBlock("header",Le,t.toDisplayString(e.title),1)):t.createCommentVNode("",true),t.createElementVNode("div",ze,[t.renderSlot(e.$slots,"default",{},undefined,true)]),e.dialogButtons.length>0?(t.openBlock(),t.createElementBlock("footer",Se,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(e.dialogButtons,(e=>(t.openBlock(),t.createBlock(s,{class:t.normalizeClass(["dialog-button",{icon:e.icon}]),"shadow-border":"","theme-style":"themed"===e.style,onClick:t=>{var o;(null==(o=e.event)?undefined:o())&&b();}},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.icon?e.icon:e.text),1)])),_:2},1032,["theme-style","onClick","class"])))),256))])):t.createCommentVNode("",true)],6),[[t.vShow,c.value]])])),_:3})],4)]))}}),[["__scopeId","data-v-90ab33e5"]]),je={ref:"messageWrapper",class:"message-wrapper"},De=p(t.defineComponent({__name:"message-box",props:{title:{},content:{},type:{default:"okOnly"}},setup(e,{expose:o}){const n=e,r={response:"positive",text:"确定",event:()=>u("positive"),style:"themed"},a={response:"cancel",text:"取消",event:()=>u("cancel")},i={response:"positive",text:"接受",event:()=>u("positive"),style:"themed"},l={response:"negative",text:"拒绝",event:()=>u("negative")},c=t.ref(),d=t.ref("cancel"),s={animation:true,lockScroll:true,modal:true,title:n.title,force:"forceTrueFalse"===n.type,dialogButtons:(()=>{switch(n.type){case "okOnly":return [r];case "okCancel":return [r,a];case "forceTrueFalse":return [i,l]}})(),defaultPayload:d.value};function u(e,t){var o;d.value=e,null==(o=c.value)||o.unload(e);}return o({response:d}),(e,o)=>(t.openBlock(),t.createBlock(Te,t.mergeProps({ref_key:"dialog",ref:c},s,{onUnload:o[0]||(o[0]=e=>u(d.value))}),{default:t.withCtx((()=>[t.createElementVNode("div",je,[e.content?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},["string"==typeof e.content?(t.openBlock(),t.createElementBlock("div",{key:0,ref:"messageContent",class:"message markdown"},t.toDisplayString(e.content),513)):(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.content),{key:1}))],64)):t.createCommentVNode("",true),t.renderSlot(e.$slots,"default",{},undefined,true)],512)])),_:3},16))}}),[["__scopeId","data-v-00caa275"]]);async function Me(e){return new Promise((t=>{N(De,e,{beforeUnload(e){const o=e.instance.response;t(o);}});}))}function $e(){if("tieba.baidu.com"!==location.hostname.toLowerCase())return "unhandled";const t=location.pathname.toLocaleLowerCase();return e.includes(["/","/index.html"],t)?"index":/\/p\/\d+/.test(t)?"thread":"/f"===t?"forum":"/home/main"===t?"user":"unhandled"}async function Ae(e=false){if(q.get()&&!e)return q.get();{const e=function(){switch(W.get().time){case "1h":return 1;case "3h":return 3;case "6h":return 6;case "never":return  -1}}();if(e<0)return;const t=`https://gitee.com/api/v5/repos/${D}/${M}/releases/latest/`,o=await fetch(t);if(o.ok){const t=await o.json();if(t.message)return;return q.set(t,be(0,0,0,e)),t}return}}function Fe(e=false){"never"!==W.get().time&&W.get().notify&&G.get()&&"developer-only"!==i.script.version&&Ae().then((n=>{if(n&&n.tag_name.slice(1)!==i.script.version){if(Y.get()===n.tag_name)return;B(t.createVNode("div",{class:"markdown",innerHTML:o.marked(n.body),style:y({maxWidth:"600px"})},null),{title:n.name,dialogButtons:[{text:"安装",event:()=>(function(e){function t(){ce({message:"安装失败：未找到可用的资源",type:"error",duration:6e3,blurEffect:true});}if(!e.assets||e.assets.length<=0)return void t();const o=function(){for(const t of e.assets)if(t.name&&t.name.endsWith(".user.js"))return t.browser_download_url}();if(!o)return void t();c(o,{active:true});}(n),true),style:"themed"},{text:"今日不再提醒",event:()=>(G.set(false),true)},{text:"跳过该版本",event:()=>(Y.set(n.tag_name),true)}]});}else e&&Me({title:"检查更新",content:"当前已是最新版本",type:"okCancel"});}));}function Ie(e){return `${A}/raw/beta/${e}`}function Pe(e){switch(e){case "dark":o();break;case "light":t();break;default:S.matches?o():t();}function t(){document.documentElement.classList.add("light-theme"),document.documentElement.classList.remove("dark-theme"),document.documentElement.classList.remove("dark");}function o(){document.documentElement.classList.add("dark-theme"),document.documentElement.classList.remove("light-theme"),document.documentElement.classList.add("dark");}}function Oe(){const t=["unreadFeeds","latestRelease","showUpdateToday"],o=e.filter(l(),(o=>!e.includes(t,o))),n=e.map(o,(e=>a(e))),r=e.zipObject(o,n);!function(e,t){const o=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(o),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n);}(`tieba-remix-backup@${(new Date).getTime()}.json`,JSON.stringify(r));}o.marked.setOptions({});const Ue={feedlist:()=>fetch(`/f/index/feedlist?${fe({is_new:1,tag_id:"like"})}`),URL_profile:e=>`https://gss0.baidu.com/7Ls0a8Sm2Q5IlBGlnYG/sys/portrait/item/${e}`,userInfo:e=>fetch(`/f/user/json_userinfo?${fe({_:e})}`),URL_userHome:e=>`/home/main?id=${e}&fr=index`,suggestions:(e,t="UTF-8",o)=>fetch(`/suggestion?${fe({query:e,ie:t,_:o})}`),topicList:()=>fetch("/hottopic/browse/topicList"),URL_forum:(e,t="utf-8")=>`/f?ie=${t}&kw=${e}`,unreadMessages:e=>fetch(`/im/pcmsg/query/getAllUnread?${fe({_:e})}`),favUpdateNum:()=>fetch("/sysmsg/userpost/queryStoreUpdateNum"),tbs:()=>fetch("/dc/common/tbs"),imgtbs:()=>fetch("/dc/common/imgtbs"),followedForums:()=>fetch("/mo/q/newmoindex"),userInfoAll:(e,t="UTF-8")=>fetch(`/home/get/panel?${fe({ie:t,un:e})}`),followForum:(e,t,o)=>fetch(`/mo/q/favolike?${fe({itb_tbs:e,fid:t,kw:o})}`),unfollowForum:(e,t)=>fetch(`/mo/q/delmylike?${fe({itb_tbs:e,forum_name:t})}`),getUserFromUID:e=>fetch(`/im/pcmsg/query/getUserInfo?${fe({chatUid:e})}`),oneKeySign:()=>fetch("/tbmall/onekeySignin1"),hotFeeds:(e,t,o="utf-8",n)=>fetch(`/mo/q/newmoindex?${fe({un:e,pn:t,ie:o,_:n})}`),totalComments:(e,t,o,n,r=false)=>fetch(`/p/totalComment?${fe({t:e,tid:t,fid:o,pn:n,see_lz:Number(r)})}`),topicRelatedThreads:(e,t,o,n,r=1)=>fetch(`/hottopic/browse/getTopicRelateThread?${fe({topic_name:e,page_no:t,last_id:o,topic_id:n,sort_type:r})}`),addFavoritePost:(e,t,o,n="utf-8")=>fetch("/i/submit/open_storethread",{method:"POST",body:JSON.stringify({tbs:e,tid:t,fid:o,encoding:n})}),forumSignInfo:(e,t="utf-8")=>fetch(`/sign/info?${fe({kw:e,ie:t})}`),forumLoadMonth:(e,t="utf-8")=>fetch(`/sign/loadmonth?${fe({kw:e,ie:t})}`),addFloor:(e,t,o,n,r,a,i,l="comment",c="reply")=>fetch("/f/commit/post/add",{method:"POST",body:JSON.stringify({ie:"utf-8",kw:t,fid:o,tid:n,floor_num:a,rich_text:Number(i),tbs:e,content:r,basilisk:1,nick_name:PageData.user.user_nickname,ev:l,"biz[po]":PageData.user.portrait.split("?")[0],__type__:c,geetest_success:0})})};function Re(t,o){const n=[],r=(new DOMParser).parseFromString(t,"text/html").getElementsByClassName("j_feed_li");return e.forEach(r,(t=>{if(t.classList.contains("home-place-item"))return;const o=function(t){const o=xe(".title-tag-wraper a",t),n=t.getElementsByClassName("thread-name-wraper")[0],r=n.getElementsByTagName("a")[0],a=xe(".list-post-num em",n),i=xe("img:not(.nicknameEmoji)",t,[]),l=t.getElementsByClassName("n_reply")[0].getElementsByTagName("a")[0],c=[];return i.length>0&&e.forEach(i,(t=>{c.push({thumb:t.src,original:e.defaultTo(t.getAttribute("original"),"")});})),{id:e.defaultTo(t.getAttribute("data-thread-id"),""),forum:{id:e.defaultTo(t.getAttribute("data-forum-id"),""),name:(null==o?undefined:o.title)??"",href:(null==o?undefined:o.href)??""},author:{portrait:e.split(l.href,/(\?id=)|&/)[2],name:He(l.innerHTML),href:l.href},time:e.defaultTo(t.getElementsByClassName("time")[0].textContent,""),title:r.title,content:e.defaultTo(t.getElementsByClassName("n_txt")[0].textContent,""),replies:e.defaultTo(null==a?undefined:a.getAttribute("data-num"),0),images:c}}(t);n.push(o);})),n}function He(t){const o=new RegExp("(?<=nickemoji\\/).*?(?=.png)","gi");if(!t.match(o))return t;const n=["º","◎","▫","◆","♤","♀","♂","ლ","♬","☞","☜","✆","☎","♋","Ω","℃","℉","😄","😍","😘","😚","😜","😳","😁","😞","😢","😂","😫","😨","😱","😡","😷","😲","😈","🐷","🐶","🐑","🐵","🐨","🐴","🐼","🐯","🍪","🍺","🍦","🍭","🍗","🍼","🔯","🍒","👀","🐭","😇","😺","😻","🙀","😿","😹","😾","👹","👺","🌞","🌝","🌚","🌜","🌛","👦","👧","🎎","🌸","🍀","🌹","🌻","🌺","🍁","🌿","🍄","🌵","🌴","🌳","🌰","🌱","🌼","🌐","🌙","🌋","🌌","⛅","⚡","☔","⛄","🌀","🌈","🌊","🔥","✨","🌟","💥","💫","💢","💦","💧","💤","💨","🎀","🌂","💄","💕","💖","💞","💘","💌","💋","💝","🎒","🎓","🎏","🎃","👻","🎅","🎄","🎁","🙈","🐒","💯","👯","💍"],r=["1-1.png","1-2.png","1-4.png","1-5.png","1-6.png","1-7.png","1-8.png","1-9.png","1-10.png","1-11.png","1-12.png","1-13.png","1-14.png","1-15.png","1-16.png","1-17.png","1-18.png","1-19.png","1-20.png","1-21.png","1-22.png","1-23.png","1-24.png","1-25.png","1-26.png","1-27.png","1-28.png","1-29.png","1-30.png","1-31.png","1-32.png","1-33.png","1-34.png","1-35.png","2-1.png","2-2.png","2-3.png","2-4.png","2-5.png","2-6.png","2-7.png","2-8.png","2-9.png","2-10.png","2-11.png","2-12.png","2-13.png","2-14.png","2-15.png","2-16.png","2-17.png","2-18.png","2-19.png","2-20.png","2-21.png","2-22.png","2-23.png","2-24.png","2-25.png","2-26.png","2-27.png","2-28.png","2-29.png","2-30.png","2-31.png","2-32.png","2-33.png","2-34.png","2-35.png","3-1.png","3-2.png","3-3.png","3-4.png","3-5.png","3-6.png","3-7.png","3-8.png","3-9.png","3-10.png","3-11.png","3-12.png","3-13.png","3-14.png","3-15.png","3-16.png","3-17.png","3-18.png","3-19.png","3-20.png","3-21.png","3-22.png","3-23.png","3-24.png","3-25.png","3-26.png","3-27.png","3-28.png","3-29.png","3-30.png","3-31.png","3-32.png","3-33.png","3-34.png","3-35.png","4-1.png","4-2.png","4-3.png","4-4.png","4-5.png","4-6.png","4-7.png","4-8.png","4-9.png","4-10.png","4-11.png","4-12.png","4-13.png","4-14.png","4-15.png","4-16.png","4-17.png","4-18.png","4-19.png","4-20.png","4-21.png","4-22.png","4-23.png"],a=t.match(o);return null==a||a.forEach((o=>{const a=n[r.indexOf(`${o}.png`)],i=e.split(t,RegExp(`<img[^>]*?${o}.png(?:[^>]*?)*>`,"g"));t=e.join(i,decodeURIComponent(a));})),t}function qe(e){if(!(e<0))return e>=1&&e<=3?"green":e>=4&&e<=9?"blue":e>=9&&e<=15?"yellow":e>=16?"orange":undefined}const We={class:"block-panel blur-if-custom-background"};const Ge=p({},[["render",function(e,o){return t.openBlock(),t.createElementBlock("div",We,[t.renderSlot(e.$slots,"default")])}]]);
   /**
      * Flex Masonry
      * @author @HacksawBlade
      * @version 1.1
      * @license MIT
      */class Ye{constructor(e){__publicField(this,"container"),__publicField(this,"items"),__publicField(this,"columnContainers",[]),__publicField(this,"columnWidth"),__publicField(this,"gap"),__publicField(this,"options"),__publicField(this,"containerSelector"),__publicField(this,"itemsSelector"),__publicField(this,"columnSelector",".masonry-column"),__publicField(this,"columnsHeight",[]),__publicField(this,"fragment"),__publicField(this,"_columns"),e=function(e){return e.gap=e.gap||0,e.autoExec=undefined===e.autoExec||e.autoExec,e.fixScrollOffset=undefined!==e.fixScrollOffset&&e.fixScrollOffset,e}(e),this.container=(()=>{if("string"==typeof e.container){this.containerSelector=e.container;const t=document.querySelector(e.container);if(t)return t;throw new Error("Can't find container element.")}return e.container})(),e.items?this.items=(()=>{if("string"==typeof e.items){this.itemsSelector=e.items;const t=document.querySelectorAll(e.items);return t?Array.from(t):[]}return e.items})().map((e=>(e.style.visibility="hidden",{element:e,cachedHeight:e.clientHeight}))):this.items=[],this.columnWidth=e.columnWidth,e.gap?Array.isArray(e.gap)?this.gap=e.gap:this.gap=[e.gap,e.gap]:this.gap=[0,0],this._columns=0,this.options=e,this.initStyle(),e.autoExec&&this.exec();}initStyle(){this.container.style.display="flex",this.container.style.alignItems="flex-start",this.container.style.justifyContent="center",this.container.style.gap=`${this.gap[0]}px`;}get columns(){return this._columns}exec(){this.calcColumns();const e=window.scrollY;this.calc(),this.layout(),this.options.fixScrollOffset&&window.scrollTo(0,e);}adjustWidth(){const e=this.container.querySelectorAll(this.columnSelector),t=(this.container.clientWidth-this.gap[0]*(this._columns-1))/this._columns;e.forEach((e=>{e.style.width=`${t}px`;}));}calc(){this.columnsHeight=Array(this.calcColumns()).fill(0);const e=document.createDocumentFragment();this.container.querySelectorAll(this.columnSelector).forEach((e=>{e.remove();})),this.columnContainers.length=0;for(let t=0;t<this._columns;t++)this.columnContainers.push(e.appendChild(Je("div",{class:this.columnSelector.substring(1),style:`width: ${(this.container.clientWidth-this.gap[0]*(this._columns-1))/this._columns}px;`})));this.columnContainers.forEach((e=>{e.style.display="flex",e.style.flexDirection="column",e.style.gap=`${this.gap[1]}px`;})),this.items.forEach((e=>{this._appendElement(e);})),this.fragment=e;}layout(){if(!this.fragment)throw Error("Never conducted layout calculations before. You should use exec() or calc() first.");this.container.appendChild(this.fragment);}removeUnusedColumns(){this.container.querySelectorAll(this.columnSelector).forEach((e=>{0===e.children.length&&e.remove();}));}clear(){this.items.length=0,this.columnsHeight=Array(this.calcColumns()).fill(0);}calcColumns(){return this._columns=Math.ceil((this.container.clientWidth-this.columnWidth)/(this.columnWidth+this.gap[0])),this._columns}appendElement(...e){const t=e.map((e=>({element:e,cachedHeight:e.clientHeight})));this._appendElement(...t),this.items.push(...t);}_appendElement(...e){e.forEach((e=>{const t=this.columnsHeight.indexOf(Math.min(...this.columnsHeight));this.columnsHeight[t]+=e.cachedHeight,this.columnContainers[t].appendChild(e.element),e.element.style.visibility="visible";0!==this.columnContainers[t].clientHeight&&(this.columnsHeight[t]=this.columnContainers[t].clientHeight);}));}append(e,t){const o=(()=>{if(e){if("string"==typeof e){const t=document.querySelectorAll(e);return Array.from(t)}return e}if(this.itemsSelector){const e=Array.from(document.querySelectorAll(this.itemsSelector)),t=e.length-this.items.length;if(t>0){return e.slice(-t)}}})();o&&(!t||t<=0?o.forEach((e=>{this.appendElement(e);})):o.forEach(((e,o)=>{setTimeout((()=>{this.appendElement(e);}),t*o);})));}refreshContainer(){if(this.containerSelector){const e=document.querySelector(this.containerSelector);e&&(this.container=e);}}}function Je(e,t){const o=document.createElement(e);for(const n in t)o.setAttribute(n,t[n]);return o}class Ke{constructor(e){__publicField(this,"id"),__publicField(this,"callback"),__publicField(this,"thenfn",(()=>{})),__publicField(this,"stopCondition"),this.callback=e??(()=>{}),this.stopCondition=()=>false,this.id=requestAnimationFrame(this.tick.bind(this));}tick(){this.stopCondition()?this.cancel():(this.callback(),this.id=requestAnimationFrame(this.tick.bind(this)));}cancel(){this.id&&(cancelAnimationFrame(this.id),this.id=undefined),this.thenfn();}until(e){return this.stopCondition=e,this}then(e){this.thenfn=e;}}const Xe=p(t.defineComponent({__name:"header-progress",props:{calc:{type:Function}},setup(e){const o=e,n=t.ref(),r=t.ref(0);function a(){r.value=o.calc();}return t.onMounted((function(){n.value&&new Ke(a).until((()=>r.value>=100));})),(e,o)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"headerProgress",ref:n,id:"header-progress",class:t.normalizeClass({complete:r.value>=100}),style:t.normalizeStyle(`width: ${r.value}vw;`)},null,6))}}),[["__scopeId","data-v-782eb887"]]),Qe=p(t.defineComponent({__name:"toggle-button",props:{modelValue:{type:Boolean,required:true,default:false},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=t.useModel(e,"modelValue"),n=t.computed((()=>o.value?"toggle-on":"toggle-off"));function r(){o.value=!o.value;}return (e,o)=>(t.openBlock(),t.createBlock(s,{class:t.normalizeClass(["toggle-button",n.value]),onClick:r},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default",{},undefined,true)])),_:3},8,["class"]))}}),[["__scopeId","data-v-6728dba5"]]),Ze=["src"],et={class:"zoom-size"},tt=["src","onClick"],ot=p(t.defineComponent({__name:"images-viewer",props:{content:{},defaultIndex:{default:0}},setup(o){const n=o,r=[];"string"==typeof n.content?r.push(n.content):Array.isArray(n.content)?r.push(...n.content):e.map(n.content.images,(e=>{r.push(e.original);}));const a=t.ref(),i=t.ref(),l=t.ref(),c=t.ref(),d=t.ref(n.defaultIndex),u=t.ref(1),p=t.ref(0),m=t.ref(undefined),g=t.ref(undefined),b=t.ref(true),f=t.ref(false),h=t.computed((()=>({transform:`scale(${u.value}) rotate(${p.value}deg)`,left:`${m.value}px`,top:`${g.value}px`,transition:f.value?"all 0.4s ease, left 0s, top 0.1s ease-out":"all 0.4s ease, left 0s, top 0s"}))),_=t.computed((function(){var e;const t=(null==(e=c.value)?undefined:e.naturalHeight)??0;return {naturalHeight:t??0,scaledHeight:t??0*u.value,vliMaxTop:-t*(1-u.value)/2+window.innerHeight/2,vliMinTop:-t*u.value-t*(1-u.value)/2+window.innerHeight/2}})),v={blurEffect:false,shadowMode:true,contentStyle:{width:"100%",height:"100%"},renderAnimation:"kf-fade-in var(--fast-duration)",unloadAnimation:"kf-fade-out var(--fast-duration)"};function k(){var e;null==(e=a.value)||e.unload();}function x(){d.value>0&&d.value--;}function w(){d.value<r.length-1&&d.value++;}function E(e){u.value+=e,u.value<.1&&(u.value=.1),u.value>8&&(u.value=8);}function V(e){p.value+=e;}function C(e){c.value&&(f.value?(g.value||(g.value=0),g.value+=-e.deltaY/1e3*window.innerHeight,b.value=e.deltaY<0):(E(-e.deltaY/1e3),b.value=e.deltaY>0));}function N(e){e.target===l.value&&k();}return t.onMounted((async()=>{var e,o,n,r;await t.nextTick();let a=0,l=0;function d(e){c.value&&(m.value=e.clientX-a,g.value=e.clientY-l);}null==(e=i.value)||e.addEventListener("wheel",C,{passive:true}),null==(o=c.value)||o.addEventListener("mousedown",(e=>{c.value&&(e.preventDefault(),f.value||(a=e.clientX-c.value.offsetLeft,l=e.clientY-c.value.offsetTop,document.addEventListener("mousemove",d)));})),document.addEventListener("mouseup",(e=>{e.preventDefault(),document.removeEventListener("mousemove",d);})),null==(n=c.value)||n.addEventListener("load",(function(){c.value&&(f.value=false,(()=>{if(c.value.naturalHeight<window.innerHeight&&c.value.naturalWidth<window.innerWidth)u.value=1;else {if(c.value.naturalHeight/c.value.naturalWidth>=5)return f.value=true,u.value=window.innerWidth/2/c.value.naturalWidth,void(m.value=undefined);f.value=false,u.value=Math.min(window.innerWidth/c.value.naturalWidth,window.innerHeight/c.value.naturalHeight);}})(),c.value.classList.remove("changing"));})),null==(r=c.value)||r.addEventListener("transitionend",(function(){var e,t,o;Math.abs(p.value)>=360&&(null==(e=c.value)||e.classList.add("changing"),p.value=Math.abs(p.value)%360,null==(t=c.value)||t.offsetHeight,null==(o=c.value)||o.classList.remove("changing"));}));})),t.onUnmounted((function(){var e;null==(e=i.value)||e.removeEventListener("wheel",C);})),t.watch(d,(function(){var e;null==(e=c.value)||e.classList.add("changing"),p.value=0,m.value=undefined,g.value=undefined;})),t.watch(g,(function(e){if(f.value){if(!c.value||!g.value||!e)return;e>_.value.vliMaxTop&&(g.value=_.value.vliMaxTop),e<_.value.vliMinTop&&(g.value=_.value.vliMinTop);}})),t.watch(f,(function(e){e&&c.value&&!g.value&&(g.value=Math.max(_.value.vliMinTop,-c.value.naturalHeight*(1-u.value)/2));})),(o,n)=>(t.openBlock(),t.createBlock(Te,t.mergeProps({ref_key:"dialog",ref:a},v),{default:t.withCtx((()=>[t.createElementVNode("div",{ref_key:"imagesViewer",ref:i,class:"images-viewer",onClick:N},[t.createElementVNode("div",{ref_key:"imageContainer",ref:l,class:"image-container dialog-toggle"},[t.createElementVNode("img",{ref_key:"currImage",ref:c,class:"curr-image changing",src:r[d.value],style:t.normalizeStyle(t.unref(y)(h.value))},null,12,Ze)],512),t.createElementVNode("div",{class:t.normalizeClass(["control-panel head-controls",{hide:!b.value}])},[t.createVNode(Qe,{class:"vli-mode head-btn icon",title:"长图模式",modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=e=>f.value=e)},{default:t.withCtx((()=>n[5]||(n[5]=[t.createTextVNode("chrome_reader_mode ")]))),_:1},8,["modelValue"]),n[11]||(n[11]=t.createElementVNode("span",null,"|",-1)),t.createVNode(s,{class:"zoom-in head-btn icon",title:"缩小",onClick:n[1]||(n[1]=e=>E(.5))},{default:t.withCtx((()=>n[6]||(n[6]=[t.createTextVNode(" zoom_in ")]))),_:1}),t.createVNode(s,{class:"zoom-out head-btn icon",title:"放大",onClick:n[2]||(n[2]=e=>E(-0.5))},{default:t.withCtx((()=>n[7]||(n[7]=[t.createTextVNode(" zoom_out ")]))),_:1}),t.createElementVNode("span",et,t.toDisplayString(t.unref(e).round(100*u.value)+"%"),1),n[12]||(n[12]=t.createElementVNode("span",null,"|",-1)),t.createVNode(s,{class:"turn-left head-btn icon",title:"逆时针旋转",onClick:n[3]||(n[3]=e=>V(-90))},{default:t.withCtx((()=>n[8]||(n[8]=[t.createTextVNode(" undo ")]))),_:1}),t.createVNode(s,{class:"turn-right head-btn icon",title:"顺时针旋转",onClick:n[4]||(n[4]=e=>V(90))},{default:t.withCtx((()=>n[9]||(n[9]=[t.createTextVNode(" redo ")]))),_:1}),n[13]||(n[13]=t.createElementVNode("span",null,"|",-1)),t.createVNode(s,{class:"close head-btn icon",title:"关闭",onClick:k},{default:t.withCtx((()=>n[10]||(n[10]=[t.createTextVNode(" close ")]))),_:1})],2),r.length>1?(t.openBlock(),t.createBlock(s,{key:0,class:t.normalizeClass(["control-panel back icon",{hide:!b.value}]),title:"上一张",onClick:x},{default:t.withCtx((()=>n[14]||(n[14]=[t.createTextVNode(" chevron_left ")]))),_:1},8,["class"])):t.createCommentVNode("",true),r.length>1?(t.openBlock(),t.createBlock(s,{key:1,class:t.normalizeClass(["control-panel forward icon",{hide:!b.value}]),title:"下一张",onClick:w},{default:t.withCtx((()=>n[15]||(n[15]=[t.createTextVNode(" chevron_right ")]))),_:1},8,["class"])):t.createCommentVNode("",true),t.createElementVNode("div",{class:t.normalizeClass(["control-panel bottom-controls",{hide:!b.value}])},[(t.openBlock(),t.createElementBlock(t.Fragment,null,t.renderList(r,((e,o)=>t.createVNode(s,{class:t.normalizeClass(["bottom-btn",{selected:o===d.value}]),"no-border":"all"},{default:t.withCtx((()=>[t.createElementVNode("img",{class:"image-list",src:e,alt:"",onClick:e=>d.value=o},null,8,tt)])),_:2},1032,["class"]))),64))],2)],512)])),_:1},16))}}),[["__scopeId","data-v-dba090e8"]]);function nt(...e){return e[0]instanceof HTMLElement?function(e,t,o){const n=e.getBoundingClientRect();return rt(n.width,n.height,t,o)}(e[0],e[1],e[2]):"number"==typeof e[0]&&"number"==typeof e[1]?rt(e[0],e[1],e[2],e[3]):{x:0,y:0}}function rt(e,t,o,n){const r=(()=>{switch(n){case "baseline":return 0;case "middle":return e/2}})();return {x:Math.min(o.x-r,window.innerWidth-V()-Math.ceil(e)),y:Math.ceil(o.y+t)>window.innerHeight?o.y-t:o.y}}function at(e,o){const n=t.createVNode(e);return t.render(n,o),{el:o.firstChild,vnode:n}}function it(t,o,n){const r=Ve("div"),a=at(t,o.appendChild(r));return e.forEach(r.children,(e=>{o.insertBefore(e,n??null);})),r.remove(),a}function lt(t,o){const n=Ve("div"),r=at(t,o.appendChild(n));return e.forEach(n.children,(e=>{o.appendChild(e);})),n.remove(),r}const ct={class:"user-check"},dt=["for"],st={class:"label-text"},ut=p(t.defineComponent({__name:"user-check",props:t.mergeModels({id:{},text:{default:""}},{modelValue:{type:Boolean,required:true,default:false},modelModifiers:{}}),emits:t.mergeModels(["change"],["update:modelValue"]),setup(e,{emit:o}){const n=t.useModel(e,"modelValue"),r=o;return (e,o)=>(t.openBlock(),t.createElementBlock("div",ct,[t.createElementVNode("label",{for:e.id,class:"check-label"},[t.createVNode(Qe,{modelValue:n.value,"onUpdate:modelValue":[o[0]||(o[0]=e=>n.value=e),o[1]||(o[1]=e=>r("change",n.value))],id:e.id,class:"check-button icon","theme-style":n.value},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(n.value?"check":""),1)])),_:1},8,["modelValue","id","theme-style"]),t.createElementVNode("p",st,t.toDisplayString(e.text),1)],8,dt)]))}}),[["__scopeId","data-v-b5077da8"]]),pt=p(t.defineComponent({__name:"user-textbox",props:{modelValue:{default:""},mutiLines:{type:Boolean},lodashStyle:{type:Boolean,default:false}},emits:["update:modelValue"],setup(e){const o=e;return (e,n)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.mutiLines?"textarea":"input"),{class:t.normalizeClass(["user-textbox",{"lodash-style":o.lodashStyle}]),type:"text",value:e.modelValue,onInput:n[0]||(n[0]=t=>e.$emit("update:modelValue",t.target.value)),autocomplete:"off"},null,40,["class","value"]))}}),[["__scopeId","data-v-a690d550"]]),mt=new I("shieldList",[],undefined,(t=>e.map(t,bt)));function gt(e,t,o){if(!e.toggle)return  false;if(e.scope!==o)return  false;if(undefined===e.ignoreCase&&(e.ignoreCase=true),"text"===e.type&&(e.ignoreCase&&(e.content=e.content.toLowerCase(),t=t.toLowerCase()),-1!==t.indexOf(e.content)))return  true;if("regex"===e.type){let o;if(o=e.ignoreCase?new RegExp(e.content,"i"):new RegExp(e.content),o.test(t))return  true}return  false}function bt(t){if(!e.has(t,"rule"))return t;const o={content:t.rule,type:"text",scope:"content",toggle:t.switch,ignoreCase:t.ignoreCase,matchHTML:t.matchHTML};return "string"===t.type&&(o.type="text"),"posts"===t.scope&&(o.scope="content"),"users"===t.scope&&(o.scope="username"),o}const ft={id:"shield-editor"},ht={id:"shield-editor-rule-control"},_t={id:"shield-editor-toggle-control"},vt=p(t.defineComponent({__name:"shield-editor",props:{rule:{}},setup(e){const o=e,n=t.ref(),r=t.ref("regex"===o.rule.type),a=t.ref("username"===o.rule.scope),i=t.ref({...o.rule});function l(e){"Enter"===e.key&&(e.preventDefault(),c());}function c(){var e;const t={...i.value,type:r.value?"regex":"text",scope:a.value?"username":"content"};null==(e=n.value)||e.unload(t);}function d(){var e;null==(e=n.value)||e.unload({...o.rule});}function u(){var e;null==(e=n.value)||e.unload();}return (e,p)=>(t.openBlock(),t.createBlock(Te,{ref_key:"dialog",ref:n,title:"编辑","dialog-buttons":[{text:"确定",event:c,style:"themed"},{text:"取消",event:d}],"default-payload":{...o.rule}},{default:t.withCtx((()=>[t.createElementVNode("div",ft,[t.createElementVNode("div",ht,[p[4]||(p[4]=t.createElementVNode("label",{for:"shield-editor-rule"},"规则",-1)),t.createVNode(pt,{modelValue:i.value.content,"onUpdate:modelValue":p[0]||(p[0]=e=>i.value.content=e),id:"shield-editor-rule","muti-lines":"",onKeypress:l},null,8,["modelValue"])]),t.createElementVNode("div",_t,[t.createVNode(ut,{modelValue:i.value.toggle,"onUpdate:modelValue":p[1]||(p[1]=e=>i.value.toggle=e),id:"shield-editor-toggle",text:"启用"},null,8,["modelValue"]),t.createVNode(ut,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=e=>r.value=e),id:"shield-editor-regex",text:"正则表达式"},null,8,["modelValue"]),t.createVNode(ut,{modelValue:a.value,"onUpdate:modelValue":p[3]||(p[3]=e=>a.value=e),id:"shield-editor-user",text:"屏蔽用户名"},null,8,["modelValue"])]),t.createVNode(s,{id:"shield-editor-delete",onClick:u},{default:t.withCtx((()=>p[5]||(p[5]=[t.createTextVNode("删除规则")]))),_:1})])])),_:1},8,["dialog-buttons","default-payload"]))}}),[["__scopeId","data-v-336c791d"]]),kt={class:"shield-container"},yt={key:0,class:"words-container"},xt={class:"icon"},wt={class:"content"},Et={key:1,class:"empty-list-container"},Vt={class:"shield-controls"},Ct={class:"submit-controls"},Nt=p(t.defineComponent({__name:"module.shield",setup(e){const o=t.ref(mt.get()),n=t.ref(""),r=t.ref(false),a=t.ref(false);function i(e){"Enter"===e.key&&(e.preventDefault(),c());}async function l(){"positive"===await Me({content:"该操作将无法恢复，确定要删除所有屏蔽规则吗？",type:"forceTrueFalse"})&&(o.value.length=0,mt.remove());}function c(){if(n.value.length<=0)return;const e={content:n.value,type:r.value?"regex":"text",scope:a.value?"username":"content",toggle:true};o.value.push(e),n.value="",mt.set(o.value);}return (e,d)=>(t.openBlock(),t.createElementBlock("div",kt,[o.value.length>0?(t.openBlock(),t.createElementBlock("div",yt,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(o.value,((e,n)=>(t.openBlock(),t.createBlock(s,{class:t.normalizeClass(["shield-elem",{"content-scope":"content"===e.scope,"user-scope":"username"===e.scope,disabled:!e.toggle}]),onClick:t=>function(e,t){N(vt,{rule:e},{unloaded(e){if(!e)return o.value.splice(t,1),void mt.set(o.value);o.value[t]=e,mt.set(o.value);}});}(e,n)},{default:t.withCtx((()=>[t.createElementVNode("div",xt,t.toDisplayString("content"===e.scope?"chat":"account_circle"),1),t.createElementVNode("p",wt,t.toDisplayString(e.content),1)])),_:2},1032,["class","onClick"])))),256)),t.createVNode(s,{class:"remove-all shield-elem icon",onClick:l},{default:t.withCtx((()=>d[3]||(d[3]=[t.createTextVNode("delete")]))),_:1})])):(t.openBlock(),t.createElementBlock("div",Et,"当前没有记录屏蔽规则")),t.createElementVNode("div",Vt,[t.createVNode(pt,{modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=e=>n.value=e),"muti-lines":"",class:"shield-input",placeholder:"输入屏蔽规则，按下 [ENTER] 提交。",onKeypress:i},null,8,["modelValue"]),t.createElementVNode("div",Ct,[t.createVNode(ut,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=e=>r.value=e),id:"use-regex",text:"正则表达式"},null,8,["modelValue"]),t.createVNode(ut,{modelValue:a.value,"onUpdate:modelValue":d[2]||(d[2]=e=>a.value=e),id:"user-scope",text:"屏蔽用户名"},null,8,["modelValue"]),t.createVNode(s,{class:"submit-button","shadow-border":true,"theme-style":true,onClick:c},{default:t.withCtx((()=>d[4]||(d[4]=[t.createTextVNode("确定 ")]))),_:1})])])]))}}),[["__scopeId","data-v-445ab3b9"]]),Bt={id:"shield",name:"贴吧屏蔽",author:"锯条",version:"1.2",brief:"眼不见为净",description:"用户自定义屏蔽规则，符合规则的贴子和楼层将不会显示在首页、看贴页面和进吧页面。支持正则匹配",scope:true,runAt:"immediately",settings:{"shield-controls":{title:"管理屏蔽规则",description:"这些屏蔽规则将会在首页、看贴页面生效，会自动隐藏所有符合匹配规则的贴子和楼层。",widgets:[{type:"component",component:t.markRaw(Nt)}]}},entry:function(){Lt(b,"content",".l_post_bright",".d_post_content"),Lt(b,"username",".l_post_bright",".d_name a"),Lt(b,"username",".l_post_bright",".p_author_name"),Lt(f,"username",".lzl_single_post",".lzl_cnt .j_user_card"),Lt(h,"content",".j_feed_li",".title, .n_txt"),Lt(h,"username",".j_feed_li",".post_author"),Lt(_,"content",".j_thread_list",".threadlist_title a"),Lt(_,"username",".j_thread_list",".frs-author-name-wrap");}};function Lt(t,o,n,r){t.addEvent((()=>{xe(n,[]).forEach((t=>{let n=false;const a=e.join(e.map(xe(r,t,[]),(e=>e.textContent??"")),"\n");for(const e of mt.get())if(gt(e,a,o)){n=true;break}n&&(t.style.display="none");}));}));}const zt=Object.freeze(Object.defineProperty({__proto__:null,default:Bt,matchShield:gt,shieldList:mt,shieldRuleMigration:bt},Symbol.toStringTag,{value:"Module"})),St={class:"main-content"},Tt={class:"title"},jt={key:0,class:"content"},Dt={key:0,class:"img-container"},Mt=["src"],$t={class:"bottom-controls"},At=["src"],Ft={class:"author-info"},It={class:"author-name"},Pt={class:"post-time"},Ot={class:"replies"},Ut=p(t.defineComponent({__name:"post-container",props:{post:{},lazyLoad:{type:Boolean,default:false},dynamic:{type:Boolean,default:false}},emits:["clickImage","assetsLoaded"],setup(o,{emit:n}){const r=o,a=n,i=t.ref(),l=t.ref(!r.lazyLoad),c=t.ref(0);function d(){c.value+=1,c.value===r.post.images.length&&a("assetsLoaded",i.value);}return t.onMounted((()=>{if(!i.value)return;if(0===r.post.images.length&&a("assetsLoaded",i.value),!r.lazyLoad)return;const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(l.value=true,e.disconnect());}));}));e.observe(i.value.$el);})),(o,n)=>(t.openBlock(),t.createBlock(s,{ref_key:"postContainer",ref:i,"is-anchor":true,class:t.normalizeClass(["post-container",{dynamic:r.dynamic,"assets-loaded":c.value===r.post.images.length}]),href:"/p/"+r.post.id,target:"_blank"},{default:t.withCtx((()=>[t.createElementVNode("div",null,[t.createVNode(s,{"is-anchor":true,class:"forum-btn","shadow-border":true,href:r.post.forum.href,target:"_blank"},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(r.post.forum.name+" 吧"),1)])),_:1},8,["href"])]),t.createElementVNode("div",St,[t.createElementVNode("p",Tt,t.toDisplayString(r.post.title),1),r.post.content&&" "!==r.post.content?(t.openBlock(),t.createElementBlock("p",jt,t.toDisplayString(r.post.content),1)):t.createCommentVNode("",true)]),r.post.images.length>0?(t.openBlock(),t.createElementBlock("div",Dt,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(r.post.images,((o,n)=>(t.openBlock(),t.createBlock(s,{class:"img-button",onClick:t=>function(t,o){t.preventDefault(),a("clickImage",(()=>{const t=[];return e.map(r.post.images,(e=>{t.push(e.original);})),t})(),o);}(t,n),"no-border":"all"},{default:t.withCtx((()=>[t.createElementVNode("img",{class:"post-img",src:l.value?o.original:"",onLoad:d},null,40,Mt)])),_:2},1032,["onClick"])))),256))])):t.createCommentVNode("",true),t.createElementVNode("div",$t,[t.createVNode(s,{class:"author","is-anchor":true,href:r.post.author.href,target:"_blank","shadow-border":true},{default:t.withCtx((()=>[t.createElementVNode("img",{class:"author-portrait",src:l.value?t.unref(Ue).URL_profile(r.post.author.portrait):""},null,8,At),t.createElementVNode("div",Ft,[t.createElementVNode("div",It,t.toDisplayString(r.post.author.name),1),t.createElementVNode("div",Pt,t.toDisplayString(r.post.time),1)])])),_:1},8,["href"]),t.createElementVNode("div",Ot,t.toDisplayString(r.post.replies),1)])])),_:1},8,["href","class"]))}}),[["__scopeId","data-v-79da9835"]]),Rt=p(t.defineComponent({__name:"feeds-masonry",props:{initFeeds:{default:()=>[]},showProgress:{type:Boolean,default:false}},setup(o,{expose:n}){const r=o,a=t.ref([]),i=t.ref(),l=t.ref(),c=t.ref(true);let d=[],s=false;const u=e.debounce((async function(o){o||(o=[]);if(s)return;if(s=true,o.length<=0){const n=await ue(Ue.feedlist());if(n){o=Re(n.data.html),c.value=!!n.data.has_more;const a=mt.get();o=e.filter(o,(e=>{for(const t of a)if(gt(t,e.author.name,"username")||gt(t,e.title,"content")||gt(t,e.content,"content"))return  false;return  true})),r.showProgress&&function(e,o=2e3,n=1e4){const r=it(t.createVNode(Xe,{calc:e.calc},null),document.body,document.body.firstChild??undefined),a=setTimeout((()=>{r.el.remove();}),n);he((()=>"100vw"===r.el.style.width),n).then((function(){setTimeout((()=>{r.el.remove(),clearTimeout(a);}),o);}));}({calc:()=>d.length/((null==o?undefined:o.length)??0)*100});}}a.value.push(...o),await he((()=>d.length>=(o??[]).length)),m().then((function(){R.set(o||[],be(0,0,0,2)),d.length=0,s=false;}));}),2e3,{leading:true});let p;async function m(){await t.nextTick((()=>{l.value&&(p?p.append(".masonry-wrapper > .post-elem.assets-loaded",60):p=new Ye({container:l.value,columnWidth:320,gap:12,fixScrollOffset:true}));}));}function g(e){d.push(e.$el);}function b(e,o){var n;n={content:e,defaultIndex:o},N(t.createVNode(ot,n,null));}function f(){s||(a.value.length=0,p.clear(),u());}return window.addEventListener("resize",e.throttle((function(){p.adjustWidth(),p.columns!==p.calcColumns()&&p.exec();}),100),{passive:true}),t.onMounted((()=>{i.value&&l.value&&(u(r.initFeeds),m(),window.addEventListener("scroll",(()=>{if(s)return;const e=document.documentElement.scrollHeight;(document.documentElement.scrollTop||document.body.scrollTop)+document.documentElement.clientHeight>=e-320&&a.value.length<1e3&&u();})));})),t.watch(c,(e=>{e||ce({message:"没有更多推送了",type:"warning"});})),n({feeds:a,isFetchingFeeds:s,refresh:f,refreshAndMove:function(){var e;window.scrollTo({top:null==(e=l.value)?undefined:e.offsetTop,behavior:"smooth"}),f();}}),(e,o)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"masonryWrapper",ref:i,class:"masonry-wrapper"},[t.createElementVNode("div",{ref_key:"masonryContainer",ref:l,class:"masonry-container"},null,512),(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(a.value,(e=>(t.openBlock(),t.createBlock(Ut,{key:e.id,post:e,class:"post-elem",dynamic:"","shadow-border":"",onClickImage:b,onAssetsLoaded:g},null,8,["post"])))),128))],512))}}),[["__scopeId","data-v-15c95bc5"]]),Ht={class:"about-wrapper"},qt={class:"main-title"},Wt=["src"],Gt={class:"title"},Yt={class:"script-info"},Jt={class:"author-info"},Kt={class:"version"},Xt={class:"author"},Qt={class:"about-desc"},Zt={class:"line"},eo={class:"about-controls"},to=p(t.defineComponent({__name:"about.detail",emits:["changeView"],setup(e,{emit:o}){const n=i,r=o;return (e,o)=>(t.openBlock(),t.createElementBlock("div",Ht,[t.createElementVNode("div",qt,[t.createElementVNode("img",{src:t.unref(Ie)("/assets/images/main/icon.png"),alt:"icon",class:"main-icon"},null,8,Wt),t.createElementVNode("div",Gt,t.toDisplayString(t.unref("Tieba Remix")),1)]),t.createElementVNode("div",Yt,[t.createElementVNode("div",Jt,[t.createElementVNode("div",Kt,t.toDisplayString(t.unref(n).script.version),1),t.createElementVNode("div",Xt,"@"+t.toDisplayString(t.unref(n).script.author),1)]),t.createElementVNode("div",Qt,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList("本开源项目使用 MIT 协议".split("\n"),(e=>(t.openBlock(),t.createElementBlock("div",Zt,t.toDisplayString(e),1)))),256))])]),t.createElementVNode("div",eo,[t.createVNode(s,{class:"about-button github","is-anchor":true,href:t.unref($),"shadow-border":true,target:"_balnk"},{default:t.withCtx((()=>o[1]||(o[1]=[t.createTextVNode("开放源代码 ")]))),_:1},8,["href"]),t.createVNode(s,{class:"about-button update","shadow-border":true,onClick:o[0]||(o[0]=e=>r("changeView","about","update"))},{default:t.withCtx((()=>o[2]||(o[2]=[t.createTextVNode(" 检查更新 ")]))),_:1})]),o[3]||(o[3]=t.createElementVNode("div",{class:"about-desc"},null,-1))]))}}),[["__scopeId","data-v-8c03e998"]]),oo={key:0,class:"update-wrapper"},no={class:"icon"},ro={class:"content"},ao={class:"title-container"},io={class:"title"},lo={key:0,class:"is-pre-release"},co={class:"main-info"},so=["src"],uo={class:"owner"},po=["innerHTML"],mo={class:"update-controls"},go={key:1,class:"forbidden-wrapper"},bo=p(t.defineComponent({__name:"about.update",setup(e){const n=t.ref(),r=t.ref(false),a=t.ref(),l=i;return t.onMounted((async()=>{const e=await Ae();e?(r.value=false,n.value=e,a.value=`v${l.script.version}`>=n.value.tag_name):r.value=true;})),(e,i)=>{var l,c,d,u,p,m,g,b;return r.value?(t.openBlock(),t.createElementBlock("div",go,i[1]||(i[1]=[t.createElementVNode("div",{class:"icon"},"warning",-1),t.createElementVNode("div",{class:"forbidden-text"},"请求过于频繁，请稍后重试",-1)]))):(t.openBlock(),t.createElementBlock("div",oo,[undefined!==a.value?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["latest-info",{"is-latest":a.value}])},[t.createElementVNode("div",no,t.toDisplayString(a.value?"check":"warning"),1),t.createElementVNode("div",ro,t.toDisplayString(a.value?"当前是最新版本":"检测到新版本"),1)],2)):t.createCommentVNode("",true),t.createElementVNode("div",ao,[t.createElementVNode("h2",io,t.toDisplayString(null==(l=n.value)?undefined:l.name),1),(null==(c=n.value)?undefined:c.prerelease)?(t.openBlock(),t.createElementBlock("div",lo,"预览版")):t.createCommentVNode("",true)]),t.createElementVNode("div",co,[(null==(d=n.value)?undefined:d.author.avatar_url)?(t.openBlock(),t.createElementBlock("img",{key:0,src:null==(u=n.value)?undefined:u.author.avatar_url,alt:"",class:"avatar"},null,8,so)):t.createCommentVNode("",true),t.createElementVNode("div",uo,t.toDisplayString(null==(p=n.value)?undefined:p.author.name),1)]),t.createElementVNode("div",{class:"release-body markdown",innerHTML:(null==(m=n.value)?undefined:m.body)?t.unref(o.marked)(null==(g=n.value)?undefined:g.body):""},null,8,po),t.createElementVNode("div",mo,[t.createVNode(s,{class:"up-button download-button","shadow-border":"","theme-style":"","is-anchor":"",href:null==(b=n.value)?undefined:b.assets[0].browser_download_url},{default:t.withCtx((()=>i[0]||(i[0]=[t.createTextVNode("安装更新 ")]))),_:1},8,["href"])])]))}}}),[["__scopeId","data-v-479225e2"]]),fo={class:"layout-custom-back"},ho=["src"],_o={class:"custom-back-buttons"},vo=p(t.defineComponent({__name:"layout.custom-back",setup(e){const o=t.ref(Z.get()),n=t.ref("100"),r=t.ref();async function a(){o.value=undefined;}async function i(){o.value=await ve("base64");}return t.watch(o,(e=>{Z.set(e);})),t.watch(n,(e=>{var t;const o=null==(t=r.value)?undefined:t.$el;(""===e||+e<0)&&(n.value="0",o.value="0"),+e>100&&(n.value="100",o.value="100");})),t.onMounted((async function(){o.value=Z.get();})),(e,r)=>(t.openBlock(),t.createElementBlock("div",fo,[t.withDirectives(t.createElementVNode("img",{class:"custom-image",src:o.value??"",title:"自定义背景",alt:"自定义背景",style:t.normalizeStyle("opacity: "+ +n.value/100)},null,12,ho),[[t.vShow,o.value]]),t.createElementVNode("div",_o,[t.createVNode(s,{onClick:a},{default:t.withCtx((()=>r[0]||(r[0]=[t.createTextVNode("清除")]))),_:1}),t.createVNode(s,{onClick:i},{default:t.withCtx((()=>r[1]||(r[1]=[t.createTextVNode("上传图片")]))),_:1})])]))}}),[["__scopeId","data-v-fcb5c431"]]),ko={class:"color-picker"},yo={key:0},xo=p(t.defineComponent({__name:"color-picker",props:t.mergeModels({text:{default:""}},{modelValue:{required:true},modelModifiers:{}}),emits:t.mergeModels(["change"],["update:modelValue"]),setup(o,{emit:n}){const r=t.useModel(o,"modelValue"),a=n,i=e.debounce((()=>{a("change",r.value);}),500);return t.onBeforeUnmount((function(){i.cancel();})),t.watch(r,(function(){i();})),(e,o)=>(t.openBlock(),t.createElementBlock("label",ko,[t.withDirectives(t.createElementVNode("input",{class:"color-input",type:"color","onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e)},null,512),[[t.vModelText,r.value]]),e.text?(t.openBlock(),t.createElementBlock("p",yo,t.toDisplayString(e.text),1)):t.createCommentVNode("",true)]))}}),[["__scopeId","data-v-faec1870"]]),wo={class:"theme-color-component"},Eo=p(t.defineComponent({__name:"theme.color",setup(e){const o=t.ref(Q.get().light),n=t.ref(Q.get().dark);function r(){Q.set({dark:n.value,light:o.value});}function a(){Q.remove(),o.value=Q.get().light,n.value=Q.get().dark;}return (e,i)=>(t.openBlock(),t.createElementBlock("div",wo,[t.createVNode(xo,{text:"浅色主题",modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),onChange:r},null,8,["modelValue"]),t.createVNode(xo,{text:"深色主题",modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=e=>n.value=e),onChange:r},null,8,["modelValue"]),t.createVNode(s,{class:"reset-button",onClick:a},{default:t.withCtx((()=>i[2]||(i[2]=[t.createTextVNode("重置")]))),_:1})]))}}),[["__scopeId","data-v-17596762"]]),Vo=e.once((()=>({visibility:{name:"显示",icon:"visibility",description:"主题、显示设置",sub:{theme:{name:"主题",content:{"switch-theme":{title:"主题偏好设置",description:"在自动模式下，将根据当前系统设置自动选择合适的主题。你也可以手动应用某一种主题。",widgets:[{type:"select",content:[{value:"auto",text:"自动",desc:"根据系统设置自动切换主题。"},{value:"dark",text:"深色",desc:"使用深色主题。"},{value:"light",text:"浅色",desc:"使用浅色主题。"}],init:()=>J.get(),event(e){J.set(e);}}]},color:{title:"主题颜色",description:"自定义主题色。由于存在深浅两种主题，需要设置两种主题色。",widgets:[{type:"component",component:t.markRaw(Eo)}]}}},layout:{name:"页面布局",content:{"compact-layout":{title:"紧凑布局",widgets:[{type:"toggle",content:"在尽量保证视觉观感的请款下，针对部分页面应用更加紧凑的布局，以提高信息密度。当前会受到影响的页面有：新版看贴页面。",init:()=>K.get(),event:()=>(K.set(!K.get()),document.body.toggleAttribute("compact-layout"),K.get())}]},"custom-background":{title:"自定义背景图",description:"上传图片作为页面背景图",widgets:[{type:"component",component:t.markRaw(vo)}]},"wide-screen-title":{title:"宽屏设置",description:"针对宽屏设备进行配置",widgets:[{type:"subTitle",content:"强制拉伸画幅"},{type:"toggle",content:"对于宽屏设备，不一定需要页面内容宽度始终等于屏幕宽度。如果你想应用强制宽屏，可以开启此项。",init:()=>X.get().noLimit,event(){const e=X.get().noLimit;return X.merge({noLimit:!e}),!e}},{type:"subTitle",content:"最大宽度"},{type:"desc",content:"配置页面元素跟随屏幕拉伸的最大宽度，若开启了 “强制拉伸画幅” 则此项失效"},{type:"textbox",placeHolder:"输入最大宽度像素值",init:()=>String(X.get().maxWidth),event(e){const t=e.target.value;isNaN(+t)||X.merge({maxWidth:+t});}}]}}},"page-extension":{name:"页面扩展",content:{index:{title:"首页扩展",widgets:[{type:"toggle",content:"首页扩展旨在提供更纯粹的浏览体验，提供管理关注的吧、贴吧热议、瀑布流推送等功能。",init:()=>ee.get().index,event:()=>(ee.merge({index:!ee.get().index}),ee.get().index)}]},thread:{title:"帖子浏览页面扩展",widgets:[{type:"toggle",content:"使用全新的 UI 简化帖子浏览，并改进屏幕空间利用率。",init:()=>ee.get().thread,event:()=>(ee.merge({thread:!ee.get().thread}),ee.get().thread)}]}}},fonts:{name:"字体",content:{"code-zh":{title:"主要字体组合",description:"应用在贴吧绝大多数场景的字体组合。",widgets:[{type:"textarea",placeHolder:"写入字体名，以换行分隔。若需要中英文混排，需将英文字体写在中文字体之前。",init:()=>e.join(te.get(),"\n"),event:t=>(te.set(e.split(t.target.value,"\n")),e.join(te.get(),"\n"))}]},"code-monospace":{title:"等宽字体组合",description:"应用在数据显示等场景的等宽字体组合。",widgets:[{type:"textarea",placeHolder:"写入字体名，以换行分隔。建议在此处写入等宽字体。",init:()=>e.join(oe.get(),"\n"),event:t=>(oe.set(e.split(t.target.value,"\n")),e.join(oe.get(),"\n"))}]}}},"nav-bar":{name:"导航栏",content:{"nav-bar-mode":{title:"导航栏隐藏模式",description:"设置导航栏的隐藏模式。",widgets:[{type:"select",content:[{value:"fold",text:"滚动折叠",desc:"当页面以一定速度向下滚动时，会将导航栏折叠，只会占据很小的屏幕空间，但能更方便地重新访问导航栏。"},{value:"alwaysFold",text:"始终折叠",desc:"导航栏始终保持折叠状态。"},{value:"hideWhenScroll",text:"滚动隐藏",desc:"当页面以一定速度向下滚动时，彻底隐藏导航栏，重新访问导航栏则需要以一定速度向上滚动页面。"},{value:"fixedOnTop",text:"顶部固定",desc:"导航栏不会在视图上跟随移动，仅在页面最顶部固定。"},{value:"never",text:"始终显示",desc:"始终显示完整的导航栏。"}],init:()=>ne.get(),event(e){ne.set(e);}}]}}}}},modules:{name:"模块",icon:"deployed_code",description:"用户模块管理及部署",sub:me().reduce(((t,o,n)=>{function r(t){return {name:t.name,description:t.brief,content:{"module-info":{title:t.name,description:`${t.id} ${t.version}`,widgets:[{type:"toggle",content:t.description,init:()=>!e.includes(U.get(),t.id),event(){if(e.includes(U.get(),t.id)){const e=new Set(U.get());return e.delete(t.id),U.set([...e]),true}return U.set([t.id,...U.get()]),false}}]},...t.settings}}}if(1===n){const e=r(t);(t={})[e.name]=e;}return t[o.name]=r(o),t}))},performance:{name:"性能",icon:"speed",description:"硬件性能与流量相关",sub:{perfPresets:{name:"性能预设",content:{persets:{title:"性能预设",description:"从以下预设性能等级选择其一，将会自动对相关场景进行行为调整。",widgets:[{type:"select",content:[{value:"default",text:"默认"},{value:"saver",text:"节能"},{value:"performance",text:"高性能"}],init:()=>O.get(),event(e){O.set(e);}}]}}}}},enhanced:{name:"高级",icon:"labs",description:"提前测试一些尚不稳定的新功能",sub:{experimental:{name:"实验性功能",content:{title:{title:"实验室",description:"本版块列举了一些实验性功能，这些功能正处于开发阶段，它们当中的大部分都是默认关闭的。\n                            这些功能可能会产生已知、未知的错误或性能问题，如果这些问题能被更及时全面地反馈，将有助于整个项目的发展。\n                            需要注意的是，这些特性并不保证会保留到后续版本中。",widgets:[{type:"icon",content:"lab_research"}]},moreBlurEffect:{title:"更多模糊效果",widgets:[{type:"toggle",content:"优先考虑提供更多的模糊效果。仅当性能预设为“高性能”时，才会生效。",init:()=>H.get().moreBlurEffect,event(){H.merge({moreBlurEffect:!H.get().moreBlurEffect});}}]},rasterEffect:{title:"栅格特效",widgets:[{type:"toggle",content:"将部分场景的模糊效果替换为栅格特效。可能会使文字可见度降低。存在性能问题。",init:()=>H.get().rasterEffect,event(){H.merge({rasterEffect:!H.get().rasterEffect});}}]}}},"backup-recover":{name:"备份与恢复",content:{"data-backup":{title:"数据备份",description:"备份脚本所有自定义配置",widgets:[{type:"button",content:"备份",event(){Oe();}}]},"recover-backup":{title:"数据恢复",description:"从备份文件中恢复脚本所有自定义配置",widgets:[{type:"button",content:"恢复",event(){!async function(){const t=JSON.parse(await ve());e.forEach(Object.entries(t),(([e,t])=>{d(e,t);}));}();}}]}}},"custom-style":{name:"自定义样式",content:{content:{title:"自定义样式",description:"你可以在这里添加一些自定义的CSS代码，用以覆盖脚本内置的一些样式。",widgets:[{type:"textarea",init:()=>re.get(),event(e){re.set(e.target.value);}}]}}},"factory-reset":{name:"重置所有配置",content:{title:{title:"重置所有配置",description:"如果你需要将脚本的一切配置恢复默认，请使用此功能。"},reset:{widgets:[{type:"button",content:"重置",async event(){"positive"===await Me({title:"重置所有配置",content:"该操作是不可逆的，请做最后一次确认。",type:"forceTrueFalse"})&&(e.forEach(l(),(e=>{r(e);})),location.reload());}}]}}}}},about:{name:"关于",icon:"person",description:"开发信息与检查更新",sub:{update:{name:"检查更新",content:{"update-time":{title:"检查更新设置",description:"发行信息追踪频率",widgets:[{type:"select",content:[{value:"1h",text:"1 小时"},{value:"3h",text:"3 小时"},{value:"6h",text:"6 小时"},{value:"never",text:"从不"}],init:()=>W.get().time,event(e){W.merge({time:e});}}]},"update-notify":{widgets:[{type:"toggle",content:"启用一个对话框提示用户更新。该对话框可以立即安装更新，也可以推迟更新操作。",init:()=>W.get().notify,event(){W.merge({notify:!W.get().notify});}}]},"update-component":{widgets:[{type:"component",component:t.markRaw(bo)}]}}},about:{name:"关于项目",content:{"about-component":{widgets:[{type:"component",component:t.markRaw(to)}]}}}}}}))),Co={class:"user-select"},No={class:"current-text"},Bo=p(t.defineComponent({__name:"user-select",props:t.mergeModels({data:{},defaultValue:{}},{value:{},valueModifiers:{}}),emits:t.mergeModels(["change"],["update:value"]),setup(o,{emit:n}){const r=o;t.useModel(o,"value");const a=n,i=t.ref(),l=t.ref(),c=t.ref(false),d=t.ref(function(){if(!r.defaultValue)return 0;const t=e.findIndex(r.data,(e=>e.value===r.defaultValue));return  -1===t?0:t}()),u=t.ref(d.value);function p(e){var t;(null==(t=l.value)?undefined:t.contains(e.relatedTarget))?c.value=true:c.value=false;}return t.watch(c,(function(){u.value=d.value;})),t.watch(d,(e=>{a("change",r.data[e].value);})),(e,o)=>(t.openBlock(),t.createElementBlock("div",Co,[t.createVNode(Qe,{ref_key:"selectToggle",ref:i,modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),class:"select-toggle",onFocusout:p},{default:t.withCtx((()=>[t.createElementVNode("p",No,t.toDisplayString(e.data[d.value].text),1),o[1]||(o[1]=t.createElementVNode("div",{class:"icon"},"keyboard_arrow_down",-1))])),_:1},8,["modelValue"]),t.createVNode(t.Transition,{name:"select"},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{ref_key:"selectContainer",ref:l,class:"select-container"},[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(e.data,((e,o)=>(t.openBlock(),t.createBlock(s,{"theme-style":d.value===o,class:"select-transition select-button",onClick:e=>(d.value=o,c.value=false),onMouseenter:e=>u.value=o,onFocusout:p},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.text),1)])),_:2},1032,["theme-style","onClick","onMouseenter"])))),256)),t.withDirectives(t.createElementVNode("div",{class:"select-transition select-desc",tabindex:"-1",onFocusout:p},t.toDisplayString(c.value?e.data[u.value].desc:""),545),[[t.vShow,e.data[u.value].desc]])],512),[[t.vShow,c.value]])])),_:1})]))}}),[["__scopeId","data-v-539acfec"]]),Lo={class:"settings-wrapper remove-default"},zo={class:"left-container"},So={class:"search-controls"},To={class:"left-panel"},jo={class:"icon"},Do={class:"key-info"},Mo={class:"key-title"},$o={class:"key-desc"},Ao={class:"middle-container"},Fo={class:"key-title"},Io={class:"right-container"},Po={key:0,class:"content-title"},Oo={key:1,class:"content-desc"},Uo={class:"line"},Ro={class:"setting-control"},Ho={key:1,class:"icon-component icon"},qo={key:4,class:"content-sub-title"},Wo={key:5,class:"content-desc"},Go={class:"line"},Yo=["src","alt","title","onLoad"],Jo={key:1,class:"empty-container filled-icon"},Ko=p(t.defineComponent({__name:"settings",setup(o,{expose:n}){const r=Vo(),a={animation:true,modal:true,lockScroll:true,modalStyle:{justifyContent:"flex-start"},contentStyle:{display:"flex",flexDirection:"column",width:"100%",height:"max-content",maxWidth:"var(--content-max)",overflow:"hidden"}},i=t.ref(""),l=t.ref(),c=t.ref();function d(e,t){l.value=r[e],c.value=r[e].sub[t];}function u(){l.value=undefined,c.value=undefined;}const p=e.debounce((function(){i.value.length<=0?u():e.find(r,(t=>!!e.find(t.sub,(e=>!!e.name.toLowerCase().includes(i.value.toLowerCase())&&(l.value=t,c.value=e,true)))))||u();}),500);return n({dialogOpts:a}),(o,n)=>(t.openBlock(),t.createBlock(Te,t.normalizeProps(t.guardReactiveProps(a)),{default:t.withCtx((()=>{var o,a;return [t.createElementVNode("div",Lo,[t.createElementVNode("div",zo,[t.createElementVNode("div",So,[n[1]||(n[1]=t.createElementVNode("div",{class:"title"},"设置",-1)),t.createVNode(pt,{modelValue:i.value,"onUpdate:modelValue":[n[0]||(n[0]=e=>i.value=e),t.unref(p)],class:"search-box",placeholder:"输入需要搜索的设置"},null,8,["modelValue","onUpdate:modelValue"])]),t.createElementVNode("div",To,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r),(e=>{var o;return t.openBlock(),t.createBlock(s,{class:t.normalizeClass(["key-button main-key",{selected:(null==(o=l.value)?undefined:o.name)===e.name}]),onClick:t=>{return o=e,l.value=o,void(c.value=undefined);var o;},"no-border":"all"},{default:t.withCtx((()=>[n[2]||(n[2]=t.createElementVNode("div",{class:"main-key-selected"},null,-1)),t.createElementVNode("div",jo,t.toDisplayString(e.icon),1),t.createElementVNode("div",Do,[t.createElementVNode("div",Mo,t.toDisplayString(e.name),1),t.createElementVNode("div",$o,t.toDisplayString(e.description),1)])])),_:2},1032,["class","onClick"])})),256))])]),t.withDirectives(t.createElementVNode("div",Ao,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(null==(o=l.value)?undefined:o.sub,(e=>{var o;return t.openBlock(),t.createBlock(s,{class:t.normalizeClass(["key-button sub-key",{selected:(null==(o=c.value)?undefined:o.name)===e.name}]),onClick:t=>{return o=e,void(c.value=o);var o;},"no-border":"all"},{default:t.withCtx((()=>[t.createElementVNode("div",Fo,t.toDisplayString(e.name),1)])),_:2},1032,["class","onClick"])})),256))],512),[[t.vShow,l.value]]),t.createElementVNode("div",Io,[(null==(a=c.value)?undefined:a.name)?(t.openBlock(true),t.createElementBlock(t.Fragment,{key:0},t.renderList(c.value.content,(o=>(t.openBlock(),t.createElementBlock("div",{key:Math.random(),class:"setting-content"},[(null==o?undefined:o.title)?(t.openBlock(),t.createElementBlock("h3",Po,t.toDisplayString(null==o?undefined:o.title),1)):t.createCommentVNode("",true),(null==o?undefined:o.description)?(t.openBlock(),t.createElementBlock("p",Oo,[(null==o?undefined:o.description)?(t.openBlock(true),t.createElementBlock(t.Fragment,{key:0},t.renderList(o.description.split("\n"),(e=>(t.openBlock(),t.createElementBlock("p",Uo,t.toDisplayString(e),1)))),256)):t.createCommentVNode("",true)])):t.createCommentVNode("",true),(null==o?undefined:o.widgets)?(t.openBlock(true),t.createElementBlock(t.Fragment,{key:2},t.renderList(o.widgets,(o=>{var n,r;return t.openBlock(),t.createElementBlock("div",Ro,["toggle"===o.type?(t.openBlock(),t.createBlock(ut,{key:0,class:"settings-toggle","model-value":o.init?o.init():undefined,text:"string"==typeof o.content?o.content:undefined,onChange:o.event},null,8,["model-value","text","onChange"])):t.createCommentVNode("",true),"icon"===o.type?(t.openBlock(),t.createElementBlock("div",Ho,t.toDisplayString(o.content),1)):t.createCommentVNode("",true),"button"===o.type?(t.openBlock(),t.createBlock(s,{key:2,onClick:o.event,"shadow-border":""},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(o.content),1)])),_:2},1032,["onClick"])):t.createCommentVNode("",true),"select"===o.type&&Array.isArray(o.content)?(t.openBlock(),t.createBlock(Bo,{key:3,class:"settings-select",data:o.content,"default-value":null==(n=o.init)?undefined:n.call(o),onChange:o.event},null,8,["data","default-value","onChange"])):t.createCommentVNode("",true),"subTitle"===o.type?(t.openBlock(),t.createElementBlock("h4",qo,t.toDisplayString(o.content),1)):t.createCommentVNode("",true),"desc"===o.type?(t.openBlock(),t.createElementBlock("div",Wo,[o.content&&"string"==typeof o.content?(t.openBlock(true),t.createElementBlock(t.Fragment,{key:0},t.renderList(o.content.split("\n"),(e=>(t.openBlock(),t.createElementBlock("div",Go,t.toDisplayString(e),1)))),256)):t.createCommentVNode("",true)])):t.createCommentVNode("",true),t.unref(e).includes(["textbox","textarea"],o.type)?(t.openBlock(),t.createBlock(pt,{key:6,class:t.normalizeClass(["content-textbox",{textarea:"textarea"===o.type}]),value:o.init?o.init():"","muti-lines":"textarea"===o.type,placeholder:o.placeHolder,onChange:o.event},null,8,["class","value","muti-lines","placeholder","onChange"])):t.createCommentVNode("",true),"image"===o.type?(t.openBlock(),t.createElementBlock("img",{key:7,class:"content-image",src:null==(r=o.content)?undefined:r.toString(),alt:o.altContent,title:o.altContent,onLoad:o.init},null,40,Yo)):t.createCommentVNode("",true),o.component?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(null==o?undefined:o.component),{key:8,onChangeView:d},null,32)):t.createCommentVNode("",true)])})),256)):t.createCommentVNode("",true)])))),128)):(t.openBlock(),t.createElementBlock("div",Jo,"settings"))])])]})),_:1},16))}}),[["__scopeId","data-v-b2f1268b"]]),Xo={class:"index-wrapper"},Qo={class:"grid-container"},Zo={class:"head-controls"},en={class:"search-controls"},tn={class:"search-suggestions"},on=["src"],nn={class:"sugg-content"},rn={class:"sugg-title"},an={class:"sugg-desc"},ln={key:0,class:"block-wrapper followed-container"},cn={class:"block-controls followed"},dn={class:"block-container followed-list"},sn={key:0,class:"icon signed"},un={class:"forum-title"},pn={key:1,class:"block-wrapper topic-container"},mn={class:"block-controls topics"},gn={class:"block-container topic-list"},bn=["src"],fn={class:"topic-content"},hn={class:"topic-title"},_n={class:"topic-name"},vn={class:"topic-desc"},kn={class:"block-controls feeds"},yn={key:0,class:"empty-container"},xn=p(t.defineComponent({__name:"index",setup(o){const n=t.ref([]),r=t.ref(),a=t.ref(),i=t.ref(),l=t.ref(),c=t.ref(""),d=t.ref(false),u=t.ref([]);t.ref(false);const p=t.ref();t.ref(false);const m=t.ref(),g=t.ref([]),b=t.ref(false),f=t.ref({});let h=0;function _(e){const t=Ce(e.target,"search-controls");d.value=!!t;}async function v(t){const o=await Ue.suggestions(t);o.ok&&o.json().then((o=>{if(t&&""!==t){const t=o.query_match.search_data;t&&(u.value=e.map(t,(e=>({image:e.fpic,title:e.fname,desc:e.forum_desc,href:Ue.URL_forum(e.fname)}))));}else {const t=o.hottopic_list.search_data;t&&(u.value=e.map(t,(e=>({image:e.topic_pic,title:e.topic_name,desc:e.topic_desc,href:e.topic_url}))));}}));}function k(){u.value.length<=0?v().then((()=>{d.value=true;})):d.value=true;}n.value=R.get(),t.onMounted((async()=>{(async function(){r.value=await(async()=>{try{const e=await(await Ue.userInfo()).json();if(e)return e.data}catch(e){ce({message:ge(e),type:"error",duration:6e3});}})(),p.value=[{title:"设置",click(){N(Ko);}},"separator",{title:"源代码 (GitHub)",href:$},{title:"源代码 (Gitee)",href:A}],m.value=[{title:"登录",icon:"login",href:F}],r.value&&(m.value=[{title:"我的收藏",icon:"star"},"separator",{title:"主页",icon:"home",href:Ue.URL_userHome(r.value.user_portrait)},{title:"修改",icon:"settings"},"separator",{title:"退出登录",icon:"logout"}]);r.value&&x();if(ue(Ue.topicList()).then((e=>{e&&g.value.push(...e.data.bang_topic.topic_list);})),!l.value)return})().then((()=>{if(i.value){new IntersectionObserver((e=>{e[0].isIntersecting?b.value=true:b.value=false;})).observe(i.value);}}));})),window.addEventListener("focusin",(e=>_(e))),window.addEventListener("mousedown",(e=>_(e)));const y=e.debounce((function(){v(c.value);}),500);function x(){ue(Ue.followedForums()).then((t=>{t&&(h=0,a.value=t.data,e.forEach(a.value.like_forum,(e=>{1===e.is_sign&&h++;})),a.value.like_forum.sort(((e,t)=>parseInt(t.user_exp)-parseInt(e.user_exp))));}));}async function w(){Me({title:"一键签到",content:"需要注意，Web端签到获取到的经验远少于移动端，建议使用其他设备进行签到。",type:"okCancel"}).then((e=>{"positive"===e&&ue(Ue.oneKeySign()).then((e=>{ce({message:`本次共签到成功 ${e.data.signedForumAmount} 个吧，未签到 ${e.data.unsignedForumAmount} 个吧，签到失败 ${e.data.signedForumAmountFail} 个吧，共获得 ${e.data.gradeNoVip} 经验。`,type:"check",blurEffect:true}),x();}));}));}return (o,r)=>(t.openBlock(),t.createElementBlock("div",Xo,[t.createElementVNode("div",Qo,[t.createElementVNode("div",Zo,[t.createElementVNode("div",en,[t.createVNode(pt,{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=e=>c.value=e),class:"search-box",placeholder:"搜索 贴吧",autocomplete:"none",onFocus:k,onInput:t.unref(y)},null,8,["modelValue","onInput"]),t.createVNode(s,{class:"search-button","theme-style":true,"no-border":""},{default:t.withCtx((()=>r[1]||(r[1]=[t.createTextVNode("搜索")]))),_:1}),t.withDirectives(t.createElementVNode("div",tn,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(u.value,(e=>(t.openBlock(),t.createBlock(s,{"is-anchor":true,class:"search-elem",href:e.href,target:"_blank","no-border":""},{default:t.withCtx((()=>[t.createElementVNode("img",{class:"sugg-img",src:e.image,alt:""},null,8,on),t.createElementVNode("div",nn,[t.createElementVNode("p",rn,t.toDisplayString(e.title),1),t.createElementVNode("p",an,t.toDisplayString(e.desc),1)])])),_:2},1032,["href"])))),256))],512),[[t.vShow,d.value&&u.value.length>0]])])]),a.value?(t.openBlock(),t.createElementBlock("div",ln,[t.createElementVNode("div",cn,[r[4]||(r[4]=t.createElementVNode("p",{class:"block-title"},"关注的吧",-1)),t.createVNode(Ge,{class:"signed-count left-align"},{default:t.withCtx((()=>{var e;return [t.createTextVNode(t.toDisplayString(t.unref(h))+" / "+t.toDisplayString(null==(e=a.value)?undefined:e.like_forum.length),1)]})),_:1}),t.createVNode(Ge,{class:"followed"},{default:t.withCtx((()=>[t.createVNode(s,{class:"panel-btn icon sign-btn",onClick:w,"unset-background":"","no-border":""},{default:t.withCtx((()=>r[2]||(r[2]=[t.createTextVNode(" task_alt")]))),_:1}),t.createVNode(s,{class:"panel-btn icon settings","unset-background":"","no-border":""},{default:t.withCtx((()=>r[3]||(r[3]=[t.createTextVNode("settings")]))),_:1})])),_:1})]),t.createElementVNode("div",dn,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(a.value.like_forum,(e=>(t.openBlock(),t.createBlock(s,{"is-anchor":true,class:"followed-btn","shadow-border":true,href:t.unref(Ue).URL_forum(e.forum_name),target:"_blank","no-border":""},{default:t.withCtx((()=>[1===e.is_sign?(t.openBlock(),t.createElementBlock("div",sn,"check")):t.createCommentVNode("",true),t.createElementVNode("div",un,t.toDisplayString(e.forum_name),1),t.createElementVNode("div",{class:t.normalizeClass(["forum-level","level-"+t.unref(qe)(e.user_level)])},t.toDisplayString(e.user_level),3)])),_:2},1032,["href"])))),256))])])):t.createCommentVNode("",true),g.value.length>0?(t.openBlock(),t.createElementBlock("div",pn,[t.createElementVNode("div",mn,[r[8]||(r[8]=t.createElementVNode("p",{class:"block-title"},"贴吧热议",-1)),t.createVNode(Ge,{class:"topics"},{default:t.withCtx((()=>[t.createVNode(s,{class:"panel-btn icon switch","unset-background":true,"no-border":""},{default:t.withCtx((()=>r[5]||(r[5]=[t.createTextVNode("tune")]))),_:1}),t.createVNode(s,{class:"panel-btn icon more","unset-background":true,"no-border":""},{default:t.withCtx((()=>r[6]||(r[6]=[t.createTextVNode("more_horiz ")]))),_:1}),t.createVNode(s,{class:"panel-btn icon settings","unset-background":true,"no-border":""},{default:t.withCtx((()=>r[7]||(r[7]=[t.createTextVNode("settings ")]))),_:1})])),_:1})]),t.createElementVNode("div",gn,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(e).take(g.value,10),(e=>(t.openBlock(),t.createBlock(s,{"is-anchor":true,class:"topic-btn","shadow-border":true,href:e.topic_url,target:"_blank"},{default:t.withCtx((()=>[t.createElementVNode("img",{class:"topic-img",src:e.topic_pic},null,8,bn),t.createElementVNode("div",fn,[t.createElementVNode("div",hn,[t.createElementVNode("div",{class:t.normalizeClass("topic-rank-"+e.idx_num)},t.toDisplayString(e.idx_num),3),t.createElementVNode("div",_n,t.toDisplayString(e.topic_name),1)]),t.createElementVNode("div",vn,t.toDisplayString(e.topic_desc),1)])])),_:2},1032,["href"])))),256))])])):t.createCommentVNode("",true),r[9]||(r[9]=t.createElementVNode("div",{id:"carousel_wrap"},null,-1))]),t.createElementVNode("div",{ref_key:"masonryContainer",ref:i,class:"masonry-container"},[t.createElementVNode("div",kn,[r[12]||(r[12]=t.createElementVNode("p",{class:"block-title"},"推送",-1)),f.value&&f.value.feeds&&(f.value.feeds.length>0||f.value.isFetchingFeeds)?(t.openBlock(),t.createBlock(Ge,{key:0},{default:t.withCtx((()=>[t.createVNode(s,{class:"panel-button icon refresh","unset-background":"",onClick:f.value.refreshAndMove,"no-border":""},{default:t.withCtx((()=>r[10]||(r[10]=[t.createTextVNode("refresh ")]))),_:1},8,["onClick"]),t.createVNode(s,{class:"panel-button icon settings","unset-background":"","no-border":""},{default:t.withCtx((()=>r[11]||(r[11]=[t.createTextVNode("settings")]))),_:1})])),_:1})):t.createCommentVNode("",true)]),t.createVNode(Rt,{ref_key:"feedsMasonry",ref:f,"init-feeds":n.value,"show-progress":""},null,8,["init-feeds"]),0===n.value.length?(t.openBlock(),t.createElementBlock("div",yn,r[13]||(r[13]=[t.createElementVNode("p",{class:"no-feed-content"},"没有更多了",-1)]))):t.createCommentVNode("",true)],512)]))}}),[["__scopeId","data-v-1e41475b"]]);const wn={class:"pager-wrapper"},En={key:0,class:"pager-button-container"},Vn={key:1,class:"pager-separactor"},Cn={key:2,class:"jumper-container"},Nn={class:"tail-slot"},Bn=p(t.defineComponent({__name:"pager",props:{total:{},current:{},jumperValue:{},maxDisplay:{default:9},fill:{type:Boolean,default:false},showPagers:{type:Boolean,default:true},head:{type:Boolean,default:true},tail:{type:Boolean,default:true},jumper:{type:Boolean,default:true},pagerClick:{},headClick:{},tailClick:{},prevClick:{},nextClick:{},pagerChange:{},jumperEnter:{}},emits:["update:current","update:jumperValue"],setup(o,{expose:n,emit:r}){const a=o,i=t.ref(a.current),l=t.ref(a.jumperValue??""),c=r,d=Math.min(a.maxDisplay,a.total),u=t.computed((()=>i.value+d/2>a.total?a.total-d+1:Math.max(1,i.value-Math.floor(a.maxDisplay/2)))),p=t.computed((()=>Math.min(a.total,u.value+a.maxDisplay-1)+1));function m(e,t){switch(a.pagerChange&&t!==i.value&&a.pagerChange(t),i.value=t,c("update:current",t),e){case "page":a.pagerClick&&a.pagerClick(t);break;case "head":a.headClick&&a.headClick();break;case "tail":a.tailClick&&a.tailClick();break;case "prev":a.prevClick&&a.prevClick(t);break;case "next":a.nextClick&&a.nextClick(t);}}function g(){if(!l.value)return;const e=+l.value;e<1||e>a.total||(m(null,e),a.jumperEnter&&a.jumperEnter(e),l.value="");}return n({current:i,jumperValue:l}),(o,n)=>(t.openBlock(),t.createElementBlock("div",wn,[o.showPagers?(t.openBlock(),t.createElementBlock("div",En,[t.withDirectives(t.createVNode(s,{class:"pager-button pager-head-button","no-border":"",onClick:n[0]||(n[0]=e=>m("head",1))},{default:t.withCtx((()=>n[6]||(n[6]=[t.createTextVNode("1")]))),_:1},512),[[t.vShow,i.value>Math.ceil(t.unref(d)/2)&&i.value>1&&o.total>t.unref(d)]]),t.withDirectives(t.createVNode(s,{class:"pager-button pager-back-button icon","no-border":"",onClick:n[1]||(n[1]=e=>m("prev",Math.max(1,i.value-t.unref(d))))},{default:t.withCtx((()=>n[7]||(n[7]=[t.createTextVNode(" keyboard_double_arrow_left ")]))),_:1},512),[[t.vShow,i.value>Math.ceil(t.unref(d)/2)&&i.value>1&&o.total>t.unref(d)]]),(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(e).range(u.value,p.value),((e,n)=>(t.openBlock(),t.createBlock(s,{key:n,class:t.normalizeClass(["pager-button",{fill:o.fill,"curr-pager-button":e===i.value}]),onClick:t=>m("page",e),"no-border":"all",disabled:e===i.value},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e),1)])),_:2},1032,["class","onClick","disabled"])))),128)),t.withDirectives(t.createVNode(s,{class:"pager-button pager-forward-button icon","no-border":"",onClick:n[2]||(n[2]=e=>m("next",Math.min(o.total,i.value+t.unref(d))))},{default:t.withCtx((()=>n[8]||(n[8]=[t.createTextVNode(" keyboard_double_arrow_right ")]))),_:1},512),[[t.vShow,o.total-t.unref(d)>1&&o.total-i.value>t.unref(d)/2]]),t.withDirectives(t.createVNode(s,{class:"pager-button pager-tail-button","no-border":"",onClick:n[3]||(n[3]=e=>m("tail",o.total))},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(o.total),1)])),_:1},512),[[t.vShow,o.tail&&o.total-t.unref(d)>1&&o.total-i.value>t.unref(d)/2]])])):t.createCommentVNode("",true),o.showPagers&&o.jumper?(t.openBlock(),t.createElementBlock("div",Vn,"|")):t.createCommentVNode("",true),o.showPagers&&o.jumper?(t.openBlock(),t.createElementBlock("div",Cn,[n[9]||(n[9]=t.createTextVNode(" 转到 ")),t.createVNode(pt,{modelValue:l.value,"onUpdate:modelValue":[n[4]||(n[4]=e=>l.value=e),n[5]||(n[5]=e=>c("update:jumperValue",l.value))],class:"jumper",onKeydown:t.withKeys(g,["enter"])},null,8,["modelValue"]),n[10]||(n[10]=t.createTextVNode(" 页 "))])):t.createCommentVNode("",true),t.createElementVNode("div",Nn,[t.renderSlot(o.$slots,"tailSlot",{},undefined,true)])]))}}),[["__scopeId","data-v-2946e41a"]]),Ln={id:"thread-editor"},zn={id:"thread-editor-toolbar"},Sn=p(t.defineComponent({__name:"thread-editor",props:{ueditor:{},type:{default:"thread"}},setup(e){const o=e,n={modal:true,force:true,blurEffect:false,animation:true,lockScroll:true,contentStyle:{position:"fixed",width:"100%",maxWidth:"var(--content-max)",bottom:"0",marginBottom:"0",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"},renderAnimation:"kf-slide-in var(--default-duration)",unloadAnimation:"kf-slide-out var(--default-duration)"},r=t.ref(),a=t.ref(),i=t.ref();async function l(){(await we(".j_submit")).click(),c();}async function c(){var e;i.value&&a.value&&(i.value.appendChild(await we(".edui-container")),null==(e=r.value)||e.unload());}return t.onMounted((async function(){var e;if(await t.nextTick(),!a.value)return;i.value=o.ueditor.parentElement,a.value.appendChild(o.ueditor);const n=await we(".edui-toolbar"),r=await we(".edui-editor-body");n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING&&(null==(e=n.parentNode)||e.insertBefore(r,n)),(await we("#ueditor_replace")).focus();})),(e,o)=>(t.openBlock(),t.createBlock(Te,t.mergeProps({ref_key:"dialog",ref:r},n),{default:t.withCtx((()=>[t.createElementVNode("div",Ln,[t.createVNode(s,{"aria-label":"关闭",id:"thread-editor-exit",class:"icon","shadow-border":"",onClick:c},{default:t.withCtx((()=>o[0]||(o[0]=[t.createTextVNode("close ")]))),_:1}),"thread"===e.type?(t.openBlock(),t.createBlock(pt,{key:0,class:"title-editor",placeholder:"输入标题","lodash-style":""})):t.createCommentVNode("",true),t.createElementVNode("div",{ref_key:"editorSlot",ref:a,id:"thread-editor-slot"},null,512),t.createElementVNode("div",zn,[t.createVNode(s,{id:"thread-editor-submit","shadow-border":"","theme-style":"",onClick:l},{default:t.withCtx((()=>o[1]||(o[1]=[t.createTextVNode("发表")]))),_:1})])])])),_:1},16))}}),[["__scopeId","data-v-1d655f88"]]),Tn={class:"toggle-panel"},jn={class:"toggle-container"},Dn={class:"toggle-name"},Mn=p(t.defineComponent({__name:"toggle-panel",props:{toggles:{}},setup(e){const o=e,n={contentStyle:{maxWidth:"60vh",maxHeight:"60vh"}};return (e,r)=>(t.openBlock(),t.createBlock(Te,t.normalizeProps(t.guardReactiveProps(n)),{default:t.withCtx((()=>[t.createElementVNode("div",Tn,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(o.toggles,(e=>(t.openBlock(),t.createElementBlock("div",jn,[t.createVNode(Qe,{class:"panel-button","model-value":e.defaultValue??false,"icon-type":"","shadow-border":"",onClick:e.event},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.icon),1)])),_:2},1032,["model-value","onClick"]),t.createElementVNode("div",Dn,t.toDisplayString(e.name),1)])))),256))])])),_:1},16))}}),[["__scopeId","data-v-fba74258"]]);class $n{constructor(e,t){__publicField(this,"selector"),__publicField(this,"parent"),this.selector=e,this.parent=t;}get(){return this.parent?xe(this.selector,this.parent,[])[0]:xe(this.selector,[])[0]}}const An={auxiliary:"tbui_fbar_auxiliaryCare",down:"tbui_fbar_down",post:"tbui_fbar_post",props:"tbui_fbar_props",tsukkomi:"tbui_fbar_tsukkomi",share:"tbui_fbar_share",favor:"tbui_fbar_favor",feedback:"tbui_fbar_feedback",top:"tbui_fbar_top",other:"*"};const Fn=new class extends $n{buttons(){return this.get()?Array.from(xe(".tbui_aside_fbar_button",Fn.get(),[])).map((t=>({el:t,type:function(){for(let o=0;o<t.classList.length;o++){const n=t.classList[o];if(!n.includes("tbui_fbar_"))continue;const r=e.findKey(An,(e=>e===n));if(r)return r}return "other"}()}))):[]}add(e,t,o,n,r=0){const a=Ve("a",{href:"javascript:;"}),i=Ve("li",{class:"tbui_aside_fbar_button"},[a]);var l,c;return i.addEventListener("click",t),"other"!==e&&i.classList.add(An[e]),o&&i.classList.add(o),Fn.get().insertBefore(i,Fn.get().children[r]),c=n,(l=a).classList.add("icon"),l.classList.add("tbui_aside_fbar_button"),l.innerHTML=c||"",{el:i,type:e}}remove(e){switch(typeof e){case "string":{const t=xe(e,Fn.get());null==t||t.remove();break}case "number":Fn.get().children[e].remove();break}}}(".tbui_aside_float_bar");const In=new class extends $n{allPagerButtons(){return xe("a, .tP",this.get(),[])}getPagerButton(e,t=0){const o=this.allPagerButtons();switch(e){case "prev":return this.findMatchingButton(o,"上一页");case "next":return this.findMatchingButton(o,"下一页",true);case "head":return this.findMatchingButton(o,"首页");case "tail":return this.findMatchingButton(o,"尾页",true);case "page":{let e=0;for(const n of o)if(/^\d+$/.test(n.innerText)){if(e===t&&n instanceof HTMLAnchorElement)return n;e++;}return null}default:return null}}getByPage(e){return this.findMatchingButton(this.allPagerButtons(),e.toString())}jumpTo(t){const o=["pn","see_lz"],n=new URLSearchParams(location.search),r=new URLSearchParams;for(const[c,d]of n)e.includes(o,c)&&r.set(c,d);const a=new URL(location.href);a.search=r.toString(),history.pushState({},"",a);const i=xe("#jumpPage4, #jumpPage6"),l=xe("#pager_go4, #pager_go6");i&&(i.value=t.toString()),null==l||l.click();}findMatchingButton(e,t,o=false){const n=o?Array.from(e).reverse():e;for(const r of n)if(r.innerText===t)return r;return null}}(".l_pager");function Pn(){var t;const o=xe(".l_post",[]),n=xe(".d_post_content",[]),r=xe(".d_author",[]),a=xe(".p_author_face",[]),i=xe(".p_author_name",[]),l=xe(".d_badge_lv",[]),c=xe(".d_badge_title",[]),d=xe(".lzl_link_unfold",[]),s=e.map(xe(".post-tail-wrap span:first-child, .ip-location",[]),(e=>e.innerText)),u=e.map(xe(".tail-info a, .p_tail_wap",[]),(e=>e.innerText)),p=e.map(xe(".j_jb_ele + .tail-info + .tail-info, .p_tail li:first-child span",[]),(e=>e.innerText)),m=e.map(xe(".post-tail-wrap span:nth-last-child(2), .p_tail li:last-child span",[]),(e=>e.innerText)),g=[];for(let b=0;b<n.length;b++)n[b].classList.add("floor-content"),a[b].classList.add("floor-avatar"),i[b].classList.add("floor-name"),g.push({post:n[b],replyButton:d[b],dataField:e.defaults(o[b].getAttribute("data-field"),""),isLouzhu:!!xe(".louzhubiaoshi_wrap",r[b]),profile:{avatar:a[b],nameAnchor:i[b],level:parseInt(l[b].innerText),badgeTitle:c[b].innerText},tail:{location:s[b],platform:u[b],floor:p[b],time:m[b]}});return {displayWrapper:xe(".wrap2",[])[0],title:PageData.thread.title,reply:+((null==(t=xe(".l_reply_num span:nth-child(1)"))?undefined:t.innerText)??0),pages:PageData.pager.total_page,lzOnlyButton:xe("#lzonly_cntn",[])[0],favorButton:xe(".j_favor",[])[0],cotents:g,forum:{info:{name:PageData.forum.forum_name},components:{nameAnchor:xe(".card_title_fname",[])[0],iconContainer:xe(".card_head a, .plat_picbox",[])[0],followButton:xe(".card_head .focus_btn",[])[0],signButton:xe(".j_sign_box",[])[0]}},pager:{listPager:xe(".pb_list_pager",[])[0],jumper:{textbox:xe(".jump_input_bright",[])[0],submitButton:xe(".jump_btn_bright",[])[0]}}}}Pe(J.get()),S.addEventListener("change",(()=>Pe(J.get()))),Promise.all([async function(){const t=Q.get(),o=L(t.dark),r=L(t.light),a=z(o),i=z(r),l=k({":root":{"--content-max":X.get().noLimit?"100vw":`${X.get().maxWidth}px`,"--code-zh":`${e.join(te.get(),",")}`,"--code-monospace":`${e.join(oe.get(),",")}`},"html.dark-theme":{"--tieba-theme-color":t.dark,"--trans-tieba-theme-color":`rgb(${o.r} ${o.g} ${o.b} / 80%)`,"--tieba-theme-hover":`hsl(${a.h}deg ${parseInt(a.s)+40}% ${parseInt(a.l)+10}%)`,"--tieba-theme-active":`hsl(${a.h}deg ${parseInt(a.s)+50}% ${parseInt(a.l)+20}%)`,"--tieba-theme-background":`rgb(${o.r} ${o.g} ${o.b} / 24%)`,"--tieba-theme-fore":`hsl(${a.h}deg 100% 75%)`},"html.light-theme":{"--tieba-theme-color":t.light,"--trans-tieba-theme-color":`rgb(${r.r} ${r.g} ${r.b} / 80%)`,"--tieba-theme-hover":`hsl(${i.h}deg ${parseInt(i.s)-40}% ${parseInt(i.l)-10}%)`,"--tieba-theme-active":`hsl(${i.h}deg ${parseInt(i.s)-50}% ${parseInt(i.l)-20}%)`,"--tieba-theme-background":`rgb(${r.r} ${r.g} ${r.b} / 24%)`,"--tieba-theme-fore":`hsl(${i.h}deg 60% 32%)`}});n(l),window.addEventListener("load",(function(){n(k({":root":{"--scrollbar-width":`${V()}px`}}));}),{once:true});const c=re.get();""!==c&&n(c);}(),async function(){w("html{padding:0;margin:0;text-align:justify}body{overflow-x:hidden;overflow-y:scroll;overflow:hidden scroll;padding:0;margin:0;font-family:var(--code-zh)}body[no-scrollbar]{overflow:hidden}div,p{margin:0}select{padding:1px 8px;border:1px solid var(--border-color);border-radius:8px;cursor:pointer}option{cursor:pointer}option:checked{background-color:var(--tieba-theme-color);color:var(--default-background)}a{color:inherit;-webkit-text-decoration:none;text-decoration:none;word-break:break-all}.dialogJ{position:fixed!important;top:50%!important;left:50%!important}.dialogJ{transform:translate(-50%,-50%)}",'.icon,.outline-icon{font-family:Material Symbols,monospace!important}.icon,.outline-icon{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}.filled-icon{font-family:Material Symbols,monospace!important}.filled-icon{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}.anchor,.anchor-underline{color:var(--tieba-theme-fore);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;transition:var(--default-duration)}.anchor-underline{text-decoration:underline;-webkit-text-decoration:underline solid currentColor;text-decoration:underline solid currentColor;text-decoration-thickness:1.2px;-webkit-text-decoration:underline 1.2px;text-decoration:underline 1.2px}.anchor:hover,.anchor-underline:hover{background-color:var(--default-hover)}.anchor-underline:hover{text-decoration:underline;-webkit-text-decoration:underline solid rgba(0,0,0,0);text-decoration:underline solid rgba(0,0,0,0);text-decoration-thickness:1.2px;-webkit-text-decoration:underline 1.2px rgba(0,0,0,0);text-decoration:underline 1.2px rgba(0,0,0,0)}.anchor:active,.anchor-underline:active{background-color:var(--default-active)}.markdown{font-family:var(--code-zh);font-size:16px}.markdown code{padding:2px 6px;border-radius:8px;background-color:var(--light-border-color);font-family:var(--code-monospace);word-wrap:break-word}.markdown a{color:var(--tieba-theme-fore)}.markdown a:hover{-webkit-text-decoration:underline;text-decoration:underline}.markdown h2{margin:20px 0 8px;font-size:24px}.markdown h3{margin:16px 0 6px;font-size:18px}.markdown ul{padding:0;margin:6px 0}.markdown li{margin:6px 0 6px 22px;list-style:disc}.markdown li::marker{color:var(--minimal-fore)}.markdown blockquote{margin:20px 16px;color:var(--minimal-fore)}.markdown hr{border:2px solid var(--border-color);margin:10px 0}.settings-toggle-button{border:none!important;background-color:transparent!important;background-color:initial!important}.settings-toggle-button{border-radius:36px}.settings-toggle-button.toggle-off{color:var(--minimal-fore);font-variation-settings:"FILL" 0}.settings-toggle-button.toggle-off:after{content:"toggle_off"}.settings-toggle-button.toggle-on:after{content:"toggle_on"}.settings-toggle-button.toggle-on{color:var(--tieba-theme-color);font-variation-settings:"FILL" 1}.settings-toggle-button.toggle-off:hover{color:var(--default-hover)}.settings-toggle-button.toggle-off:active{color:var(--default-active)}.settings-toggle-button.toggle-on:hover{color:var(tieba-theme-hover)}.settings-toggle-button.toggle-on:active{color:var(--tieba-theme-active)}.level-green{background-color:var(--level-green-background)!important;color:var(--level-green-fore)!important}.level-blue{background-color:var(--level-blue-background)!important;color:var(--level-blue-fore)!important}.level-yellow{background-color:var(--level-yellow-background)!important;color:var(--level-yellow-fore)!important}.level-orange{background-color:var(--level-orange-background)!important;color:var(--level-orange-fore)!important}.remove-default{line-height:normal!important}.remove-default{font-size:16px}.remove-default button,.remove-default input,.remove-default optgroup,.remove-default select,.remove-default textarea{font-family:var(--code-zh);font-size:16px}.remove-default .content{min-height:0;min-height:initial;background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.remove-default code{display:inline;display:initial;width:auto;width:initial;height:auto;height:initial}.remove-default .content,.remove-default .foot{width:auto;width:initial}.remove-default button{color:inherit}.remove-default h4{font-family:var(--code-zh)}html:not([perf-saver]) body.custom-background .blur-if-custom-background{-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}html.dark-theme body.custom-background .blur-if-custom-background{-webkit-backdrop-filter:blur(24px) brightness(.8);backdrop-filter:blur(24px) brightness(.8)}html:not([perf-saver]) .blur-effect{-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}html.dark-theme .blur-effect{-webkit-backdrop-filter:blur(24px) brightness(.8);backdrop-filter:blur(24px) brightness(.8)}html:not([perf-saver]) .raster-effect{-webkit-backdrop-filter:saturate(.8) blur(4px);backdrop-filter:saturate(.8) blur(4px);background-color:var(--trans-page-background);background-image:radial-gradient(transparent 1px,var(--page-background) 1px);background-size:4px 4px}','@charset "UTF-8";.search-form{background-color:var(--default-background)}.search-form p{display:none}.page404{background-color:var(--default-background)}.main-title{color:var(--default-fore)}.main-title a{color:var(--tieba-theme-fore)}.app_download_box,#error_404_iframe{display:none}','@charset "UTF-8";.search_internal_btn:after,.icon_author:after,.icon_replyer:after{font-family:Material Symbols,monospace!important}.search_internal_btn:after,.icon_author:after,.icon_replyer:after{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}.search_bright .search_btn_enter_ba{box-sizing:border-box;padding:4px 12px;border:none;border-radius:6px;background:none;background-color:var(--default-background);box-shadow:0 0 0 1px var(--border-color);color:var(--default-fore);cursor:pointer;transition:var(--default-duration)}.search_bright .search_btn_enter_ba:hover:not([disabled]){background-color:var(--default-hover)}.search_bright .search_btn_enter_ba:active:not([disabled]){background-color:var(--default-active)}.search_bright .search_btn_enter_ba:focus:not([disabled]){border-color:var(--tieba-theme-color);box-shadow:0 0 0 2px var(--tieba-theme-color)}.search_bright .theme-style.search_btn_enter_ba{color:var(--default-background)!important}.search_bright .theme-style.search_btn_enter_ba{background-color:var(--tieba-theme-color)}.search_bright .theme-style.search_btn_enter_ba:hover{background-color:var(--tieba-theme-hover)}.search_bright .theme-style.search_btn_enter_ba:active{background-color:var(--tieba-theme-active)}.search_bright .unset-background.search_btn_enter_ba{background-color:transparent;background-color:initial}.search_bright .no-border.search_btn_enter_ba,.search_bright .no-border-all.search_btn_enter_ba{box-shadow:none}.search_bright .no-border-all.search_btn_enter_ba:hover,.search_bright .no-border-all.search_btn_enter_ba:focus{box-shadow:none}#head{background:transparent none repeat 0 0 / auto auto padding-box border-box scroll!important;background:initial!important;background-color:var(--page-background)!important}#head .head_inner{background-color:var(--page-background)}.threadlist_title a,.threadlist_title a:hover,.threadlist_title a:visited{color:var(--tieba-theme-fore)!important}.u_menu_item a{color:inherit!important}.card_banner,.plat_recom_carousel{display:none!important}.search_main{padding-bottom:0;padding-bottom:initial}.search_bright{margin-bottom:36px}.search_bright .search_logo_fixed{width:36px!important;height:36px!important;margin-left:56px!important;background-color:#0000!important;background-image:var(--img-tieba-icon)!important;background-repeat:no-repeat!important}.head_inner .search_logo{display:none!important}.search_form{display:flex;align-items:center;justify-content:center}.search_form form{margin-left:0!important}.search_bright .search_inp_border,.search_bright .search_ipt{height:40px!important;border:2px solid var(--border-color)!important;background-color:var(--default-background)!important;color:var(--default-fore)!important}.search_bright .search_inp_border,.search_bright .search_ipt{box-sizing:border-box;transition:var(--default-duration)}.search_bright .search_inp_border:hover,.search_bright .search_ipt:hover{border-color:var(--light-background)!important}.search_bright .search_inp_border:focus,.search_bright .search_ipt:focus{border-color:var(--tieba-theme-color)!important}.search_bright .search_btn{height:40px!important;border:1px solid var(--border-color)!important;background-color:var(--default-background)!important;box-shadow:none!important;color:var(--default-fore)!important;line-height:40px!important}.search_bright .search_btn{box-sizing:border-box;transition:var(--default-duration)}.search_bright .search_btn:hover{filter:brightness(1.1)}.search_bright .search_btn:active{filter:brightness(1.2)}.search_bright .search_btn_enter_ba{border:none!important;background-color:var(--tieba-theme-color)!important;color:var(--default-background)!important}.search_bright .search_btn_enter_ba{border-bottom-left-radius:0;border-top-left-radius:0}.search_main_fixed{display:none!important}.search_main_fixed{border-color:var(--border-color);-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);background-color:var(--trans-default-background);box-shadow:0 0 20px #0000001a}.card_top_theme{border:none!important}#content{width:982px}.card_top_theme .card_top{padding-left:120px!important}.card_title_fname{color:var(--tieba-theme-fore)!important}.card_title_fname{font-weight:700}.card_slogan{color:var(--light-fore)!important}.islike_focus{background-color:var(--tieba-theme-color)!important;background-image:none!important}.cancel_focus{background:none!important;background-color:var(--tieba-theme-background)!important}.sign_box_bright,.sign_box_bright_hover{background:none!important;background-color:var(--tieba-theme-color)!important}.sign_box_bright_signed,.sign_box_bright_noclass_hover{background:none!important;background-color:var(--tieba-theme-background)!important}.sign_mod_bright .sign_keep_span{margin:0!important;margin:initial!important;text-align:center!important}.forum_content{border-color:var(--border-color)!important;border-right:none!important;background:none!important;background-color:var(--elem-color)!important}.nav_wrap{border-color:var(--border-color)!important}.nav_list li.focus{background:none!important}.nav_list a{color:inherit!important}.j_tabnav_tab:hover{background:none}.nav_list a:hover,.nav_list a:focus{background-color:var(--elem-color)!important}.search_internal_input{height:24px!important;border-color:var(--border-color)!important;color:var(--default-fore)!important}.search_internal_input{border-radius:8px 0 0 8px}.search_internal_btn{height:26px!important;background-color:var(--tieba-theme-color)!important;background-image:none!important;vertical-align:middle!important}.search_internal_btn{border-radius:0 8px 8px 0}.search_internal_btn:after{color:var(--default-background);content:"search";font-size:18px;font-weight:700;line-height:26px;text-align:center}.aside_region{border-bottom:none!important}.aside_region .region_header{color:var(--default-fore)!important}.my_tieba .media_left,.my_tieba .media-left{border:none!important}.my_current_forum .badge{border:1px solid var(--border-color)!important;background-color:var(--light-background)!important;color:var(--default-fore)!important}.my_current_forum .badge_name{color:var(--default-fore)!important}.media_top img,.media-top img{border-radius:16px}.aside_media_horizontal a,.aside-media-horizontal a{color:var(--tieba-theme-fore)!important}.threadlist_bright li.thread_top_list_folder,.threadlist_bright li.thread_top_list_folder:hover{background-color:var(--very-light-background)!important}.threadlist_bright>li{border:none!important;background-color:var(--default-background)!important}.threadlist_bright>li:hover{background-color:var(--trans-light-background)!important}.j_th_tit{color:var(--tieba-theme-fore);font-weight:700}.threadlist_bright .threadlist_abs_onlyline,.threadlist_bright .threadlist_abs{color:var(--default-fore)!important}.vpic_wrap img:not([style]){opacity:0}.threadlist_bright .threadlist_media li{border-radius:8px!important}.threadlist_media li:hover .threadlist_pic_highlight{display:none!important}.threadlist_media li:hover .threadlist_pic_highlight,.vpic_wrap img{border-radius:8px}.threadlist_bright .media_disp{border:none!important;background:none!important}.threadlist_bright .threadlist_video{border-radius:8px}.threadlist_rep_num{height:auto!important;height:initial!important;background:none!important;background-color:var(--tieba-theme-background)!important}.threadlist_rep_num{border-radius:24px;color:var(--tieba-theme-fore);font-weight:700}.pagination-default .pagination-item{border:none!important;background-color:var(--light-background)!important;color:var(--light-fore)!important}.pagination-default .pagination-item{border-radius:8px}.pagination-default .pagination-current{border:none!important;background-color:var(--tieba-theme-color)!important;color:var(--default-background)!important}.pagination-default .pagination-item:not(.pagination-current):hover{border:none!important;background-color:var(--trans-light-background)!important}#tb_rich_poster_container{width:982px!important;background-color:var(--very-light-background)!important}#tb_rich_poster_container{border-radius:0 0 24px 24px;margin-left:-1px}.tb_rich_poster .poster_body .editor_textfield{border-color:var(--border-color)!important;background-color:var(--default-background)!important;color:var(--default-fore)!important}.tb_rich_poster .poster_body .editor_textfield{border-radius:8px}.tb_rich_poster .poster_body .editor_textfield:focus{border-color:var(--tieba-theme-color)!important}.old_style_wrapper{border-color:var(--border-color)!important;background-color:var(--elem-color)!important}.old_style_wrapper .edui-editor-body,.edui-container .edui-toolbar{background:none!important}.edui-editor-body .edui-body-container{border-color:var(--border-color)!important;background-color:var(--default-background)!important}.frs_content_footer_pagelet{background:none!important}.footer{display:none!important}.icon_author{background-image:none!important}.icon_author:after{content:"person";font-style:normal}.icon_replyer{background-image:none!important}.icon_replyer:after{content:"comment";font-style:normal}','@charset "UTF-8";body{background-color:var(--page-background);color:var(--default-fore)}.head_inner{background-color:var(--default-background)}.u_menu_item a{color:var(--default-fore)}.head_inner .search_logo{left:72px;width:60px;height:60px;background-image:var(--img-tieba-icon)}.search_top{border:none}.search_nav a:link,.search_nav a:hover,.search_nav a:visited,.u_menu_item a:hover,.u_menu_item a:visited{color:var(--default-fore)}.search_main{padding-bottom:96px}.search_bright .search_inp_border{border-color:var(--border-color);border-bottom-left-radius:8px;border-top-left-radius:8px;color:var(--default-fore)}.search_bright .search_inp_border:focus{border-color:var(--tieba-theme-color)}.search_bright .search_btn{border-color:var(--trans-tieba-theme-color);border-radius:8px;background-color:var(--tieba-theme-background);color:var(--tieba-theme-fore)}.search_bright .search_btn_enter_ba{background-color:var(--tieba-theme-color);border-bottom-left-radius:0;border-top-left-radius:0;color:var(--default-background)}.search_bright .search_btn:visited{color:var(--tieba-theme-fore)}.search_bright .search_btn_enter_ba:visited,.search_bright .search_btn_enter_ba:hover{background-color:var(--tieba-theme-color);color:var(--default-background)}.suggestion{border-color:var(--border-color)!important;border-radius:6px!important;background-color:var(--elem-color)!important;box-shadow:none!important;color:var(--default-fore)!important}.suggestion{transform:translateY(4px)}.suggestion .break_tip{background-color:var(--default-background)!important}.suggestion .highlight{color:var(--tieba-theme-color)!important}.suggestion .operation_title{color:var(--default-fore)!important}.suggestion .forum_image{border-radius:8px}.suggestion .forum_name{color:var(--default-fore)!important}.suggestion .on{background-color:var(--light-background)!important}.page-container .top-sec{display:none}.page-container .content-sec{background:none}.page-container .left-sec{border-radius:24px;border-top:none;background:none;background-color:var(--elem-color)}.f-d-w{border-radius:24px;background-color:var(--elem-color)}.f-d-w .f-d-item{background:none}.aggregate_entrance_wrap{display:none}.u-f-t .gap{border:none;background:none}.f-d-w .all{background:none}.forum_rcmd{border:0;border-radius:24px;background-color:var(--elem-color)}.region_bright .region_header{color:var(--default-fore)}.page-container .left-sec .region_bright{border-radius:24px}.my_tieba_mod .media_left,.my_tieba_mod .media-left{border:none}.media_left img,.media-left img{border-radius:16px}#nameValue,#j_tcharge_dialog{color:var(--default-fore)}#onekey_sign .onekey_btn,#onekey_sign a.onekey_btn{border-radius:8px;margin-right:-5px;background:none;background-color:var(--tieba-theme-color);color:var(--elem-color);text-align:center}#onekey_sign .onekey_btn:after{content:"一键签到"}#onekey_sign a.signed_btn .icon_signed{margin-top:2px;background:var(--svg-checkmark);background-repeat:no-repeat;background-size:20px;filter:drop-shadow(var(--elem-color) 0 9999px);transform:translateY(-9999px)}#onekey_sign .onekey_btn:hover{box-shadow:0 0 10px var(--tieba-theme-color)}.u-f-w{padding-bottom:20px}.left-cont-fixed{position:relative;bottom:0}.u-f-w .sign,.u-f-w .unsign,.always-forum-item .sign,.always-forum-item .unsign{border-radius:8px;background:none;background-color:var(--light-background);color:var(--default-fore)}.u-f-w .sign,.always-forum-item .sign{background-color:var(--tieba-theme-background);color:var(--tieba-theme-fore)}.u-f-w .sign,.u-f-w .unsign{margin-bottom:8px}.u-f-w .sign:hover,.u-f-w .unsign:hover,.always-forum-item .sign:hover,.always-forum-item .unsign:hover{background:none;background-color:var(--tieba-theme-color);box-shadow:0 0 10px var(--tieba-theme-color);color:var(--elem-color);-webkit-text-decoration:none;text-decoration:none}.u-f-w .more{border:none;border-radius:8px;background:none;background-color:var(--elem-color);box-shadow:none;color:var(--default-fore)}.more-txt{color:var(--default-fore)}.u-f-w .more-hover{width:188px;margin:auto;background-color:var(--tieba-theme-color);box-shadow:0 0 10px var(--tieba-theme-color);color:var(--elem-color)}.u-f-w .more-hover .more-txt,.u-f-w .more:hover .more-txt{margin-left:60px;color:var(--elem-color)}.always-forum-title{border:none;margin-top:10px}#alwayforum-wraper{background-color:var(--elem-color)}.pop-up-frame{border:none;background-color:var(--elem-color);border-radius:24px 24px 24px 0;box-shadow:none}.always-forum-close{display:none}.always-forum-item .addnewforumbtn{width:110px;padding-left:0;border-radius:8px;background:none;background-color:var(--tieba-theme-background);color:var(--tieba-theme-fore);font-size:20px;text-align:center}.always-forum-item .addnewforumbtn:after{content:"+"}.always-forum-item .addnewforumbtn:hover{background-color:var(--tieba-theme-color);box-shadow:0 0 10px var(--tieba-theme-color);color:var(--elem-color)}.tbui_scroll_panel .tbui_scroll_button{width:6px;border:none;border-radius:24px;background-color:var(--very-light-background)}.tbui_scroll_panel .tbui_scroll_bar{width:6px;background:none}.forum_rcmd .class_title>div{color:var(--default-fore)}.rcmd_forum_item .forum_name{color:var(--default-fore)}.rcmd_forum_item .rcmd_forum_logo{border:none;border-radius:16px;background:none}.page-container .r-left-sec,.sub_nav_wrap,.title-tag-wraper,.thread-name-wraper,.n_reply{width:780px}.n_txt{width:720px;color:var(--light-fore)}.sub_nav_wrap{background:none;background-color:var(--default-background);box-shadow:none}.sub_nav_list a.cur{border:none;color:var(--tieba-theme-color)}.sub_nav_list .nav_hover{width:56px!important}.sub_nav_list .nav_hover{border-bottom:3px solid var(--tieba-theme-color)}.sub_nav_list li.sub_nav_line{background:none}.page-container .r-right-sec{display:none}.item_hd{border:none;border-radius:24px;background-color:var(--default-background);color:var(--default-fore)}.item_hd .title{color:var(--default-fore)}.topic_list .topic_item .topic_flag_hot{border-radius:4px}.item .item_hd{border:none;background-color:var(--default-background);color:var(--default-fore)}.item .item_hd .title{color:var(--default-fore)}.notice-wrap-fixed{background-color:var(--default-color);border-bottom-left-radius:24px;border-bottom-right-radius:24px}.notice,.notice img{border-radius:24px}.new_list .title{color:var(--tieba-theme-color)}.new_list .title:hover{color:var(--tieba-theme-color);-webkit-text-decoration:underline;text-decoration:underline}.title-tag-wraper a{padding:4px 10px;border-radius:24px;background-color:var(--light-background);color:var(--light-fore);font-size:12px}.title-tag-wraper a:hover{color:var(--light-fore);-webkit-text-decoration:none;text-decoration:none}.list-post-num{top:0;padding:4px 10px;border:none;border-radius:16px;background-color:var(--tieba-theme-background);color:var(--tieba-theme-fore)}.list-triangle-border,.list-triangle-body{display:none}.new_list .post_author{padding:0;margin-bottom:24px;background:none;color:var(--default-fore);-webkit-text-decoration:none;text-decoration:none}.new_list .time{padding:0;background:none}.topic-tag{display:none}.n_img img{border:none;border-radius:16px;cursor:pointer}.n_img li{border-radius:16px}.n_img li .feed_highlight{background:none;cursor:pointer}.media_box{border:none;border-radius:16px;background-color:var(--light-background)}.media_box img{border-radius:16px;cursor:pointer}.ui_btn{border:none;border-radius:24px;background:none;background-color:var(--tieba-theme-color);color:var(--default-background)}.ui_btn:hover{-webkit-text-decoration:none!important;text-decoration:none!important}.ui_btn:hover{background:none;background-color:var(--tieba-theme-color);box-shadow:0 0 10px var(--tieba-theme-color);color:var(--default-background)}.btn_more{width:200px;height:auto;height:initial;border-radius:24px;background:none;background-color:var(--tieba-theme-background)}.btn_more:hover,.data_error_bar a:hover,.btn_more a:hover{background:none!important;background-color:var(--tieba-theme-color)!important;color:var(--default-background)!important}.data_error_bar a,.btn_more a{border:none;color:var(--tieba-theme-fore)}.bottom-bg{background:none}.footer{border-top:1px solid var(--light-background);background-color:var(--light-background)}.f-d-w,.left-cont-wraper .ufw-gap,#data_loading img{display:none}','@charset "UTF-8";.tbui_aside_float_bar li a{font-family:Material Symbols,monospace!important}.tbui_aside_float_bar li a{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 40;-webkit-user-select:none;-moz-user-select:none;user-select:none}@keyframes animation-fade-in{0%{opacity:0}to{opacity:1}}.fade-in-elem{animation:animation-fade-in ease .3s forwards}#com_userbar{display:none}.tbui_aside_float_bar{border:none!important;background:none!important}.tbui_aside_float_bar li{width:40px;height:40px;border-radius:24px;margin:8px 0;background-color:var(--light-background)}.tbui_aside_float_bar li:hover{background-color:var(--default-hover)}.tbui_aside_float_bar li:active{background-color:var(--default-active)}.tbui_aside_float_bar li a{width:40px!important;height:40px!important;background:none!important}.tbui_aside_float_bar li a{border-radius:24px}.tbui_aside_float_bar a{width:40px!important;height:40px!important}.tbui_aside_float_bar a{color:var(--minimal-fore);font-size:24px;line-height:40px;text-align:center}.tbui_aside_float_bar .tbui_fbar_auxiliaryCare a{height:40px!important;background:none!important}.tbui_fbar_auxiliaryCare a:after{content:"accessibility_new"}.tbui_fbar_top a:after{content:"arrow_upward"}.tbui_fbar_post a:after{content:"chat";font-size:22px}.tbui_fbar_feedback a:after{content:"report";font-size:26px}.tbui_aside_float_bar li.tbui_fbar_feedback a,.tbui_aside_float_bar .tbui_fbar_feedback a,.tbui_aside_float_bar .tbui_fbar_feedback a:hover{background:none!important}.tbui_aside_float_bar .tbui_fbar_down,.tbui_aside_float_bar .tbui_fbar_props,.tbui_aside_float_bar .tbui_fbar_tsukkomi,.tbui_aside_float_bar .tbui_fbar_share,.tbui_aside_float_bar .tbui_fbar_favor,.tbui_aside_float_bar .tbui_fbar_refresh{display:none}.p_tools a{padding:0 10px;background:none;vertical-align:bottom}.p_tools span{display:none}.p_tools .p_putup:before,.p_tools .tb_icon_ypic:before,.p_tools .tb_icon_turnleft:before,.p_tools .tb_icon_turnright:before{margin-right:4px;font-family:Material Symbols,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;font-size:14px;vertical-align:bottom}.p_tools .p_putup:before{content:"zoom_out"}.p_tools .tb_icon_ypic:before{content:"zoom_out_map"}.p_tools .tb_icon_turnleft:before{content:"turn_left"}.p_tools .tb_icon_turnright:before{content:"turn_right"}','@charset "UTF-8";.d_name a:hover,#container .content a.at:hover{-webkit-text-decoration:none;text-decoration:none}.l_reply_num{color:inherit!important}#j_navtab_game,.nav_list .more-config-navtab,#j_navtab_wanle{display:none}.nav_wrap_add_border{border:none}#head{background:none;background-color:transparent}#container .content{border-radius:24px;background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.card_top_wrap{background:none!important;background-color:var(--elem-color)!important}.card_top_wrap{border-radius:24px 24px 0 0}.card_top_theme2{border:none;margin-right:0}#novel-ranking .novel-ranking-frs-body,.novel-award-aside{display:none}.card_head,.plat_head_theme2 .plat_picbox{top:-32px!important;width:64px!important;height:64px!important;padding:0!important;padding:initial!important;border:4px solid var(--border-color)!important;border-radius:24px!important;background:none!important}.card_head,.plat_head_theme2 .plat_picbox{overflow:hidden}.card_head_img,.plat_head_theme2 .plat_picbox img{width:64px!important;height:64px!important}.card_title,.plat_title_h3{margin:5px 20px 0}.card_top_theme2 .card_title_fname,.plat_title_h3,.plat_title_h3:hover,.plat_title_h3:visited{color:var(--highlight-fore)}.islike_focus{margin-top:4px!important}.islike_focus{border-radius:24px;background:none;background-color:var(--tieba-theme-color);color:var(--elem-color);font-size:14px;line-height:28px;text-align:center}.islike_focus:after{content:"关注"}.cancel_focus{width:72px;border:2px solid var(--trans-tieba-theme-color);border-radius:24px;background:none;background-color:var(--tieba-theme-background);color:var(--tieba-theme-fore);font-size:14px;line-height:28px;text-align:center}.cancel_focus:after{content:"已关注"}.card_top_right{margin-top:20px}.sign_box_bright{width:140px!important;height:40px!important}.sign_box_bright{border:2px solid var(--trans-tieba-theme-color);border-radius:24px;background:none;background-color:var(--tieba-theme-color);color:var(--default-background);font-size:18px;line-height:40px;text-align:center}.sign_btn_bright:before{color:var(--elem-color);content:"签到"}.sign_box_bright_signed{background-color:var(--tieba-theme-background);text-align:inherit}.sign_today_date,.sign_month_lack_days{display:none}.sign_keep_span{width:140px!important}.sign_keep_span{height:40px}.sign_keep_span,.sign_mod_bright .sign_keep_span{margin:0;margin:initial;color:var(--tieba-theme-fore);font-size:12px;text-align:center}.sign_box_bright_signed:before{content:none!important}.sign_mod_bright .sign_keep_span:before{content:"已签到 | "}.jump_input_bright{padding:0 10px;border-color:var(--border-color);border-radius:16px}.left_section{background:none}.core_title_wrap_bright{border-color:var(--border-color);-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);background-color:var(--trans-default-background)}.core_title_theme_bright,.core_title_absolute_bright .core_title_theme_bright{border-color:var(--border-color);background:none}.left_section .core_title_absolute_bright{-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);background-color:var(--trans-default-background)}.core_title_txt{margin-left:24px;background:none}.tittle_fill_dom.filled{background-color:var(--default-background)}.core_title h1{margin-left:0;color:var(--highlight-fore)}.nav_wrap{background-image:none!important}.nav_wrap{border-color:var(--border-color);background-color:var(--light-background)}.nav_list a.nav_icon,.nav_list .tbnav_arrow{padding-left:22px;background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.nav_wrap,.nav_list .space,.nav_list .focus,.nav_list li:hover,.nav_list li:hover .tbnav_tab_inner,.nav_list .focus .tbnav_tab_inner{background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.nav_list a{color:var(--default-fore)}span.tP{color:var(--highlight-fore)!important}.thread_theme_5{width:auto;width:initial;border-color:var(--border-color);border-right:none;border-left:none;background-color:var(--light-background)}.btn_sub,.btn-sub,.btn-sub-b,.core_title_btns li a,.p_favthr_main{border:none;border-radius:8px;background:none;background-color:var(--tieba-theme-background);color:var(--tieba-theme-fore)}.btn_sub:hover,.btn-sub:hover,.btn-sub-b:hover,.btn_sub:active,.btn-sub:active,.btn-sub-b:active,.btn_sub:focus,.btn-sub:focus,.btn-sub-b:focus{background-color:var(--tieba-theme-color);color:var(--default-background)}.l_lzonly:hover,.p_favthr_main:hover{background-color:var(--tieba-theme-color)!important;color:var(--default-background)!important}#quick_reply{display:none}.d_lzonly_bdaside,.p_favthr_main p,.j_quick_reply,.j_lzl_p a{color:inherit}.j_quick_reply{padding-left:0;padding-left:initial}.l_post_bright{width:auto!important;width:initial!important;border-color:var(--border-color)!important;background:none!important}.p_author_face{border:none!important;background:none!important}.icon_relative img{border-radius:16px}.d_name .p_author_name{color:var(--tieba-theme-fore)}.novel-level-icon{display:none}.d_badge_bright,.user_level .badge{border:1px solid var(--border-color);border-radius:24px;background-color:var(--light-background)}.user_level .badge_name{color:inherit}.d_badge_bright .d_badge_title{padding-left:4px;color:var(--default-fore)}.d_badge_bright .d_badge_lv,.user_level .badge_index{background-image:none!important}.d_badge_bright .d_badge_lv,.user_level .badge_index{background-color:var(--tieba-theme-background);color:var(--tieba-theme-fore)}.d_badge_lv,.user_level .badge_index{top:auto!important;top:initial!important;left:60px!important;width:auto!important;width:initial!important;height:8px!important;padding:0 4px!important;margin:12px 4px!important;font-family:inherit!important;line-height:2px!important}.d_badge_lv,.user_level .badge_index{border-radius:16px;font-size:14px;font-style:italic}.d_badge_icon1 .d_badge_lv,.tieba-lvl-green{background-color:var(--level-green-background)!important;color:var(--level-green-fore)!important}.d_badge_icon2 .d_badge_lv,.d_badge_icon2_1 .d_badge_lv,.d_badge_icon2_2 .d_badge_lv,.tieba-lvl-blue{background-color:var(--level-blue-background)!important;color:var(--level-blue-fore)!important}.d_badge_icon3 .d_badge_lv,.d_badge_icon3_1 .d_badge_lv,.d_badge_icon3_2 .d_badge_lv,.tieba-lvl-yellow{background-color:var(--level-yellow-background)!important;color:var(--level-yellow-fore)!important}.d_badge_icon4 .d_badge_lv,.d_badge_icon4_1 .d_badge_lv,.d_badge_icon4_2 .d_badge_lv,.tieba-lvl-orange{background-color:var(--level-orange-background)!important;color:var(--level-orange-fore)!important}.d_badge_bawu1 .d_badge_lv,.d_badge_bawu2 .d_badge_lv{text-indent:inherit!important}.d_author .d_pb_icons,.icon_book_link_icon{display:none}.region_bright{border:none;margin-top:12px;background:none;background-color:var(--elem-color)}.region_bright .region_title{color:var(--default-fore)!important}#celebrity{display:none}.balv_mod .media_left,.balv_mod .media-left{border:none}.right_section .tieba_notice{background:none}.topic_list_box{display:none;background-color:var(--default-background)}.pb_content{border:none;background:none;background-color:var(--elem-color)}.notice-icon,.right_section .tieba_notice{padding-left:0!important;padding-left:initial!important;background:none!important}.tieba_notice li{background:none}.p_content{border:none;background-color:var(--default-background)}.forbid-speech-banner{border-top:none}.BDE_Image{border-radius:24px}.BDE_Image:first-child{margin-top:8px}.share_btn_wrapper,.post-tail-wrap .icon-jubao{display:none}.post-tail-wrap .icon-jubao:after{content:"举报"}.post-tail-wrap .tail-info{color:var(--minimal-fore)}.j_jb_ele .tail-info,.complaint{color:var(--tieba-theme-fore)!important}.complaint{padding-right:4px;background:none}.complaint:after{content:"举报"}.post-tail-wrap .question-image:hover:before{border-color:var(--border-color);border-radius:8px;background-color:var(--light-background);color:var(--default-fore)}.post_bubble_top,.post_bubble_bottom{display:none}.post_bubble_middle{background:none!important}.post_bubble_middle{width:auto;width:initial;padding:0;padding:initial}.save_face_bg_2{display:none}.replace_div .replace_tip{border-color:var(--border-color);background-color:var(--elem-color)}.achievement_medal_section{display:none}.l_post_bright .d_post_content_main .d_sign_split{border-bottom:1px solid var(--border-color)}.d_post_content_main{background-color:var(--default-background)!important}.lzl_p_p{border:none}.lzl_p_p img{border-radius:8px}.core_reply_wrapper{border:1px solid var(--border-color)!important;border-radius:16px!important;margin-bottom:16px!important;background:none!important;background-color:var(--very-light-background)!important;color:var(--default-fore)!important}.core_reply_content li{border-top:0;border-top:initial}.core_reply_content li.first_no_border{margin-top:6px}.lzl_content_main{color:var(--default-fore)}.l_post_bright .core_reply_wrapper .core_reply_border_top,.core_reply_border_bottom,.l_post_bright .core_reply_wrapper .core_reply_content{border:none;background:none}.lzl_link_fold{display:none!important;border:1px solid var(--border-color)!important;border-bottom:none!important;background-color:var(--very-light-background)!important}.lzl_link_fold{border-radius:8px 8px 0 0;color:var(--tieba-theme-fore)}.core_reply div.hideLzl{background:none;background-color:var(--very-light-background)}.core_reply_wrapper .loading_reply{display:none}.lzl_cnt .lzl_s_r{color:var(--tieba-theme-fore)}.j_lzl_container .lzl_li_pager_s{overflow:visible}.lzl_li_pager_s .lzl_more,.lzl_more span{color:var(--light-fore)}.j_lzl_m{color:var(--tieba-theme-fore)}.lzl_cnt .lzl_time{color:var(--minimal-fore)}.lzl_jb_in,.user-jubao-button{background:none;color:var(--tieba-theme-fore)}.lzl_jb_in:after,.user-jubao-button:after{content:"举报"}.lzl_cnt .lzl_content_main{display:block}.d_post_content a,.lzl_cnt .lzl_content_main a:not(.at){margin:auto 2px;color:var(--tieba-theme-fore);transition:.4s}.pager_theme_5 a,.pager_theme_5 span,.jump_btn_bright{border-color:var(--default-background);border-radius:8px;background:none;background-color:var(--default-background);color:var(--minimal-fore)}.pager_theme_5 a:hover,.jump_btn_bright:hover{border-color:var(--tieba-theme-color);background-color:var(--tieba-theme-color);color:var(--default-background)}.thread_theme_7{width:auto;width:initial;border-color:var(--border-color);background-color:var(--light-background)}#pb-footer-header{background-color:var(--default-background)}#tb_rich_poster_container{width:auto;width:initial;border-radius:24px;background-color:var(--default-background)}.poster_head_text a.cur{color:var(--highlight-fore)!important}.edui-editor-body{border-color:var(--border-color)!important}.edui-editor-body{border-radius:16px;background:none}.edui-container .edui-editor-body.body-container-focus,.edui-container .edui-editor-body.body-container-focus .edui-body-container{border-color:var(--tieba-theme-color)!important}.old_style_wrapper{border-color:var(--border-color);border-radius:24px;background-color:var(--elem-color)}.edui-editor-body .edui-body-container{width:auto!important;width:initial!important}.edui-editor-body .edui-body-container{border-radius:16px;background:var(--default-background)}.edui-toolbar .edui-btn-toolbar,.edui-container .edui-toolbar{margin-top:4px;background-color:var(--elem-color)}.pb_footer{width:auto;width:initial;border:none;border-color:var(--border-color);background:none}.save-to-quick-reply-btn{border-color:var(--border-color);background:none;background-color:var(--light-background);color:inherit}.save-to-quick-reply-btn span{color:var(--tieba-theme-fore)}.footer{display:none}.skin_normal .wrap2{background:none;background-color:var(--page-background)}#lcsas-container{display:none}.user-hide-post-down,.user-hide-post-up{background-color:var(--light-fore);background-position:center;background-repeat:no-repeat;background-size:16px;-webkit-mask:var(--svg-arrow-down-circle);mask:var(--svg-arrow-down-circle);opacity:0}#selectsearch-icon{display:none}.ui_card_wrap{background:none}.ui_card_content{border-color:var(--border-color);border-radius:16px;background:none;box-shadow:0 0 20px #0003}.card_userinfo_wrap{background:none;background-color:var(--default-background)}.card_userinfo_left .userinfo_head{background:none}.j_avatar img{width:92px;height:92px;border:4px solid var(--border-color);border-radius:24px;-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}.card_userinfo_middle .userinfo_sex{background:none}.userinfo_sex_male:after{content:"♂"}.userinfo_sex_female:after{content:"♀"}.ui_card_wrap .ui_white_down,.ui_card_wrap .ui_white_up,.card_userinfo_guide{display:none}.user_card_loading{background-color:var(--default-background)}.user_card_loading img{display:none}.plat_head_theme2,.plat_header{border:none;background-color:transparent;background-color:initial}'),document.addEventListener("DOMContentLoaded",(function(){document.head.appendChild(Ve("link",{type:"image/icon",rel:"shortcut icon",href:Ie("/assets/images/main/favicon32.ico")}));}),{once:true});}(),async function(){if("index"!==$e())return;if(!ee.get().index)return;const e=n(k({body:{display:"none"}})),t=await we(".wrap1");C(xn),t.remove(),e.remove();}(),async function(){if(!ee.get().thread)return;if("thread"!==$e())return;w('.lzl_cnt .at,.lzl_cnt .lzl_content_main a,.content-wrapper .author-container .floor-name,.d_post_content a,.lzl_cnt .lzl_content_main a:not(.at){color:var(--tieba-theme-fore);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;transition:var(--default-duration)}.d_post_content a,.lzl_cnt .lzl_content_main a:not(.at){text-decoration:underline;-webkit-text-decoration:underline solid currentColor;text-decoration:underline solid currentColor;text-decoration-thickness:1.2px;-webkit-text-decoration:underline 1.2px;text-decoration:underline 1.2px}.lzl_cnt .at:hover,.lzl_cnt .lzl_content_main a:hover,.content-wrapper .author-container .floor-name:hover,.d_post_content a:hover{background-color:var(--default-hover)}.d_post_content a:hover,.lzl_cnt .lzl_content_main a:hover:not(.at){text-decoration:underline;-webkit-text-decoration:underline solid rgba(0,0,0,0);text-decoration:underline solid rgba(0,0,0,0);text-decoration-thickness:1.2px;-webkit-text-decoration:underline 1.2px rgba(0,0,0,0);text-decoration:underline 1.2px rgba(0,0,0,0)}.lzl_cnt .at:active,.lzl_cnt .lzl_content_main a:active,.content-wrapper .author-container .floor-name:active,.d_post_content a:active{background-color:var(--default-active)}.lzl_p_p img,.content-wrapper .author-container .floor-avatar img{-o-object-fit:contain;object-fit:contain}body{background-color:var(--page-background);overflow-x:hidden}body.special_conf_skin{background:var(--page-background)}.wrap1,.wrap1 .wrap2{background:none!important;background-color:transparent!important}.head_inner{display:none}#container{width:100%;max-width:100%;max-width:var(--content-max);box-sizing:border-box;margin-top:86px}#container .content{width:100%}#container .content .pb_content{position:relative;width:100%;box-sizing:border-box;padding:24px 48px;border-radius:6px 6px 0 0;border-top:6px solid var(--tieba-theme-color);background-color:var(--default-background);box-shadow:0 12px 80px -32px #0006}#container .tittle_fill_dom,.card_top_wrap,.nav_wrap,.p_thread{display:none}.core_title_wrap_bright{display:none!important}.lzl_cnt .at{padding:2px 0;color:var(--default-fore);font-size:14px;font-weight:700}.lzl_cnt .lzl_content_main img{vertical-align:text-bottom}#j_p_postlist{display:flex;box-sizing:border-box;flex-direction:column;gap:16px}#j_p_postlist .save_face_bg{display:none}#j_p_postlist .l_post_bright{border:none}#j_p_postlist .l_post_bright .d_post_content_main{background-color:transparent!important;background-color:initial!important}#j_p_postlist .l_post_bright .d_post_content_main{width:100%;padding:0}#j_p_postlist .l_post_bright .d_post_content_main .p_content{min-height:0;min-height:initial;padding:0;margin-bottom:-42px;background-color:transparent;background-color:initial}#j_p_postlist .l_post_bright .d_post_content_main .p_content .shield-tip{background:none}#j_p_postlist .l_post_bright .d_post_content_main .p_content .d_post_content{background-color:transparent!important;background-color:initial!important}#j_p_postlist .l_post_bright .d_post_content_main .p_content .d_post_content{padding:0;font-size:16px;grid-area:content}#j_p_postlist .l_post_bright .d_post_content_main .p_content .replace_div{width:auto!important}#j_p_postlist .l_post_bright .d_post_content_main .p_content .BDE_Smiley{width:24px;height:24px;vertical-align:text-bottom}#j_p_postlist .l_post_bright .d_post_content_main .p_content .BDE_Image{display:flex;width:-moz-max-content;width:max-content;max-width:100%;height:auto;border-radius:12px;margin:6px auto}#j_p_postlist .l_post_bright .d_post_content_main .core_reply{margin-right:0;margin-right:initial}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_tail{margin-top:0}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper{border:none!important;background-color:transparent!important;background-color:initial!important}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper{width:100%}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content{padding:0 0 0 36px}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .lzl_single_post{animation:kf-slide-in var(--default-duration)}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .lzl_single_post:not(.first_no_border){padding-top:0;margin-top:0}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .edui-container{width:auto!important}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .edui-container{max-height:64px}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .edui-container .edui-editor-body{height:-moz-max-content!important;height:max-content!important}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .edui-container .edui-editor-body{overflow:hidden;max-height:72px;padding:6px;border-radius:6px}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .edui-container .edui-editor-body .edui-body-container{min-height:16px!important}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .edui-container .edui-editor-body .edui-body-container{max-height:64px;padding-left:0;border-radius:6px;font-size:14px;overflow-y:auto}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .lzl_panel_wrapper{width:100%}#j_p_postlist .l_post_bright .d_post_content_main .core_reply .core_reply_wrapper .core_reply_content .lzl_panel_wrapper .lzl_panel_submit{background:none}.main-wrapper{display:flex;max-width:80%;flex-direction:column;padding:8px;margin:48px auto auto}@media (min-width: 1200px){.main-wrapper{max-width:60%}}.left_section{width:100%}.right_section{display:none}#title-wrapper{display:flex;box-sizing:border-box;align-items:flex-end;justify-content:space-between;margin:16px 0;gap:8px}.shrink-view #title-wrapper{padding:0 48px}#title-wrapper .thread-title{max-width:60%;font-size:32px;line-height:36px;text-align:left}#title-wrapper .forum-wrapper-button{background-color:var(--trans-light-background)!important}#title-wrapper .forum-wrapper-button{display:flex;overflow:hidden;width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content;align-items:center;padding:0;border-radius:8px;gap:8px}html:not([perf-saver]) body.custom-background #title-wrapper .forum-wrapper-button{-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}html.dark-theme body.custom-background #title-wrapper .forum-wrapper-button{-webkit-backdrop-filter:blur(24px) brightness(.8);backdrop-filter:blur(24px) brightness(.8)}#title-wrapper .forum-wrapper-button:last-child{padding-right:8px}#title-wrapper .forum-wrapper-button .forum-icon{width:36px;height:36px}#title-wrapper .forum-wrapper-button .forum-name{color:var(--highlight-fore);font-size:14px;font-weight:700}#title-wrapper .forum-wrapper-button .forum-info{display:flex;flex-direction:column;justify-content:center}#title-wrapper .forum-wrapper-button .forum-info .forum-members{display:flex;gap:8px}#title-wrapper .forum-wrapper-button .button-container{display:flex;align-items:center}#title-wrapper .forum-wrapper-button .button-container .forum-button{padding:0 4px;color:var(--tieba-theme-color);font-size:16px;font-weight:700}#title-wrapper .forum-wrapper-button .button-container .forum-button:not(:hover):not(:active):not(:focus){background-color:transparent}.forum-mask-wrapper{position:relative;z-index:-1;display:flex;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}@keyframes mask-fade-in{0%{opacity:0}to{opacity:.1}}.forum-mask-wrapper .forum-mask{position:absolute;top:-320px;width:480px;height:480px;border-radius:480px;animation:mask-fade-in 1s ease-in-out;filter:blur(60px);opacity:.1;-webkit-user-select:none;-moz-user-select:none;user-select:none}.content-wrapper{display:flex;width:100%;flex-direction:column;gap:16px}.content-wrapper .author-container{display:grid;margin-bottom:8px;grid-gap:6px;gap:6px;grid-template:"avatar name" auto "avatar tags" auto/36px 1fr}.content-wrapper .author-container .floor-avatar{width:-moz-max-content!important;width:max-content!important;height:-moz-max-content!important;height:max-content!important;padding:0!important}.content-wrapper .author-container .floor-avatar{overflow:hidden;grid-area:avatar}.content-wrapper .author-container .floor-avatar img{width:36px;height:36px;border-radius:8px}.content-wrapper .author-container .floor-name{width:-moz-fit-content;width:fit-content;color:var(--highlight-fore);font-size:14px;font-weight:700;grid-area:name}.content-wrapper .author-container .badge-container{display:flex;margin-top:-4px;gap:4px;grid-area:tags}.content-wrapper .author-container .badge-container .floor-badge{display:flex;width:-moz-fit-content;width:fit-content;padding:0 6px;border-radius:6px;background-color:var(--trans-light-background);color:var(--light-fore);gap:6px}.content-wrapper .author-container .badge-container .floor-badge .badge-level{font-weight:700}.content-wrapper .floor-wrapper{display:grid;grid-template:"avatar name" auto "avatar tags" auto "content content" 1fr "footer footer" auto "comments comments" auto/36px 1fr}.content-wrapper .floor-wrapper .floor-avatar{width:-moz-max-content!important;width:max-content!important;height:-moz-max-content!important;height:max-content!important;padding:0!important}.content-wrapper .floor-wrapper .floor-avatar{overflow:hidden;grid-area:avatar}.content-wrapper .floor-wrapper .floor-avatar img{width:36px;border-radius:8px}.content-wrapper .floor-wrapper .floor-name{width:-moz-fit-content;width:fit-content;margin:0 8px 4px;font-size:14px;grid-area:name}.content-wrapper .floor-wrapper .floor-badge{display:flex;width:-moz-fit-content;width:fit-content;padding:0 6px;border-radius:6px;margin:0 8px 8px;background-color:var(--trans-light-background);color:var(--light-fore);gap:6px;grid-area:tags}.content-wrapper .floor-wrapper .floor-badge .badge-level{font-weight:700}.content-wrapper .floor-wrapper .floor-content{padding:8px 0;font-size:16px;grid-area:content}.content-wrapper .floor-wrapper .floor-content .BDE_Smiley{width:24px;height:24px;vertical-align:sub}.content-wrapper .floor-wrapper .floor-info{display:flex;justify-content:flex-end;color:var(--light-fore);gap:12px;grid-area:footer}.content-wrapper .floor-wrapper .floor-comments{width:100%;grid-area:comments}.content-wrapper .floor-wrapper .floor-comments .core_reply_wrapper{width:100%}#ueditor_replace{overflow:hidden}#thread-jsx-components{display:flex;box-sizing:border-box;flex-direction:column;gap:12px}#thread-jsx-components .dummy-button{width:100%;padding:8px 0 0;border:none;border-radius:0;border-bottom:3px solid var(--border-color);margin-top:8px;background-color:transparent;box-shadow:none;color:var(--minimal-fore);cursor:text;font-size:16px;text-align:justify}#thread-jsx-components .dummy-button:hover{border-color:var(--light-background)}#thread-jsx-components .dummy-button:focus{border-color:var(--tieba-theme-color)}.pb_footer,.svelte-zmnt4x{display:none}.wrap2{padding-bottom:0!important}.head_ad_pop{display:none!important}.plat_head,.star_nav_wrap{display:none}'),w("body[compact-layout] #j_p_postlist{gap:0}body[compact-layout] .core_reply_content li.first_no_border{margin-top:-4px}"),await he((()=>!e.isNil(document.body))).then((function(){K.get()&&document.body.toggleAttribute("compact-layout");})),he((()=>!e.isNil(Fn.get()))).then((function(){Fn.add("other",(function(){var e;N(Mn,{toggles:[{icon:"favorite",name:"收藏",defaultValue:"收藏"!==(null==(e=xe(".j_favor, #j_favthread .p_favthr_main"))?undefined:e.innerText),event(){var e;null==(e=xe(".j_favor, #j_favthread .p_favthr_main"))||e.click();}},{icon:"face_6",name:"只看楼主",defaultValue:function(){var e;return "只看楼主"!==(null==(e=xe("#lzonly_cntn"))?undefined:e.innerText)}(),event(){var e;null==(e=xe("#lzonly_cntn"))||e.click();}},{icon:"compare_arrows",name:"紧凑布局",defaultValue:K.get(),event(){document.body.toggleAttribute("compact-layout"),K.set(!K.get());}}]});}),"module-settings","menu"),document.body.insertBefore(Ve("div",{class:"vue-module-control",style:"display: none;"}),document.body.firstChild);}));const o=await we(".content"),n=await we("#pb_content");"performance"===O.get()&&H.get().moreBlurEffect&&(n.classList.add("blur-effect"),n.style.backgroundColor="var(--trans-default-background)"),async function(){var r,a;const i=await we("#j_p_postlist");i.classList.add("content-wrapper");let l=Pn();const c=l.forum.components.iconContainer.children[0].src;it(t.createVNode("div",{id:"title-wrapper"},[t.createVNode("h3",{class:"thread-title"},[PageData.thread.title]),t.createVNode(s,{class:"forum-wrapper-button",noBorder:true},{default:()=>[t.createVNode("img",{class:"forum-icon",src:c,alt:""},null),t.createVNode("a",{class:"forum-name",href:`/f?kw=${PageData.forum.name_url}`,target:"_blank"},[PageData.forum.forum_name,t.createTextVNode(" 吧")]),t.createVNode("div",{class:"button-container"},[t.createVNode(s,{class:"icon forum-button add-forum-button",noBorder:true},{default:()=>[PageData.user.is_like?"check":"add"]})])]})]),o,n),function(e,o,n=500){xe(".float-message",[]).length<=0&&lt(t.createVNode("div",{class:"float-message"},[t.createVNode("div",{class:"float-content"},null)]),document.body);const r=xe(".float-message");if(!r)return;let a=-1;e.addEventListener("mouseenter",(function(){a>=0&&clearTimeout(a);})),e.addEventListener("mouseleave",(function(){a>=0&&clearTimeout(a),r.style.display="none";})),e.addEventListener("mousemove",(function(e){a>=0&&clearTimeout(a),a=setTimeout((()=>{if("block"!==r.style.display){r.innerText=o,r.style.display="block",r.style.top="0",r.style.left="0";const t=nt(r,{x:e.clientX+4,y:e.clientY+4},"baseline");r.style.left=`${t.x}px`,r.style.top=`${t.y<e.clientY?t.y-8:t.y}px`;}}),n);}));}(await we(".forum-wrapper-button"),`关注 ${PageData.forum.member_count}，帖子 ${PageData.forum.post_num}`),null==(r=xe(".add-forum-button"))||r.addEventListener("click",(function(){var e;null==(e=xe("#j_head_focus_btn"))||e.click();})),null==(a=xe(".sign-in-button"))||a.addEventListener("click",(function(){var e;null==(e=xe(".j_signbtn"))||e.click();})),b.addEvent((function(){0!==xe(".d_author",[]).length&&(l=Pn(),e.forEach(xe(".d_post_content_main",i,[]),((e,o)=>{const n=function(e){const o=Ve("div",{class:"author-container"});l.cotents[e].profile.nameAnchor.classList.add("anchor"),o.appendChild(l.cotents[e].profile.avatar),o.appendChild(l.cotents[e].profile.nameAnchor);const n=lt(t.createVNode("div",{class:"badge-container"},null),o);return lt(t.createVNode("div",{class:`floor-badge level-${qe(l.cotents[e].profile.level)}`},[t.createVNode("div",{class:"badge-level"},[l.cotents[e].profile.level]),t.createVNode("div",{class:"badge-title"},[l.cotents[e].profile.badgeTitle])]),n.el),l.cotents[e].isLouzhu&&lt(t.createVNode("div",{class:"floor-badge"},[t.createTextVNode("楼主")]),n.el),o}(o);e.insertBefore(n,e.firstChild);})),e.forEach(xe(".d_author",[]),(e=>e.remove())));}));const d=new IntersectionObserver((function(t,o){e.forEach(t,(function(e){if(e.isIntersecting){const t=e.target.children[0],n=t.getAttribute("data-tb-lazyload");t.src!==n&&n?t.src=n:o.unobserve(e.target);}}));}),{root:null,rootMargin:"0px",threshold:.5});e.forEach(l.cotents,(e=>{d.observe(e.profile.avatar);})),f.addEvent((()=>{e.forEach(xe(".lzl_cnt",[]),(t=>{e.forEach(t.childNodes,(e=>{e&&3===e.nodeType&&e.remove();}));}));}));}();const r=[],a=(o,n,a)=>{const{vnode:i}=it((l=a,t.createVNode(Bn,{total:PageData.pager.total_page,current:PageData.pager.cur_page,showPagers:PageData.pager.total_page>1,pagerChange:function(t){In.jumpTo(t),e.forEach(r,(e=>{e.component.exposeProxy.current=t;}));},style:y({width:"100%",padding:"0",...l})},{tailSlot:()=>`回帖 ${PageData.thread.reply_num}`})),o,n??undefined);var l;r.push(i);};a(n,n.firstChild,{marginBottom:"24px",position:PageData.pager.total_page<=1?"absolute":"",right:PageData.pager.total_page<=1?"48px":""}),async function(){await he((()=>!e.isNil(Fn.get()))),await he((()=>!e.isNil(xe("#ueditor_replace")))),e.some(Fn.buttons(),{type:"post"})||Fn.add("post",r,undefined,undefined,2);const o=e.find(Fn.buttons(),(e=>"post"===e.type));function r(){const e=xe(".edui-container",[]).length>0?xe(".edui-container"):xe("#ueditor_replace");e&&N(t.createVNode(Sn,{ueditor:e,type:"reply"},null));}null==o||o.el.addEventListener("click",r),a(n,n.lastChild,{paddingTop:"24px"}),lt(t.createVNode("div",{id:"thread-jsx-components"},[t.createVNode(s,{class:"dummy-button",noBorder:true,onClick:r},{default:()=>[t.createTextVNode("回复帖子")]})]),n);}();}(),function(t,o){const n=[];return e.forEach(t,(async e=>{const t=(await e()).default,r=new Set(U.get()),a=(()=>{if(t.switch||undefined===t.switch){if(r.has(t.id))return  false;if(true===t.scope)return  true;if(Array.isArray(t.scope))for(let e=0;e<t.scope.length;e++){const o=t.scope[e];if($e()===o)return  true}if(t.scope instanceof RegExp&&t.scope.test(location.href))return  true}return  false})(),i={immediately:()=>{t.entry();},afterHead:()=>{Ee((()=>{t.entry();}));},DOMLoaded:()=>{document.addEventListener("DOMContentLoaded",(()=>{t.entry();}));},loaded:()=>{window.addEventListener("load",(()=>{t.entry();}));}};t.runnable=a,a&&i[t.runAt](),n.push(t),o(t);})),n}(Object.assign({"./modules/easy-jump/index.ts":()=>Promise.resolve().then((()=>Un)),"./modules/no-login/index.ts":()=>Promise.resolve().then((()=>Hn)),"./modules/notrans-emojis/index.ts":()=>Promise.resolve().then((()=>Wn)),"./modules/portal/index.ts":()=>Promise.resolve().then((()=>Yn)),"./modules/remixed-theme/index.ts":()=>Promise.resolve().then((()=>dr)),"./modules/shield/index.ts":()=>Promise.resolve().then((()=>zt)),"./modules/tieba-tags/index.ts":()=>Promise.resolve().then((()=>ur)),"./modules/toolkit/index.ts":()=>Promise.resolve().then((()=>br))}),(e=>{me().push(e);})),document.addEventListener("DOMContentLoaded",(function(){"thread"===$e()&&(b.observe(),f.observe()),"index"===$e()&&(ee.get().index||h.observe()),"forum"===$e()&&_.observe();}))]),window.addEventListener("load",(function(){Fe();})),he((()=>!e.isNil(document.body))).then((function(){if(X.get().noLimit)document.body.classList.add("shrink-view");else {const t=e.throttle((function(){window.innerWidth<=X.get().maxWidth?document.body.classList.add("shrink-view"):document.body.classList.remove("shrink-view");}),200);t(),window.addEventListener("resize",t);}})),v(),async function(){if("thread"!==$e())return;const e={default:1e3,saver:500,performance:9999};function t(){setTimeout((()=>{datalazyload.userConfig.diff=e[O.get()];}),500);}await he((()=>"undefined"!=typeof datalazyload)),b.addEvent(t);}(),console.info("\n██████╗ ███████╗███╗   ███╗██╗██╗  ██╗███████╗██████╗ \n██╔══██╗██╔════╝████╗ ████║██║╚██╗██╔╝██╔════╝██╔══██╗\n██████╔╝█████╗  ██╔████╔██║██║ ╚███╔╝ █████╗  ██║  ██║\n██╔══██╗██╔══╝  ██║╚██╔╝██║██║ ██╔██╗ ██╔══╝  ██║  ██║\n██║  ██║███████╗██║ ╚═╝ ██║██║██╔╝ ██╗███████╗██████╔╝\n╚═╝  ╚═╝╚══════╝╚═╝     ╚═╝╚═╝╚═╝  ╚═╝╚══════╝╚═════╝ \n");const On={id:"easy-jump",name:"直链跳转",author:"锯条",version:"1.0.2",brief:"链接跳转避免二次确认",description:"自动跳转至分享链接的原始地址，不再进行中转（不处理被严重警告的链接）",scope:/jump2?.bdimg.com\/safecheck\//,runAt:"immediately",entry:async function(){Ee((function(){x("html",{backgroundColor:"var(--page-background)"}),x("body",{display:"none"});})),location.href=(await we(".link")).innerText;}};const Un=Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"})),Rn={id:"nologin-tieba",name:"免登录浏览",author:"锯条",version:"1.0",brief:"免登录浏览贴吧",description:"始终伪装为已登录状态，让免登录浏览和已登录基本一致",scope:["thread"],runAt:"DOMLoaded",entry:function(){if(PageData.user.is_login)return;PageData.user.is_login=1;}};const Hn=Object.freeze(Object.defineProperty({__proto__:null,default:Rn},Symbol.toStringTag,{value:"Module"})),qn={id:"notrans-emojis",name:"别动我的 emoji😠",author:"锯条",version:"1.0",brief:"拒绝替换我的 emoji",description:"原版贴吧会将部分emoji表情替换为旧版，该模块会让这些emoji重新跟随系统样式",scope:true,runAt:"afterHead",entry:function(){const t=new RegExp("(?<=nickemoji\\/).*?(?=.png)","gi"),o=["º","◎","▫","◆","♤","♀","♂","ლ","♬","☞","☜","✆","☎","♋","Ω","℃","℉","😄","😍","😘","😚","😜","😳","😁","😞","😢","😂","😫","😨","😱","😡","😷","😲","😈","🐷","🐶","🐑","🐵","🐨","🐴","🐼","🐯","🍪","🍺","🍦","🍭","🍗","🍼","🔯","🍒","👀","🐭","😇","😺","😻","🙀","😿","😹","😾","👹","👺","🌞","🌝","🌚","🌜","🌛","👦","👧","🎎","🌸","🍀","🌹","🌻","🌺","🍁","🌿","🍄","🌵","🌴","🌳","🌰","🌱","🌼","🌐","🌙","🌋","🌌","⛅","⚡","☔","⛄","🌀","🌈","🌊","🔥","✨","🌟","💥","💫","💢","💦","💧","💤","💨","🎀","🌂","💄","💕","💖","💞","💘","💌","💋","💝","🎒","🎓","🎏","🎃","👻","🎅","🎄","🎁","🙈","🐒","💯","👯","💍"],n=["1-1.png","1-2.png","1-4.png","1-5.png","1-6.png","1-7.png","1-8.png","1-9.png","1-10.png","1-11.png","1-12.png","1-13.png","1-14.png","1-15.png","1-16.png","1-17.png","1-18.png","1-19.png","1-20.png","1-21.png","1-22.png","1-23.png","1-24.png","1-25.png","1-26.png","1-27.png","1-28.png","1-29.png","1-30.png","1-31.png","1-32.png","1-33.png","1-34.png","1-35.png","2-1.png","2-2.png","2-3.png","2-4.png","2-5.png","2-6.png","2-7.png","2-8.png","2-9.png","2-10.png","2-11.png","2-12.png","2-13.png","2-14.png","2-15.png","2-16.png","2-17.png","2-18.png","2-19.png","2-20.png","2-21.png","2-22.png","2-23.png","2-24.png","2-25.png","2-26.png","2-27.png","2-28.png","2-29.png","2-30.png","2-31.png","2-32.png","2-33.png","2-34.png","2-35.png","3-1.png","3-2.png","3-3.png","3-4.png","3-5.png","3-6.png","3-7.png","3-8.png","3-9.png","3-10.png","3-11.png","3-12.png","3-13.png","3-14.png","3-15.png","3-16.png","3-17.png","3-18.png","3-19.png","3-20.png","3-21.png","3-22.png","3-23.png","3-24.png","3-25.png","3-26.png","3-27.png","3-28.png","3-29.png","3-30.png","3-31.png","3-32.png","3-33.png","3-34.png","3-35.png","4-1.png","4-2.png","4-3.png","4-4.png","4-5.png","4-6.png","4-7.png","4-8.png","4-9.png","4-10.png","4-11.png","4-12.png","4-13.png","4-14.png","4-15.png","4-16.png","4-17.png","4-18.png","4-19.png","4-20.png","4-21.png","4-22.png","4-23.png"];function r(e){const r=e.innerHTML.match(t);null==r||r.forEach((t=>{const r=o[n.indexOf(`${t}.png`)],a=e.innerHTML.split(RegExp(`<img[^>]*?${t}.png(?:[^>]*?)*>`,"g"));e.innerHTML=a.join(decodeURIComponent(r));}));}f.addEvent((()=>{try{e.forEach(xe("\n                .p_author_name:has(.nicknameEmoji),\n                .at:has(.nicknameEmoji),\n                .lzl_content_main:has(.nicknameEmoji)\n            ",[]),(e=>{r(e);}));}catch(t){e.forEach(xe(".p_author_name, .at, .lzl_content_main",[]),(t=>{e.includes(t.classList,"nicknameEmoji")&&r(t);}));}})),h.addEvent((()=>{try{e.forEach(xe("\n                .new_list .post_author:has(.nicknameEmoji),\n                .userinfo_username:has(.nicknameEmoji)\n            ",[]),(e=>{r(e);}));}catch(t){e.forEach(xe(".newlist .post_author, .userinfo_username",[]),(t=>{e.includes(t.classList,"nicknameEmoji")&&r(t);}));}})),_.addEvent((()=>{try{e.forEach(xe(".threadlist_author a:has(.nicknameEmoji)",[]),(e=>{r(e);}));}catch(t){e.forEach(xe(".threadlist_author a",[]),(t=>{e.includes(t.classList,"nicknameEmoji")&&r(t);}));}}));}};const Wn=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"})),Gn={id:"portal",name:"传送门",author:"锯条",version:"1.1.1",brief:"为贴子中的b站番号添加跳转链接",description:"该模块可以识别贴子中的 av/BV 号并将其转换为超链接",scope:["thread"],runAt:"immediately",entry:function(){const t="linked",o=new RegExp("(?<!:\\/\\/www.bilibili.com\\/video\\/)av[1-9]\\d*","gi"),n=new RegExp("(?<!:\\/\\/www.bilibili.com\\/video\\/)BV[A-Za-z0-9]{10}","g");function r(){function r(r){e.forEach(xe(r,[]),(r=>{var a,i,l,c;if(!r.classList.contains(t)){if(r.classList.add(t),-1!==(null==(a=r.textContent)?undefined:a.toLowerCase().indexOf("av"))){d((null==(i=r.textContent)?undefined:i.match(o))??undefined,true);}if(-1!==(null==(l=r.textContent)?undefined:l.indexOf("BV"))){d((null==(c=r.textContent)?undefined:c.match(n))??undefined);}}function d(t,o=false){if(!t)return;const n=[];e.forEach(t,(e=>{if(-1===n.indexOf(e)){n.push(e);const t=r.innerHTML.split(RegExp(`(?<!://www.bilibili.com/video/)${e}`,"g"));o&&(e=e.toLowerCase());const a=`<a href='https://www.bilibili.com/video/${e}' target='_blank'>${e}</a>`;r.innerHTML=t.join(a);}}));}}));}r(".d_post_content"),r(".lzl_cnt .lzl_content_main");}document.addEventListener("DOMContentLoaded",(()=>{f.addEvent(r);}));}};const Yn=Object.freeze(Object.defineProperty({__proto__:null,default:Gn},Symbol.toStringTag,{value:"Module"})),Jn={key:0,class:"menu-separator"},Kn={key:0,class:"icon"},Xn={class:"menu-title"},Qn={key:0,class:"menu-inner"},Zn=p(t.defineComponent({__name:"dropdown-menu",props:{menuItems:{},blurEffect:{type:Boolean}},emits:["RequestClose"],setup(e,{emit:o}){const n=e,r=o;return t.onMounted((()=>{setTimeout((()=>{window.addEventListener("click",(()=>{setTimeout((()=>{r("RequestClose");}),100);})),window.addEventListener("focusin",(e=>{Ce(e.target,"dropdown-menu")||r("RequestClose");}));}),100);})),(e,o)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["dropdown-menu",e.blurEffect?"blur-effect":""])},[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(n.menuItems,(e=>(t.openBlock(),t.createElementBlock(t.Fragment,null,["string"==typeof e?(t.openBlock(),t.createElementBlock("div",Jn)):(t.openBlock(),t.createBlock(s,{key:1,class:"menu-item","is-anchor":undefined!==e.href,href:e.href?e.href:"javascript:;",onClick:e.click,target:e.href?"_blank":"","no-border":""},{default:t.withCtx((()=>[e.icon?(t.openBlock(),t.createElementBlock("div",Kn,t.toDisplayString(e.icon),1)):t.createCommentVNode("",true),t.createElementVNode("div",Xn,[t.createTextVNode(t.toDisplayString(e.title)+" ",1),e.innerText?(t.openBlock(),t.createElementBlock("span",Qn,t.toDisplayString(e.innerText),1)):t.createCommentVNode("",true)])])),_:2},1032,["is-anchor","href","onClick","target"]))],64)))),256))],2))}}),[["__scopeId","data-v-f5c2af9e"]]),er={id:"fold-bar"},tr={id:"nav-container"},or={class:"left-container"},nr=["src"],rr={class:"right-container"},ar={class:"middle-container"},ir=p(t.defineComponent({__name:"nav-bar",props:{hideMode:{default:ne.get()}},setup(o){const n=o,r=t.ref(),a=t.ref(false),i=t.ref(),l=t.ref(""),c=t.ref({}),d=t.ref([]),u=t.ref([]);return async function(){await he((()=>undefined!==PageData)).then((()=>{l.value=PageData.user.portrait,c.value={"消息":[{title:"查看私信",href:"/im/pcmsg"},{title:"查看回复",href:`/i/sys/jump?u=${l.value}&type=replyme`},{title:"查看 @",href:`/i/sys/jump?u=${l.value}&type=atme`},"separator",{title:"查看好友申请",href:`/i/sys/jump?u=${l.value}&type=friendapply`},{title:"查看新粉丝",href:`/i/sys/jump?u=${l.value}&type=fans`},"separator",{title:"我的收藏",href:`/i/sys/jump?u=${l.value}&type=storethread`},{title:"我的通知",href:"/sysmsg/index?type=notity"}],"更多":[{title:"账号设置",href:"//passport.baidu.com/?center&tpl=tb&aid=6&default_tab=3#3,0"},{title:"贴吧设置",href:`/home/profile?un=${PageData.user.name_url}`},"separator",{title:"服务中心",href:"//tieba.baidu.com/pmc"},{title:"问题反馈",href:"//tieba.baidu.com/hermes/feedback"}]},d.value=[{title:"我的贴吧",href:`/home/main?id=${l.value}&fr=userbar`},{title:"我的收藏",href:`/i/sys/jump?un=${PageData.user.user_name}${PageData.user.name_url}&type=storethread&st_mod=userbar&fr=tb0_pb`}],PageData.user.is_login?d.value.push("separator",{title:"退出登录",click(){var e;const t=xe(".u_logout");t?null==(e=xe("a",t))||e.click():ce({message:"未检测到退出登录入口，请刷新重试。",type:"warning"});}}):d.value.push("separator",{title:"登录",click(){!async function(){const e=xe(".u_login"),t=xe("#TANGRAM__PSP_24__submit");function o(){var t;e?null==(t=xe("a",e))||t.click():n();}function n(){ce({message:"未检测到可用的登录入口，请刷新重试",type:"warning"});}t&&"positive"===await Me({title:"快速登录",content:"检测到快速登录入口，是否尝试直接登录？",type:"okCancel"})?t.click():o();}();}}),u.value=[{title:"脚本设置",click(){N(Ko);}},{title:"检查更新",click(){Fe(true);}},"separator",{title:"源代码仓库",innerText:"GitHub",href:$},{title:"源代码仓库",innerText:"Gitee",href:A},{title:"切换至 GreasyFork",href:"https://greasyfork.org/zh-CN/scripts/460113"}];}));const t=xe("#nav-bar");t&&e.forEach(xe(".menu-trigger",t,[]),(e=>{e.addEventListener("mousemove",(function(t){t.stopPropagation();const o=e.lastElementChild,n=e.getBoundingClientRect(),r=nt(o,{x:n.left+n.width/2,y:0},"middle");o.style.left=`${r.x}px`,o.style.top="48px";}));}));switch(n.hideMode){case "alwaysFold":a.value=true;break;case "fold":case "hideWhenScroll":{const t="fold"===n.hideMode?"fold":"hide",o=50,i=1e3;let l=window.scrollY,c=-1;const d=e.throttle((function(){var e,n;window.scrollY>l+o?(null==(e=r.value)||e.classList.add(t),a.value=true,clearTimeout(c)):window.scrollY<l-o?(null==(n=r.value)||n.classList.remove(t),a.value=false,clearTimeout(c)):(clearTimeout(c),c=setTimeout(d,i)),l=window.scrollY;}));window.addEventListener("scroll",d);break}}}(),t.onMounted((async function(){he((()=>""!==l.value)).then((function(){i.value&&(i.value.src=Ue.URL_profile(l.value));}));})),(e,o)=>(t.openBlock(),t.createElementBlock("nav",{ref_key:"navBar",ref:r,id:"nav-bar",class:t.normalizeClass(["nav-bar remove-default",{fold:"alwaysFold"===e.hideMode,"blur-effect":!t.unref(H).get().rasterEffect,"raster-effect":t.unref(H).get().rasterEffect,"fixed-on-top":"fixedOnTop"===e.hideMode}])},[t.withDirectives(t.createElementVNode("div",er,null,512),[[t.vShow,a.value]]),t.createElementVNode("div",tr,[t.createElementVNode("div",or,[t.createVNode(s,{class:"nav-button nav-title-container","is-anchor":"",href:"/","no-border":"all"},{default:t.withCtx((()=>[t.createElementVNode("img",{src:t.unref(Ie)("/assets/images/main/icon64.png"),alt:"",class:"nav-icon"},null,8,nr),o[0]||(o[0]=t.createElementVNode("p",{class:"nav-title"},"贴吧",-1))])),_:1})]),t.createElementVNode("div",rr,[t.createElementVNode("div",ar,[(t.openBlock(true),t.createElementBlock(t.Fragment,null,t.renderList(c.value,((e,o)=>(t.openBlock(),t.createBlock(s,{key:o,class:"menu-trigger middle-menu-trigger","no-border":"all"},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(o)+" ",1),t.createVNode(Zn,{class:"nav-menu","menu-items":e},null,8,["menu-items"])])),_:2},1024)))),128))]),t.createVNode(s,{class:"nav-button menu-trigger avatar-button","no-border":"all"},{default:t.withCtx((()=>[t.createElementVNode("img",{ref_key:"navAvatar",ref:i,class:"nav-avatar"},null,512),t.createVNode(Zn,{class:"nav-menu","menu-items":d.value},null,8,["menu-items"])])),_:1}),t.createVNode(s,{class:"nav-button menu-trigger menu-button","shadow-border":"","no-border":"all"},{default:t.withCtx((()=>[o[1]||(o[1]=t.createElementVNode("div",{class:"icon"},"menu",-1)),t.createVNode(Zn,{class:"nav-menu","menu-items":u.value},null,8,["menu-items"])])),_:1})])])],2))}}),[["__scopeId","data-v-6bc1f258"]]),lr="#com_userbar{display:none}";const cr={id:"remixed-theme",name:"Tieba Remix 主题",author:"锯条",version:"0.3",brief:"更现代的主题样式",description:"包含新的样式、昼夜主题及其自动切换等功能",scope:true,runAt:"immediately",entry:function(){((async function(){n(lr);const e=await we("#com_userbar");it(t.createVNode("div",{id:"nav-wrapper",class:"nav-wrapper"},null),document.body,e),E(ir,await we("#nav-wrapper"));}))(),w('.tbui_aside_float_bar{background-color:var(--very-light-background)!important}.tbui_aside_float_bar{bottom:20px;left:calc(50% + var(--content-max) / 2 + 20px);display:flex;overflow:hidden;width:-moz-max-content;width:max-content;flex-direction:column;border-radius:8px;margin-left:0;gap:4px;box-shadow:0 0 10px #00000003}html.dark-theme .tbui_aside_float_bar{box-shadow:0 0 16px #0003}[no-scrollbar] .tbui_aside_float_bar{left:calc(50% + var(--content-max) / 2 + 20px - var(--scrollbar-width) / 2)}.shrink-view .tbui_aside_float_bar{bottom:0;left:calc(100% - 40px)}[no-scrollbar].shrink-view .tbui_aside_float_bar{left:calc(100% - 40px - var(--scrollbar-width))}.tbui_aside_float_bar .tbui_aside_fbar_button{margin:0!important}.tbui_aside_float_bar .tbui_aside_fbar_button{border-radius:0;background-color:var(--default-background);transition:var(--default-duration)}.tbui_aside_float_bar .tbui_aside_fbar_button a{border-radius:0}.tbui_aside_float_bar .tbui_aside_fbar_button a:hover{color:var(--tieba-theme-color)}.tbui_aside_float_bar .tbui_aside_fbar_button a:active{color:var(--tieba-theme-fore)}.tbui_aside_float_bar .tbui_aside_fbar_button[style*="visibility: hidden"]{margin-top:-4px!important}.tbui_aside_float_bar .tbui_aside_fbar_button[style*="visibility: hidden"]{height:0}'),ke.push(".tbui_aside_float_bar .svg-container"),ke.push(".d_badge_bright .d_badge_lv, .user_level .badge_index"),ke.forEach((e=>{x(e,{opacity:"0"});})),j(),document.addEventListener("DOMContentLoaded",(()=>{xe(".post-tail-wrap .icon-jubao",[]).forEach((e=>{e.removeAttribute("src"),e.after("举报");})),b.addEvent((()=>{xe(".d_badge_lv",[]).forEach((e=>{if(""===e.textContent){let t=e;for(;!t.classList.contains("l_badge");)t.parentElement&&(t=t.parentElement);t.style.display="none";}}));}));})),window.addEventListener("load",(()=>{Ne(".tbui_aside_float_bar .svg-container"),b.addEvent((()=>{const t="tieba-lvl-",o=`${t}green`,n=`${t}blue`,r=`${t}yellow`,a=`${t}orange`;xe(".d_badge_bawu1 .d_badge_lv, .d_badge_bawu2 .d_badge_lv, .badge_index",[]).forEach((i=>{if(-1!==i.className.indexOf(t))return;const l=parseInt(e.defaults(i.textContent,"0"));l>=1&&l<=3?i.classList.add(o):l>=4&&l<=9?i.classList.add(n):l>=10&&l<=15?i.classList.add(r):l>=16&&i.classList.add(a);})),Ne(".d_badge_bright .d_badge_lv, .user_level .badge_index");}));}));}};const dr=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),sr={id:"tieba-tags",name:"楼中楼标签",author:"锯条",version:"2.0.1",brief:"优化楼中楼浏览体验",description:"为楼中楼的楼主、层主等用户添加特殊标签",scope:["thread"],runAt:"loaded",entry:function(){const t="is-tagged",o=PageData.thread.author,n=PageData.user.portrait,r=PageData.user.user_name;let a=i(document);function i(t){const o=t.getElementsByClassName("j_louzhubiaoshi");if(o.length>0){const t=Ce(o[0],"l_post_bright");if(t){const o=t.getAttribute("data-field");if(o){const t=JSON.parse(o);return e.split(t.author.portrait,"?")[0]}}}}function l(){function i(e,t){e.appendChild(Ve("div",{class:`tag-elem ${t}`}));}e.forEach(xe(".lzl_cnt .at",[]),(l=>{if(l.classList.contains(t))return;l.classList.add(t);let c=false,d=false;const s=l.getAttribute("username");if(u(r,n)&&(d=true,i(l,"tieba-tags-me")),d||u(o,a)&&(c=true,i(l,"tieba-tags-lz")),!d&&!c){const e=Ce(l,"l_post_bright");if(e){const t=e.getElementsByClassName("p_author_name")[0].textContent;t&&l.textContent===t&&i(l,"tieba-tags-cz");}}function u(t,o){if(s===t&&""!==t)return  true;if(-1!==e.indexOf([""," "],s)){const e=l.getAttribute("portrait");if(!e||!o)return n();if(e===o)return  true}else if(!s)return n();return  false;function n(){const e=l.getAttribute("data-field");if(e){const n=JSON.parse(e.replace(/'/g,'"'));if(o){if(n.id===o)return  true}else if(n.un===t)return  true}return  false}}}));}(async()=>{if(!a){const e=await fetch(location.href.split("?")[0],{mode:"cors",credentials:"include"});e.ok&&await e.text().then((e=>{const t=(new DOMParser).parseFromString(e,"text/html");a=i(t);}));}})().then((()=>{f.addEvent(l);}));}};const ur=Object.freeze(Object.defineProperty({__proto__:null,default:sr},Symbol.toStringTag,{value:"Module"})),pr={id:"toolkit",name:"实用工具库",author:"锯条",version:"1.1",brief:"优化原版贴吧体验的一组功能",description:"这是一个轻量级的工具库，包含了诸如自动展开长图等实用功能。",scope:true,runAt:"immediately",settings:{autoExpand:{title:"自动展开长图",widgets:[{type:"toggle",content:"该功能会自动将帖子中所有的长图片自动展开，无需手动操作",init:()=>gr.get().autoExpand,event(){gr.merge({autoExpand:!gr.get().autoExpand});}}]},reloadAvatars:{title:"重新加载错误头像",widgets:[{type:"toggle",content:"原版贴吧的帖子页面时常会出现加载失败的头像，本功能可以将这些无法正常显示的头像资源链接到正常的 URL",init:()=>gr.get().reloadAvatars,event(){gr.merge({reloadAvatars:!gr.get().reloadAvatars});}}]}},entry:function(){for(const e in mr){const t=e;gr.get()[t]&&mr[t]();}}},mr={autoExpand(){b.addEvent((()=>{e.forEach(xe(".replace_tip",[]),(e=>{e.click();}));}));},reloadAvatars(){const t=new IntersectionObserver((function(t){e.forEach(t,(e=>{if(e.isIntersecting){const t=e.target;if(!t.complete)return;if(t.naturalWidth>0)t.setAttribute("data-loaded","");else {const e=Ce(t,"j_user_card");if(!e)return;const o=e.getAttribute("data-field");if(!o)return;const n=JSON.parse(o.replaceAll(/'/g,'"')).id;t.src=Ue.URL_profile(n),t.setAttribute("data-loaded","");}}}));}),{threshold:0});f.addEvent((function(){xe(".lzl_single_post img:not(.BDE_Smiley, [data-loaded])",[]).forEach((e=>t.observe(e)));}));}},gr=new I("toolkitToggles",{autoExpand:true,reloadAvatars:true}),br=Object.freeze(Object.defineProperty({__proto__:null,default:pr},Symbol.toStringTag,{value:"Module"}));}(_,Vue,marked);

})();